<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://github.com/hferee/UIML">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
      <a href="./demo.html"> Demo </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">ISL.Order</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="ISL.Environments.html#"><span class="id" title="library">ISL.Environments</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;Note&nbsp;3&nbsp;or&nbsp;4&nbsp;would&nbsp;suffice&nbsp;for&nbsp;IPC&nbsp;;&nbsp;iSL&nbsp;requires&nbsp;5&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="env_weight" class="idref" href="#env_weight"><span class="id" title="definition">env_weight</span></a> (<a id="454330da0f56a2416dd22d7f96feb974" class="idref" href="#454330da0f56a2416dd22d7f96feb974"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>) := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#list_sum"><span class="id" title="definition">list_sum</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:2" class="idref" href="#x:2"><span class="id" title="binder">x</span></a> =&gt; 5<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a> <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="ISL.Order.html#x:2"><span class="id" title="variable">x</span></a>) (<span class="id" title="definition">elements</span> <a class="idref" href="ISL.Order.html#454330da0f56a2416dd22d7f96feb974"><span class="id" title="variable">Γ</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_weight_disj_union" class="idref" href="#env_weight_disj_union"><span class="id" title="lemma">env_weight_disj_union</span></a> <a id="55485d85e29df2faa6748490a2d4cd13" class="idref" href="#55485d85e29df2faa6748490a2d4cd13"><span class="id" title="binder">Γ</span></a> <a id="da6ca2c01a250c64cd5274c398b7e0e7" class="idref" href="#da6ca2c01a250c64cd5274c398b7e0e7"><span class="id" title="binder">Δ</span></a> : <a class="idref" href="ISL.Order.html#env_weight"><span class="id" title="definition">env_weight</span></a> (<span class="id" title="definition">disj_union</span> <a class="idref" href="ISL.Order.html#55485d85e29df2faa6748490a2d4cd13"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Order.html#da6ca2c01a250c64cd5274c398b7e0e7"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Order.html#env_weight"><span class="id" title="definition">env_weight</span></a> <a class="idref" href="ISL.Order.html#55485d85e29df2faa6748490a2d4cd13"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>  <a class="idref" href="ISL.Order.html#env_weight"><span class="id" title="definition">env_weight</span></a> <a class="idref" href="ISL.Order.html#da6ca2c01a250c64cd5274c398b7e0e7"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="ISL.Order.html#env_weight"><span class="id" title="definition">env_weight</span></a>.<br/>
<span class="id" title="tactic">assert</span> (<span class="id" title="var">Heq</span> := <span class="id" title="lemma">gmultiset_elements_disj_union</span> <span class="id" title="var">Γ</span> <span class="id" title="var">Δ</span>).<br/>
<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Sorting.Permutation.html#Permutation_map"><span class="id" title="lemma">Permutation_map</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:5" class="idref" href="#x:5"><span class="id" title="binder"><span id="x:6" class="id">x</span></span></a> : <a class="idref" href="ISL.Formulas.html#form"><span class="id" title="inductive">form</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> 5 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a> <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="ISL.Order.html#x:5"><span class="id" title="variable">x</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Sorting.Permutation.html#Permutation_list_sum"><span class="id" title="instance">Permutation_list_sum</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#list_sum_app"><span class="id" title="lemma">list_sum_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">Heq</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_weight_add" class="idref" href="#env_weight_add"><span class="id" title="lemma">env_weight_add</span></a> <a id="de9bdb4e9c2be34cf9b5e2f20d66b06e" class="idref" href="#de9bdb4e9c2be34cf9b5e2f20d66b06e"><span class="id" title="binder">Γ</span></a> <a id="ff6bfbc9a0c453784b0bcccf32874e12" class="idref" href="#ff6bfbc9a0c453784b0bcccf32874e12"><span class="id" title="binder">φ</span></a> : <a class="idref" href="ISL.Order.html#env_weight"><span class="id" title="definition">env_weight</span></a> (<a class="idref" href="ISL.Order.html#de9bdb4e9c2be34cf9b5e2f20d66b06e"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Order.html#ff6bfbc9a0c453784b0bcccf32874e12"><span class="id" title="variable">φ</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Order.html#env_weight"><span class="id" title="definition">env_weight</span></a> <a class="idref" href="ISL.Order.html#de9bdb4e9c2be34cf9b5e2f20d66b06e"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>  <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a>5 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a> <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="ISL.Order.html#ff6bfbc9a0c453784b0bcccf32874e12"><span class="id" title="variable">φ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Order.html#env_weight_disj_union"><span class="id" title="lemma">env_weight_disj_union</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ISL.Order.html#env_weight"><span class="id" title="definition">env_weight</span></a> <span class="id" title="tactic">at</span> 2.<br/>
<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">gmultiset_elements_singleton</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Hint Rewrite</span> <a class="idref" href="ISL.Order.html#env_weight_add"><span class="id" title="lemma">env_weight_add</span></a> : <span class="id" title="var">order</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="env_order" class="idref" href="#env_order"><span class="id" title="definition">env_order</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.Wf_nat.html#ltof"><span class="id" title="definition">ltof</span></a> <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="ISL.Order.html#env_weight"><span class="id" title="definition">env_weight</span></a>.<br/>
<span class="id" title="keyword">Infix</span> <a id="e87830648f12945c0aeb4eaf8e8aac32" class="idref" href="#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">&quot;</span></a>≺" := <a class="idref" href="ISL.Order.html#env_order"><span class="id" title="definition">env_order</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 150).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_weight_singleton" class="idref" href="#env_weight_singleton"><span class="id" title="lemma">env_weight_singleton</span></a> (<a id="d0ef999d5cf1ae64cfccc412cd27a7cb" class="idref" href="#d0ef999d5cf1ae64cfccc412cd27a7cb"><span class="id" title="binder">φ</span></a> : <a class="idref" href="ISL.Formulas.html#form"><span class="id" title="inductive">form</span></a>) : <a class="idref" href="ISL.Order.html#env_weight"><span class="id" title="definition">env_weight</span></a> <span class="id" title="notation">{[</span> <a class="idref" href="ISL.Order.html#d0ef999d5cf1ae64cfccc412cd27a7cb"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 5 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a> <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="ISL.Order.html#d0ef999d5cf1ae64cfccc412cd27a7cb"><span class="id" title="variable">φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="ISL.Order.html#env_weight"><span class="id" title="definition">env_weight</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.Wf_nat.html#ltof"><span class="id" title="definition">ltof</span></a>.<br/>
<span class="id" title="tactic">replace</span> (<span class="id" title="definition">elements</span> <span class="id" title="notation">{[</span> φ <span class="id" title="notation">]}</span>) <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a>φ<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="lemma">gmultiset_elements_singleton</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_order_singleton" class="idref" href="#env_order_singleton"><span class="id" title="lemma">env_order_singleton</span></a> (<a id="ec4b304ddf42d851d75fca6932b4d645" class="idref" href="#ec4b304ddf42d851d75fca6932b4d645"><span class="id" title="binder">φ</span></a> <a id="047a8d8efdaac6d7e4669a72e7e6442f" class="idref" href="#047a8d8efdaac6d7e4669a72e7e6442f"><span class="id" title="binder">ψ</span></a> : <a class="idref" href="ISL.Formulas.html#form"><span class="id" title="inductive">form</span></a>) : <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="ISL.Order.html#ec4b304ddf42d851d75fca6932b4d645"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="ISL.Order.html#047a8d8efdaac6d7e4669a72e7e6442f"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="notation">{[+</span> <a class="idref" href="ISL.Order.html#ec4b304ddf42d851d75fca6932b4d645"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">+]}</span><a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <span class="id" title="notation">{[+</span> <a class="idref" href="ISL.Order.html#047a8d8efdaac6d7e4669a72e7e6442f"><span class="id" title="variable">ψ</span></a> <span class="id" title="notation">+]}</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hw</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ISL.Order.html#env_order"><span class="id" title="definition">env_order</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.Wf_nat.html#ltof"><span class="id" title="definition">ltof</span></a>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Order.html#env_weight_singleton"><span class="id" title="lemma">env_weight_singleton</span></a>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.pow_lt_mono_r"><span class="id" title="lemma">Nat.pow_lt_mono_r</span></a>. <span class="id" title="var">lia</span>. <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="18cb969368e82052920d9ba5707bb97c" class="idref" href="#18cb969368e82052920d9ba5707bb97c"><span class="id" title="notation">&quot;</span></a>Δ ≼ Δ'" := (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><span class="id" title="var">Δ</span> <a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <span class="id" title="var">Δ'</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <span class="id" title="var">Δ</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">Δ'</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 150).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_le_weight" class="idref" href="#env_le_weight"><span class="id" title="lemma">env_le_weight</span></a> <a id="4486f22a746bf7e8d11c811eaad4efd7" class="idref" href="#4486f22a746bf7e8d11c811eaad4efd7"><span class="id" title="binder">Δ</span></a> <a id="f8867afcc2b429628f50571046fee966" class="idref" href="#f8867afcc2b429628f50571046fee966"><span class="id" title="binder">Δ'</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Order.html#f8867afcc2b429628f50571046fee966"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="ISL.Order.html#18cb969368e82052920d9ba5707bb97c"><span class="id" title="notation">≼</span></a> <a class="idref" href="ISL.Order.html#4486f22a746bf7e8d11c811eaad4efd7"><span class="id" title="variable">Δ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Order.html#env_weight"><span class="id" title="definition">env_weight</span></a> <a class="idref" href="ISL.Order.html#f8867afcc2b429628f50571046fee966"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="ISL.Order.html#env_weight"><span class="id" title="definition">env_weight</span></a> <a class="idref" href="ISL.Order.html#4486f22a746bf7e8d11c811eaad4efd7"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="ISL.Order.html#env_order"><span class="id" title="definition">env_order</span></a>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">Hle</span> | <span class="id" title="var">Heq</span>].<br/>
- <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *.<br/>
- <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">env_le_weight</span> : <span class="id" title="var">order</span>.<br/>

<br/>
<span class="id" title="keyword">Global Hint Unfold</span> <a class="idref" href="ISL.Formulas.html#form_order"><span class="id" title="definition">form_order</span></a> : <span class="id" title="var">mset</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="env_order_trans" class="idref" href="#env_order_trans"><span class="id" title="instance">env_order_trans</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Classes.RelationClasses.html#Transitive"><span class="id" title="class">Transitive</span></a> <a class="idref" href="ISL.Order.html#env_order"><span class="id" title="definition">env_order</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ISL.Order.html#env_order"><span class="id" title="definition">env_order</span></a>, <a class="idref" href="ISL.Order.html#env_weight"><span class="id" title="definition">env_weight</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.Wf_nat.html#ltof"><span class="id" title="definition">ltof</span></a>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="wf_env_order" class="idref" href="#wf_env_order"><span class="id" title="definition">wf_env_order</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a> <a class="idref" href="ISL.Order.html#env_order"><span class="id" title="definition">env_order</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.Wf_nat.html#well_founded_lt_compat"><span class="id" title="lemma">well_founded_lt_compat</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="ISL.Order.html#env_weight"><span class="id" title="definition">env_weight</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;We&nbsp;introduce&nbsp;a&nbsp;notion&nbsp;of&nbsp;"pointed"&nbsp;environment,&nbsp;which&nbsp;is&nbsp;simply<br/>
&nbsp;*&nbsp;a&nbsp;pair&nbsp;(Δ,&nbsp;φ),&nbsp;where&nbsp;Δ&nbsp;is&nbsp;an&nbsp;environment&nbsp;and&nbsp;φ&nbsp;is&nbsp;a&nbsp;formula,<br/>
&nbsp;*&nbsp;not&nbsp;necessarily&nbsp;an&nbsp;element&nbsp;of&nbsp;Δ.&nbsp;&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="pointed_env" class="idref" href="#pointed_env"><span class="id" title="definition">pointed_env</span></a> := (<a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ISL.Formulas.html#form"><span class="id" title="inductive">form</span></a>)%<span class="id" title="keyword">type</span>.<br/>

<br/>
<span class="comment">(*&nbsp;The&nbsp;order&nbsp;on&nbsp;pointed&nbsp;environments&nbsp;is&nbsp;given&nbsp;by&nbsp;considering&nbsp;the<br/>
&nbsp;*&nbsp;environment&nbsp;order&nbsp;on&nbsp;the&nbsp;sum&nbsp;of&nbsp;Δ&nbsp;and&nbsp;{φ}.&nbsp;*)</span><br/>
&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;modified&nbsp;from&nbsp;G4IP&nbsp;:&nbsp;right-hand&nbsp;side&nbsp;counts&nbsp;twice,&nbsp;to&nbsp;account&nbsp;for&nbsp;the&nbsp;right&nbsp;box&nbsp;rule.&nbsp;Is&nbsp;this&nbsp;working?&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="pointed_env_order" class="idref" href="#pointed_env_order"><span class="id" title="definition">pointed_env_order</span></a> (<a id="pe1:14" class="idref" href="#pe1:14"><span class="id" title="binder">pe1</span></a> : <a class="idref" href="ISL.Order.html#pointed_env"><span class="id" title="definition">pointed_env</span></a>) (<a id="pe2:15" class="idref" href="#pe2:15"><span class="id" title="binder">pe2</span></a> : <a class="idref" href="ISL.Order.html#pointed_env"><span class="id" title="definition">pointed_env</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="ISL.Order.html#env_order"><span class="id" title="definition">env_order</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="ISL.Order.html#pe1:14"><span class="id" title="variable">pe1</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ISL.Order.html#pe1:14"><span class="id" title="variable">pe1</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ISL.Order.html#pe1:14"><span class="id" title="variable">pe1</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="ISL.Order.html#pe2:15"><span class="id" title="variable">pe2</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ISL.Order.html#pe2:15"><span class="id" title="variable">pe2</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a>  <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ISL.Order.html#pe2:15"><span class="id" title="variable">pe2</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wf_pointed_order" class="idref" href="#wf_pointed_order"><span class="id" title="lemma">wf_pointed_order</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a> <a class="idref" href="ISL.Order.html#pointed_env_order"><span class="id" title="definition">pointed_env_order</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.Wf_nat.html#well_founded_ltof"><span class="id" title="lemma">well_founded_ltof</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Infix</span> <a id="76364ed22a942cd0c08a3d02d3963dec" class="idref" href="#76364ed22a942cd0c08a3d02d3963dec"><span class="id" title="notation">&quot;</span></a>≺·" := <a class="idref" href="ISL.Order.html#pointed_env_order"><span class="id" title="definition">pointed_env_order</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 150).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_order_equiv_right_compat" class="idref" href="#env_order_equiv_right_compat"><span class="id" title="lemma">env_order_equiv_right_compat</span></a> {<a id="f5ddf4e5d97f392810d7e18338a1aed6" class="idref" href="#f5ddf4e5d97f392810d7e18338a1aed6"><span class="id" title="binder">Δ</span></a> <a id="cd47842c8bd46193b56f21360bd227f9" class="idref" href="#cd47842c8bd46193b56f21360bd227f9"><span class="id" title="binder">Δ'</span></a> <a id="eb93d3cfc26e3ff33871423f0ffd0900" class="idref" href="#eb93d3cfc26e3ff33871423f0ffd0900"><span class="id" title="binder">Δ''</span></a> : <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>}:<br/>
&nbsp;&nbsp;<a class="idref" href="ISL.Order.html#cd47842c8bd46193b56f21360bd227f9"><span class="id" title="variable">Δ'</span></a> <span class="id" title="notation">≡</span> <a class="idref" href="ISL.Order.html#eb93d3cfc26e3ff33871423f0ffd0900"><span class="id" title="variable">Δ''</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Order.html#f5ddf4e5d97f392810d7e18338a1aed6"><span class="id" title="variable">Δ</span></a> <a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="ISL.Order.html#eb93d3cfc26e3ff33871423f0ffd0900"><span class="id" title="variable">Δ''</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ISL.Order.html#f5ddf4e5d97f392810d7e18338a1aed6"><span class="id" title="variable">Δ</span></a> <a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="ISL.Order.html#cd47842c8bd46193b56f21360bd227f9"><span class="id" title="variable">Δ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">ms</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_order_equiv_left_compat" class="idref" href="#env_order_equiv_left_compat"><span class="id" title="lemma">env_order_equiv_left_compat</span></a> {<a id="d64880f3ffaeeca885046d3f9bc5cd33" class="idref" href="#d64880f3ffaeeca885046d3f9bc5cd33"><span class="id" title="binder">Δ</span></a> <a id="e273140674fe544f680570970fb09272" class="idref" href="#e273140674fe544f680570970fb09272"><span class="id" title="binder">Δ'</span></a> <a id="334efcdff11af2cb30875cd1a4d60aad" class="idref" href="#334efcdff11af2cb30875cd1a4d60aad"><span class="id" title="binder">Δ''</span></a> : <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>}:<br/>
&nbsp;&nbsp;<a class="idref" href="ISL.Order.html#d64880f3ffaeeca885046d3f9bc5cd33"><span class="id" title="variable">Δ</span></a> <span class="id" title="notation">≡</span> <a class="idref" href="ISL.Order.html#334efcdff11af2cb30875cd1a4d60aad"><span class="id" title="variable">Δ''</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Order.html#334efcdff11af2cb30875cd1a4d60aad"><span class="id" title="variable">Δ''</span></a> <a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="ISL.Order.html#e273140674fe544f680570970fb09272"><span class="id" title="variable">Δ'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ISL.Order.html#d64880f3ffaeeca885046d3f9bc5cd33"><span class="id" title="variable">Δ</span></a> <a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="ISL.Order.html#e273140674fe544f680570970fb09272"><span class="id" title="variable">Δ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">ms</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="Proper_env_order" class="idref" href="#Proper_env_order"><span class="id" title="instance">Proper_env_order</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="notation">(≡@{</span><a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a><span class="id" title="notation">})</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(≡@{</span><a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a><span class="id" title="notation">})</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <a id="x:22" class="idref" href="#x:22"><span class="id" title="binder">x</span></a> <a id="y:23" class="idref" href="#y:23"><span class="id" title="binder">y</span></a> =&gt; <a class="idref" href="ISL.Order.html#x:22"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="ISL.Order.html#y:23"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a>) <a class="idref" href="ISL.Order.html#env_order"><span class="id" title="definition">env_order</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Δ1</span> <span class="id" title="var">Δ2</span> <span class="id" title="var">H12</span> <span class="id" title="var">Δ3</span> <span class="id" title="var">Δ4</span> <span class="id" title="var">H34</span>; <span class="id" title="var">ms</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_order_1" class="idref" href="#env_order_1"><span class="id" title="lemma">env_order_1</span></a>  <a id="64bb63c1bf688d4964b97da2c0898b2a" class="idref" href="#64bb63c1bf688d4964b97da2c0898b2a"><span class="id" title="binder">Δ</span></a> <a id="9bfb93bdc72b8b6b56f4f22275df33cc" class="idref" href="#9bfb93bdc72b8b6b56f4f22275df33cc"><span class="id" title="binder">φ1</span></a> <a id="41fb38ac3e798fe26905834c105e239c" class="idref" href="#41fb38ac3e798fe26905834c105e239c"><span class="id" title="binder">φ</span></a> : <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="ISL.Order.html#9bfb93bdc72b8b6b56f4f22275df33cc"><span class="id" title="variable">φ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="ISL.Order.html#41fb38ac3e798fe26905834c105e239c"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Order.html#64bb63c1bf688d4964b97da2c0898b2a"><span class="id" title="variable">Δ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Order.html#9bfb93bdc72b8b6b56f4f22275df33cc"><span class="id" title="variable">φ1</span></a> <a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="ISL.Order.html#64bb63c1bf688d4964b97da2c0898b2a"><span class="id" title="variable">Δ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Order.html#41fb38ac3e798fe26905834c105e239c"><span class="id" title="variable">φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">Hw</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ISL.Order.html#env_order"><span class="id" title="definition">env_order</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.Wf_nat.html#ltof"><span class="id" title="definition">ltof</span></a>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Order.html#env_weight_add"><span class="id" title="lemma">env_weight_add</span></a>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_lt_mono_l"><span class="id" title="lemma">Nat.add_lt_mono_l</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.pow_lt_mono_r"><span class="id" title="lemma">Nat.pow_lt_mono_r</span></a>. <span class="id" title="var">lia</span>. <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local Hint Resolve</span> <span class="id" title="var">Nat.pow_lt_mono_r</span> : <span class="id" title="var">order</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_order_compat" class="idref" href="#env_order_compat"><span class="id" title="lemma">env_order_compat</span></a>  <a id="e16daab72ef6c21d074ef6277b74adeb" class="idref" href="#e16daab72ef6c21d074ef6277b74adeb"><span class="id" title="binder">Δ</span></a> <a id="127978e31c29bd77a05360279b9aac32" class="idref" href="#127978e31c29bd77a05360279b9aac32"><span class="id" title="binder">Δ'</span></a> <a id="5faf077e59e98248d5a53078fcd6fd49" class="idref" href="#5faf077e59e98248d5a53078fcd6fd49"><span class="id" title="binder">φ1</span></a> <a id="33c066d1e6b296e2606e1d62c300d1f1" class="idref" href="#33c066d1e6b296e2606e1d62c300d1f1"><span class="id" title="binder">φ</span></a> : <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="ISL.Order.html#5faf077e59e98248d5a53078fcd6fd49"><span class="id" title="variable">φ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="ISL.Order.html#33c066d1e6b296e2606e1d62c300d1f1"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Order.html#127978e31c29bd77a05360279b9aac32"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="ISL.Order.html#18cb969368e82052920d9ba5707bb97c"><span class="id" title="notation">≼</span></a> <a class="idref" href="ISL.Order.html#e16daab72ef6c21d074ef6277b74adeb"><span class="id" title="variable">Δ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Order.html#127978e31c29bd77a05360279b9aac32"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Order.html#5faf077e59e98248d5a53078fcd6fd49"><span class="id" title="variable">φ1</span></a> <a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="ISL.Order.html#e16daab72ef6c21d074ef6277b74adeb"><span class="id" title="variable">Δ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Order.html#33c066d1e6b296e2606e1d62c300d1f1"><span class="id" title="variable">φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ISL.Order.html#env_order"><span class="id" title="definition">env_order</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.Wf_nat.html#ltof"><span class="id" title="definition">ltof</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Order.html#env_weight_add"><span class="id" title="lemma">env_weight_add</span></a>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_le_lt_mono"><span class="id" title="lemma">Nat.add_le_lt_mono</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">env_order_compat</span> : <span class="id" title="var">order</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_order_add_compat" class="idref" href="#env_order_add_compat"><span class="id" title="lemma">env_order_add_compat</span></a> <a id="2b16989673e144550fc6bd78bb47b5f6" class="idref" href="#2b16989673e144550fc6bd78bb47b5f6"><span class="id" title="binder">Δ</span></a> <a id="ded9a384764695f94676e56b50cb1383" class="idref" href="#ded9a384764695f94676e56b50cb1383"><span class="id" title="binder">Δ'</span></a> <a id="b0bb32d01f678d17055964f3e3249188" class="idref" href="#b0bb32d01f678d17055964f3e3249188"><span class="id" title="binder">φ</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Order.html#2b16989673e144550fc6bd78bb47b5f6"><span class="id" title="variable">Δ</span></a> <a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="ISL.Order.html#ded9a384764695f94676e56b50cb1383"><span class="id" title="variable">Δ'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Order.html#2b16989673e144550fc6bd78bb47b5f6"><span class="id" title="variable">Δ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Order.html#b0bb32d01f678d17055964f3e3249188"><span class="id" title="variable">φ</span></a><a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Order.html#ded9a384764695f94676e56b50cb1383"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Order.html#b0bb32d01f678d17055964f3e3249188"><span class="id" title="variable">φ</span></a><a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="ISL.Order.html#env_order"><span class="id" title="definition">env_order</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.Wf_nat.html#ltof"><span class="id" title="definition">ltof</span></a>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Order.html#env_weight_add"><span class="id" title="lemma">env_weight_add</span></a>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO:&nbsp;this&nbsp;is&nbsp;just&nbsp;a&nbsp;special&nbsp;case&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="env_order_disj_union_compat_left" class="idref" href="#env_order_disj_union_compat_left"><span class="id" title="lemma">env_order_disj_union_compat_left</span></a> <a id="aa433282953bfe1853d4096d66b72ef4" class="idref" href="#aa433282953bfe1853d4096d66b72ef4"><span class="id" title="binder">Δ</span></a> <a id="2f6754d2f95e29b07fd237f9b0464bee" class="idref" href="#2f6754d2f95e29b07fd237f9b0464bee"><span class="id" title="binder">Δ'</span></a> <a id="b4339fdd36d4d8b5825cd85b6ef15c13" class="idref" href="#b4339fdd36d4d8b5825cd85b6ef15c13"><span class="id" title="binder">Δ''</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Order.html#aa433282953bfe1853d4096d66b72ef4"><span class="id" title="variable">Δ</span></a> <a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="ISL.Order.html#b4339fdd36d4d8b5825cd85b6ef15c13"><span class="id" title="variable">Δ''</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Order.html#aa433282953bfe1853d4096d66b72ef4"><span class="id" title="variable">Δ</span></a> <span class="id" title="notation">⊎</span> <a class="idref" href="ISL.Order.html#2f6754d2f95e29b07fd237f9b0464bee"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="ISL.Order.html#b4339fdd36d4d8b5825cd85b6ef15c13"><span class="id" title="variable">Δ''</span></a> <span class="id" title="notation">⊎</span> <a class="idref" href="ISL.Order.html#2f6754d2f95e29b07fd237f9b0464bee"><span class="id" title="variable">Δ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="ISL.Order.html#env_order"><span class="id" title="definition">env_order</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.Wf_nat.html#ltof"><span class="id" title="definition">ltof</span></a>. <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Order.html#env_weight_disj_union"><span class="id" title="lemma">env_weight_disj_union</span></a>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_order_disj_union_compat_right" class="idref" href="#env_order_disj_union_compat_right"><span class="id" title="lemma">env_order_disj_union_compat_right</span></a> <a id="77e0d0de3367d6e853ec4390bc2e7dbf" class="idref" href="#77e0d0de3367d6e853ec4390bc2e7dbf"><span class="id" title="binder">Δ</span></a> <a id="bfd76cec294ca6d1e7beb6ea9598aa33" class="idref" href="#bfd76cec294ca6d1e7beb6ea9598aa33"><span class="id" title="binder">Δ'</span></a> <a id="a44784546ea69b87bde7f029bdd8fc61" class="idref" href="#a44784546ea69b87bde7f029bdd8fc61"><span class="id" title="binder">Δ''</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Order.html#77e0d0de3367d6e853ec4390bc2e7dbf"><span class="id" title="variable">Δ</span></a> <a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="ISL.Order.html#a44784546ea69b87bde7f029bdd8fc61"><span class="id" title="variable">Δ''</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Order.html#bfd76cec294ca6d1e7beb6ea9598aa33"><span class="id" title="variable">Δ'</span></a> <span class="id" title="notation">⊎</span> <a class="idref" href="ISL.Order.html#77e0d0de3367d6e853ec4390bc2e7dbf"><span class="id" title="variable">Δ</span></a> <a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="ISL.Order.html#bfd76cec294ca6d1e7beb6ea9598aa33"><span class="id" title="variable">Δ'</span></a> <span class="id" title="notation">⊎</span> <a class="idref" href="ISL.Order.html#a44784546ea69b87bde7f029bdd8fc61"><span class="id" title="variable">Δ''</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="ISL.Order.html#Proper_env_order"><span class="id" title="instance">Proper_env_order</span></a>  <span class="id" title="var">_</span> (<span class="id" title="var">Δ</span> <span class="id" title="notation">⊎</span> <span class="id" title="var">Δ'</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">Δ''</span> <span class="id" title="notation">⊎</span> <span class="id" title="var">Δ'</span>)) . <span class="id" title="var">ms</span>.<br/>
<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Order.html#env_order_disj_union_compat_left"><span class="id" title="lemma">env_order_disj_union_compat_left</span></a>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">ms</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_order_disj_union_compat" class="idref" href="#env_order_disj_union_compat"><span class="id" title="lemma">env_order_disj_union_compat</span></a> <a id="132798b8acac29be931b8af59d1aecf3" class="idref" href="#132798b8acac29be931b8af59d1aecf3"><span class="id" title="binder">Δ</span></a> <a id="546229e37356dc55e9fecb40883583fc" class="idref" href="#546229e37356dc55e9fecb40883583fc"><span class="id" title="binder">Δ'</span></a> <a id="b6355bb44cab964f34bbf8310a006f05" class="idref" href="#b6355bb44cab964f34bbf8310a006f05"><span class="id" title="binder">Δ''</span></a> <a id="2d3cac23dbbe7538f287aee6016730a3" class="idref" href="#2d3cac23dbbe7538f287aee6016730a3"><span class="id" title="binder">Δ'''</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Order.html#132798b8acac29be931b8af59d1aecf3"><span class="id" title="variable">Δ</span></a> <a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="ISL.Order.html#b6355bb44cab964f34bbf8310a006f05"><span class="id" title="variable">Δ''</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Order.html#546229e37356dc55e9fecb40883583fc"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="ISL.Order.html#2d3cac23dbbe7538f287aee6016730a3"><span class="id" title="variable">Δ'''</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Order.html#132798b8acac29be931b8af59d1aecf3"><span class="id" title="variable">Δ</span></a> <span class="id" title="notation">⊎</span> <a class="idref" href="ISL.Order.html#546229e37356dc55e9fecb40883583fc"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="ISL.Order.html#b6355bb44cab964f34bbf8310a006f05"><span class="id" title="variable">Δ''</span></a> <span class="id" title="notation">⊎</span> <a class="idref" href="ISL.Order.html#2d3cac23dbbe7538f287aee6016730a3"><span class="id" title="variable">Δ'''</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="tactic">transitivity</span> (<span class="id" title="var">Δ</span>  <span class="id" title="notation">⊎</span> <span class="id" title="var">Δ'''</span>).<br/>
- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Order.html#env_order_disj_union_compat_right"><span class="id" title="lemma">env_order_disj_union_compat_right</span></a>.<br/>
- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Order.html#env_order_disj_union_compat_left"><span class="id" title="lemma">env_order_disj_union_compat_left</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_order_disj_union_compat_strong_right" class="idref" href="#env_order_disj_union_compat_strong_right"><span class="id" title="lemma">env_order_disj_union_compat_strong_right</span></a> <a id="588d335e7ef83ff38b48f3b650112d02" class="idref" href="#588d335e7ef83ff38b48f3b650112d02"><span class="id" title="binder">Δ</span></a> <a id="e82a4e67a07a1bcca909b531b7e35eb8" class="idref" href="#e82a4e67a07a1bcca909b531b7e35eb8"><span class="id" title="binder">Δ'</span></a> <a id="7b7cf502adad5cf707f2edb63a7095cb" class="idref" href="#7b7cf502adad5cf707f2edb63a7095cb"><span class="id" title="binder">Δ''</span></a> <a id="0a64ce807f6b8a5081d903cdfd18baaa" class="idref" href="#0a64ce807f6b8a5081d903cdfd18baaa"><span class="id" title="binder">Δ'''</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Order.html#588d335e7ef83ff38b48f3b650112d02"><span class="id" title="variable">Δ</span></a> <a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="ISL.Order.html#7b7cf502adad5cf707f2edb63a7095cb"><span class="id" title="variable">Δ''</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Order.html#e82a4e67a07a1bcca909b531b7e35eb8"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="ISL.Order.html#18cb969368e82052920d9ba5707bb97c"><span class="id" title="notation">≼</span></a> <a class="idref" href="ISL.Order.html#0a64ce807f6b8a5081d903cdfd18baaa"><span class="id" title="variable">Δ'''</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Order.html#588d335e7ef83ff38b48f3b650112d02"><span class="id" title="variable">Δ</span></a> <span class="id" title="notation">⊎</span> <a class="idref" href="ISL.Order.html#e82a4e67a07a1bcca909b531b7e35eb8"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="ISL.Order.html#7b7cf502adad5cf707f2edb63a7095cb"><span class="id" title="variable">Δ''</span></a> <span class="id" title="notation">⊎</span> <a class="idref" href="ISL.Order.html#0a64ce807f6b8a5081d903cdfd18baaa"><span class="id" title="variable">Δ'''</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hlt</span>|<span class="id" title="var">Heq</span>].<br/>
- <span class="id" title="tactic">unfold</span> <a class="idref" href="ISL.Order.html#env_order"><span class="id" title="definition">env_order</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.Wf_nat.html#ltof"><span class="id" title="definition">ltof</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Order.html#env_weight_disj_union"><span class="id" title="lemma">env_weight_disj_union</span></a>. <span class="id" title="var">lia</span>.<br/>
- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Order.html#env_order_disj_union_compat_left"><span class="id" title="lemma">env_order_disj_union_compat_left</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_order_disj_union_compat_strong_left" class="idref" href="#env_order_disj_union_compat_strong_left"><span class="id" title="lemma">env_order_disj_union_compat_strong_left</span></a> <a id="9cdf33535bcdd1d871184b3af5d8bc5a" class="idref" href="#9cdf33535bcdd1d871184b3af5d8bc5a"><span class="id" title="binder">Δ</span></a> <a id="6e3d3480fe2271fcd01e602141e3ea32" class="idref" href="#6e3d3480fe2271fcd01e602141e3ea32"><span class="id" title="binder">Δ'</span></a> <a id="6a976707e71ecd748198604654d80b83" class="idref" href="#6a976707e71ecd748198604654d80b83"><span class="id" title="binder">Δ''</span></a> <a id="99c53ab5ff218fbc471b35990b677332" class="idref" href="#99c53ab5ff218fbc471b35990b677332"><span class="id" title="binder">Δ'''</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Order.html#9cdf33535bcdd1d871184b3af5d8bc5a"><span class="id" title="variable">Δ</span></a> <a class="idref" href="ISL.Order.html#18cb969368e82052920d9ba5707bb97c"><span class="id" title="notation">≼</span></a> <a class="idref" href="ISL.Order.html#6a976707e71ecd748198604654d80b83"><span class="id" title="variable">Δ''</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Order.html#6e3d3480fe2271fcd01e602141e3ea32"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="ISL.Order.html#99c53ab5ff218fbc471b35990b677332"><span class="id" title="variable">Δ'''</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Order.html#9cdf33535bcdd1d871184b3af5d8bc5a"><span class="id" title="variable">Δ</span></a> <span class="id" title="notation">⊎</span> <a class="idref" href="ISL.Order.html#6e3d3480fe2271fcd01e602141e3ea32"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="ISL.Order.html#6a976707e71ecd748198604654d80b83"><span class="id" title="variable">Δ''</span></a> <span class="id" title="notation">⊎</span> <a class="idref" href="ISL.Order.html#99c53ab5ff218fbc471b35990b677332"><span class="id" title="variable">Δ'''</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hlt</span>|<span class="id" title="var">Heq</span>].<br/>
- <span class="id" title="tactic">unfold</span> <a class="idref" href="ISL.Order.html#env_order"><span class="id" title="definition">env_order</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.Wf_nat.html#ltof"><span class="id" title="definition">ltof</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Order.html#env_weight_disj_union"><span class="id" title="lemma">env_weight_disj_union</span></a>. <span class="id" title="var">lia</span>.<br/>
- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Order.html#env_order_disj_union_compat_right"><span class="id" title="lemma">env_order_disj_union_compat_right</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="open_boxes_env_order" class="idref" href="#open_boxes_env_order"><span class="id" title="lemma">open_boxes_env_order</span></a> <a id="1ab689eb786af91c5eca1e847ceda361" class="idref" href="#1ab689eb786af91c5eca1e847ceda361"><span class="id" title="binder">Δ</span></a> : <a class="idref" href="ISL.Order.html#18cb969368e82052920d9ba5707bb97c"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Environments.html#ea7b322b05c6af494383fa784c2b0124"><span class="id" title="notation">⊗</span></a><a class="idref" href="ISL.Order.html#1ab689eb786af91c5eca1e847ceda361"><span class="id" title="variable">Δ</span></a><a class="idref" href="ISL.Order.html#18cb969368e82052920d9ba5707bb97c"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Order.html#18cb969368e82052920d9ba5707bb97c"><span class="id" title="notation">≼</span></a> <a class="idref" href="ISL.Order.html#1ab689eb786af91c5eca1e847ceda361"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">Δ</span> <span class="id" title="keyword">as</span> [|φ <span class="id" title="var">Δ</span>] <span class="id" title="keyword">using</span> <a class="idref" href="ISL.Environments.html#gmultiset_rec"><span class="id" title="lemma">gmultiset_rec</span></a>.<br/>
- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>. <span class="id" title="tactic">auto</span>.<br/>
- <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHΔ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hlt</span> | <span class="id" title="var">Heq</span>].<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Order.html#env_order_disj_union_compat_strong_left"><span class="id" title="lemma">env_order_disj_union_compat_strong_left</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> φ; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">ms</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Order.html#env_order_singleton"><span class="id" title="lemma">env_order_singleton</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#open_boxes_disj_union"><span class="id" title="lemma">open_boxes_disj_union</span></a>, <a class="idref" href="ISL.Environments.html#open_boxes_singleton"><span class="id" title="lemma">open_boxes_singleton</span></a>, <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="ISL.Environments.html#is_box"><span class="id" title="definition">is_box</span></a> φ); <span class="id" title="tactic">intro</span> <span class="id" title="var">Hbox</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Order.html#env_order_disj_union_compat_strong_right"><span class="id" title="lemma">env_order_disj_union_compat_strong_right</span></a>; [|<span class="id" title="var">ms</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> φ; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hbox</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Order.html#env_order_singleton"><span class="id" title="lemma">env_order_singleton</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">right</span>. <span class="id" title="tactic">destruct</span> φ; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">ms</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">open_boxes_env_order</span> : <span class="id" title="var">order</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_order_0" class="idref" href="#env_order_0"><span class="id" title="lemma">env_order_0</span></a> <a id="da31ff7e417ac00e154030fa0e1f19ce" class="idref" href="#da31ff7e417ac00e154030fa0e1f19ce"><span class="id" title="binder">Δ</span></a> <a id="772bc84a81c4525400b2d7aca7035ca6" class="idref" href="#772bc84a81c4525400b2d7aca7035ca6"><span class="id" title="binder">φ</span></a>: <a class="idref" href="ISL.Order.html#da31ff7e417ac00e154030fa0e1f19ce"><span class="id" title="variable">Δ</span></a> <a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="ISL.Order.html#da31ff7e417ac00e154030fa0e1f19ce"><span class="id" title="variable">Δ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Order.html#772bc84a81c4525400b2d7aca7035ca6"><span class="id" title="variable">φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="ISL.Order.html#env_order"><span class="id" title="definition">env_order</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.Wf_nat.html#ltof"><span class="id" title="definition">ltof</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Order.html#env_weight_disj_union"><span class="id" title="lemma">env_weight_disj_union</span></a>, <a class="idref" href="ISL.Order.html#env_weight_singleton"><span class="id" title="lemma">env_weight_singleton</span></a>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.lt_add_pos_r"><span class="id" title="lemma">Nat.lt_add_pos_r</span></a>. <span class="id" title="tactic">transitivity</span> (5 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a> 0). <span class="id" title="tactic">simpl</span>. <span class="id" title="var">lia</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.pow_lt_mono_r"><span class="id" title="lemma">Nat.pow_lt_mono_r</span></a>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Formulas.html#weight_pos"><span class="id" title="lemma">weight_pos</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO:&nbsp;ok?&nbsp;to&nbsp;replace&nbsp;env_order_*&nbsp;?<br/>
Lemma&nbsp;env_order_l&nbsp;(Δ'&nbsp;Δ:&nbsp;env)&nbsp;φ1&nbsp;φ:&nbsp;weight&nbsp;φ1&nbsp;&lt;&nbsp;weight&nbsp;φ&nbsp;-&gt;&nbsp;(Δ'&nbsp;≺&nbsp;Δ&nbsp;•&nbsp;φ)&nbsp;-&gt;&nbsp;(Δ'&nbsp;•&nbsp;φ1)&nbsp;≺&nbsp;(Δ&nbsp;•&nbsp;φ).<br/>
Proof.<br/>
*)</span><br/>

<br/>
<span class="id" title="keyword">Local Lemma</span> <a id="pow5_gt_0" class="idref" href="#pow5_gt_0"><span class="id" title="lemma">pow5_gt_0</span></a> <a id="n:55" class="idref" href="#n:55"><span class="id" title="binder">n</span></a> : 1 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> 5 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a> <a class="idref" href="ISL.Order.html#n:55"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">transitivity</span> (5<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a>0). <span class="id" title="tactic">simpl</span>. <span class="id" title="var">lia</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.pow_le_mono_r"><span class="id" title="lemma">Nat.pow_le_mono_r</span></a>; <span class="id" title="var">lia</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local Hint Resolve</span> <span class="id" title="var">pow5_gt_0</span>: <span class="id" title="var">order</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_order_2" class="idref" href="#env_order_2"><span class="id" title="lemma">env_order_2</span></a>  <a id="b1a57856048453fcdbc9d8258f6ba85e" class="idref" href="#b1a57856048453fcdbc9d8258f6ba85e"><span class="id" title="binder">Δ</span></a> <a id="298415a4de35e0f8fb410c98cefd2357" class="idref" href="#298415a4de35e0f8fb410c98cefd2357"><span class="id" title="binder">Δ'</span></a> <a id="1f216bb9781b0c538e1c585af8eec860" class="idref" href="#1f216bb9781b0c538e1c585af8eec860"><span class="id" title="binder">φ1</span></a> <a id="1ea91fff884e2ebd79845f910ba9e29a" class="idref" href="#1ea91fff884e2ebd79845f910ba9e29a"><span class="id" title="binder">φ2</span></a> <a id="a6907591c18ff9049e8f912ac42d7ac7" class="idref" href="#a6907591c18ff9049e8f912ac42d7ac7"><span class="id" title="binder">φ</span></a>: <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="ISL.Order.html#1f216bb9781b0c538e1c585af8eec860"><span class="id" title="variable">φ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="ISL.Order.html#a6907591c18ff9049e8f912ac42d7ac7"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="ISL.Order.html#1ea91fff884e2ebd79845f910ba9e29a"><span class="id" title="variable">φ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="ISL.Order.html#a6907591c18ff9049e8f912ac42d7ac7"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Order.html#298415a4de35e0f8fb410c98cefd2357"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="ISL.Order.html#18cb969368e82052920d9ba5707bb97c"><span class="id" title="notation">≼</span></a> <a class="idref" href="ISL.Order.html#b1a57856048453fcdbc9d8258f6ba85e"><span class="id" title="variable">Δ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Order.html#298415a4de35e0f8fb410c98cefd2357"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Order.html#1f216bb9781b0c538e1c585af8eec860"><span class="id" title="variable">φ1</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Order.html#1ea91fff884e2ebd79845f910ba9e29a"><span class="id" title="variable">φ2</span></a> <a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="ISL.Order.html#b1a57856048453fcdbc9d8258f6ba85e"><span class="id" title="variable">Δ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Order.html#a6907591c18ff9049e8f912ac42d7ac7"><span class="id" title="variable">φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">Hw1</span> <span class="id" title="var">Hw2</span> <span class="id" title="var">Hor</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="ISL.Order.html#env_order"><span class="id" title="definition">env_order</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.Wf_nat.html#ltof"><span class="id" title="definition">ltof</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Order.html#env_weight_add"><span class="id" title="lemma">env_weight_add</span></a>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Order.html#env_le_weight"><span class="id" title="lemma">env_le_weight</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hor</span>.<br/>
<span class="id" title="tactic">replace</span> (<a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> φ) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#pred"><span class="id" title="abbreviation">pred</span></a> (<a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> φ))) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.lt_le_pred"><span class="id" title="lemma">Nat.lt_le_pred</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hw1</span>, <span class="id" title="var">Hw2</span>.<br/>
<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_assoc"><span class="id" title="lemma">Nat.add_assoc</span></a>.<br/>
<span class="id" title="tactic">pose</span> (<a class="idref" href="ISL.Order.html#pow5_gt_0"><span class="id" title="lemma">pow5_gt_0</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Nat.html#pred"><span class="id" title="definition">Init.Nat.pred</span></a> (<a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> φ))).<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a>.<br/>
<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_lt_le_mono"><span class="id" title="lemma">Nat.add_lt_le_mono</span></a>; [|<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.pow_le_mono_r"><span class="id" title="lemma">Nat.pow_le_mono_r</span></a>; <span class="id" title="var">lia</span>]).<br/>
<span class="id" title="tactic">pose</span> (<a class="idref" href="ISL.Order.html#pow5_gt_0"><span class="id" title="lemma">pow5_gt_0</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Nat.html#pred"><span class="id" title="definition">Init.Nat.pred</span></a> (<a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> φ))).<br/>
<span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_order_3" class="idref" href="#env_order_3"><span class="id" title="lemma">env_order_3</span></a>  <a id="e889f5459734bf7cd51e4fdb10aa3a03" class="idref" href="#e889f5459734bf7cd51e4fdb10aa3a03"><span class="id" title="binder">Δ</span></a> <a id="955a3665889e45d6449fb87bd1e66ada" class="idref" href="#955a3665889e45d6449fb87bd1e66ada"><span class="id" title="binder">Δ'</span></a> <a id="a653ba743789f47aacf28286ea3aaad0" class="idref" href="#a653ba743789f47aacf28286ea3aaad0"><span class="id" title="binder">φ1</span></a> <a id="ddbc5fe161e63a55fac0d39c9d7a1165" class="idref" href="#ddbc5fe161e63a55fac0d39c9d7a1165"><span class="id" title="binder">φ2</span></a> <a id="7e62f317b2bcbf1675150071492890b7" class="idref" href="#7e62f317b2bcbf1675150071492890b7"><span class="id" title="binder">φ3</span></a> <a id="8dbfca0eacb4b03140997e7a2bae7595" class="idref" href="#8dbfca0eacb4b03140997e7a2bae7595"><span class="id" title="binder">φ</span></a>: <br/>
&nbsp;&nbsp;<a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="ISL.Order.html#a653ba743789f47aacf28286ea3aaad0"><span class="id" title="variable">φ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="ISL.Order.html#8dbfca0eacb4b03140997e7a2bae7595"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="ISL.Order.html#ddbc5fe161e63a55fac0d39c9d7a1165"><span class="id" title="variable">φ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="ISL.Order.html#8dbfca0eacb4b03140997e7a2bae7595"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="ISL.Order.html#7e62f317b2bcbf1675150071492890b7"><span class="id" title="variable">φ3</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="ISL.Order.html#8dbfca0eacb4b03140997e7a2bae7595"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Order.html#955a3665889e45d6449fb87bd1e66ada"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="ISL.Order.html#18cb969368e82052920d9ba5707bb97c"><span class="id" title="notation">≼</span></a> <a class="idref" href="ISL.Order.html#e889f5459734bf7cd51e4fdb10aa3a03"><span class="id" title="variable">Δ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ISL.Order.html#955a3665889e45d6449fb87bd1e66ada"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Order.html#a653ba743789f47aacf28286ea3aaad0"><span class="id" title="variable">φ1</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Order.html#ddbc5fe161e63a55fac0d39c9d7a1165"><span class="id" title="variable">φ2</span></a>  <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Order.html#7e62f317b2bcbf1675150071492890b7"><span class="id" title="variable">φ3</span></a> <a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="ISL.Order.html#e889f5459734bf7cd51e4fdb10aa3a03"><span class="id" title="variable">Δ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Order.html#8dbfca0eacb4b03140997e7a2bae7595"><span class="id" title="variable">φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">Hw1</span> <span class="id" title="var">Hw2</span> <span class="id" title="var">Hw3</span> <span class="id" title="var">Hor</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="ISL.Order.html#env_order"><span class="id" title="definition">env_order</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.Wf_nat.html#ltof"><span class="id" title="definition">ltof</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Order.html#env_weight_add"><span class="id" title="lemma">env_weight_add</span></a>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Order.html#env_le_weight"><span class="id" title="lemma">env_le_weight</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hor</span>.<br/>
<span class="id" title="tactic">replace</span> (<a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> φ) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#pred"><span class="id" title="abbreviation">pred</span></a> (<a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> φ))) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.lt_le_pred"><span class="id" title="lemma">Nat.lt_le_pred</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hw1</span>, <span class="id" title="var">Hw2</span>.<br/>
<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_assoc"><span class="id" title="lemma">Nat.add_assoc</span></a>.<br/>
<span class="id" title="tactic">pose</span> (<a class="idref" href="ISL.Order.html#pow5_gt_0"><span class="id" title="lemma">pow5_gt_0</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Nat.html#pred"><span class="id" title="definition">Init.Nat.pred</span></a> (<a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> φ))).<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a>.<br/>
<span class="id" title="tactic">do</span> 3 (<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_lt_le_mono"><span class="id" title="lemma">Nat.add_lt_le_mono</span></a>; [|<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.pow_le_mono_r"><span class="id" title="lemma">Nat.pow_le_mono_r</span></a>; <span class="id" title="var">lia</span>]).<br/>
<span class="id" title="tactic">pose</span> (<a class="idref" href="ISL.Order.html#pow5_gt_0"><span class="id" title="lemma">pow5_gt_0</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Nat.html#pred"><span class="id" title="definition">Init.Nat.pred</span></a> (<a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> φ))).<br/>
<span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_order_4" class="idref" href="#env_order_4"><span class="id" title="lemma">env_order_4</span></a>  <a id="7e3627dd3a2403746b83b58e438b6bc7" class="idref" href="#7e3627dd3a2403746b83b58e438b6bc7"><span class="id" title="binder">Δ</span></a> <a id="e9f216df8bcd832a2ceae726b03f32ce" class="idref" href="#e9f216df8bcd832a2ceae726b03f32ce"><span class="id" title="binder">Δ'</span></a> <a id="fdfbdb701d84ecd6a3eeef46d9babdae" class="idref" href="#fdfbdb701d84ecd6a3eeef46d9babdae"><span class="id" title="binder">φ1</span></a> <a id="580b6520d7276106f721bbc035965eee" class="idref" href="#580b6520d7276106f721bbc035965eee"><span class="id" title="binder">φ2</span></a> <a id="fa684bd58022dfc53d510ad13765fcd9" class="idref" href="#fa684bd58022dfc53d510ad13765fcd9"><span class="id" title="binder">φ3</span></a> <a id="1e17548eb752c34f90f98221f35e89c2" class="idref" href="#1e17548eb752c34f90f98221f35e89c2"><span class="id" title="binder">φ4</span></a> <a id="2289a1c4b4a0cac880315ab20faed543" class="idref" href="#2289a1c4b4a0cac880315ab20faed543"><span class="id" title="binder">φ</span></a>: <br/>
&nbsp;&nbsp;<a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="ISL.Order.html#fdfbdb701d84ecd6a3eeef46d9babdae"><span class="id" title="variable">φ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="ISL.Order.html#2289a1c4b4a0cac880315ab20faed543"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="ISL.Order.html#580b6520d7276106f721bbc035965eee"><span class="id" title="variable">φ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="ISL.Order.html#2289a1c4b4a0cac880315ab20faed543"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="ISL.Order.html#fa684bd58022dfc53d510ad13765fcd9"><span class="id" title="variable">φ3</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="ISL.Order.html#2289a1c4b4a0cac880315ab20faed543"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="ISL.Order.html#1e17548eb752c34f90f98221f35e89c2"><span class="id" title="variable">φ4</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="ISL.Order.html#2289a1c4b4a0cac880315ab20faed543"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Order.html#e9f216df8bcd832a2ceae726b03f32ce"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="ISL.Order.html#18cb969368e82052920d9ba5707bb97c"><span class="id" title="notation">≼</span></a> <a class="idref" href="ISL.Order.html#7e3627dd3a2403746b83b58e438b6bc7"><span class="id" title="variable">Δ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Order.html#e9f216df8bcd832a2ceae726b03f32ce"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Order.html#fdfbdb701d84ecd6a3eeef46d9babdae"><span class="id" title="variable">φ1</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Order.html#580b6520d7276106f721bbc035965eee"><span class="id" title="variable">φ2</span></a>  <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Order.html#fa684bd58022dfc53d510ad13765fcd9"><span class="id" title="variable">φ3</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Order.html#1e17548eb752c34f90f98221f35e89c2"><span class="id" title="variable">φ4</span></a> <a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="ISL.Order.html#7e3627dd3a2403746b83b58e438b6bc7"><span class="id" title="variable">Δ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Order.html#2289a1c4b4a0cac880315ab20faed543"><span class="id" title="variable">φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">Hw1</span> <span class="id" title="var">Hw2</span> <span class="id" title="var">Hw3</span> <span class="id" title="var">Hw4</span> <span class="id" title="var">Hor</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="ISL.Order.html#env_order"><span class="id" title="definition">env_order</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.Wf_nat.html#ltof"><span class="id" title="definition">ltof</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Order.html#env_weight_add"><span class="id" title="lemma">env_weight_add</span></a>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Order.html#env_le_weight"><span class="id" title="lemma">env_le_weight</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hor</span>.<br/>
<span class="id" title="tactic">replace</span> (<a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> φ) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#pred"><span class="id" title="abbreviation">pred</span></a> (<a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> φ))) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.lt_le_pred"><span class="id" title="lemma">Nat.lt_le_pred</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hw1</span>, <span class="id" title="var">Hw2</span>.<br/>
<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_assoc"><span class="id" title="lemma">Nat.add_assoc</span></a>.<br/>
<span class="id" title="tactic">pose</span> (<a class="idref" href="ISL.Order.html#pow5_gt_0"><span class="id" title="lemma">pow5_gt_0</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Nat.html#pred"><span class="id" title="definition">Init.Nat.pred</span></a> (<a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> φ))).<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a>.<br/>
<span class="id" title="tactic">do</span> 4 (<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_lt_le_mono"><span class="id" title="lemma">Nat.add_lt_le_mono</span></a>; [|<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.pow_le_mono_r"><span class="id" title="lemma">Nat.pow_le_mono_r</span></a>; <span class="id" title="var">lia</span>]).<br/>
<span class="id" title="tactic">pose</span> (<a class="idref" href="ISL.Order.html#pow5_gt_0"><span class="id" title="lemma">pow5_gt_0</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Nat.html#pred"><span class="id" title="definition">Init.Nat.pred</span></a> (<a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> φ))).<br/>
<span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_order_cancel_right" class="idref" href="#env_order_cancel_right"><span class="id" title="lemma">env_order_cancel_right</span></a> <a id="27fb70eb42cace2d63de11bd85bd865b" class="idref" href="#27fb70eb42cace2d63de11bd85bd865b"><span class="id" title="binder">Δ</span></a> <a id="208d25856b2ab0c4130f56c04f3ddee5" class="idref" href="#208d25856b2ab0c4130f56c04f3ddee5"><span class="id" title="binder">Δ'</span></a> <a id="c7b0d168aca7081bb85c3a05853b3c46" class="idref" href="#c7b0d168aca7081bb85c3a05853b3c46"><span class="id" title="binder">φ</span></a>:  <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Order.html#27fb70eb42cace2d63de11bd85bd865b"><span class="id" title="variable">Δ</span></a> <a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="ISL.Order.html#208d25856b2ab0c4130f56c04f3ddee5"><span class="id" title="variable">Δ'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Order.html#27fb70eb42cace2d63de11bd85bd865b"><span class="id" title="variable">Δ</span></a> <a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Order.html#208d25856b2ab0c4130f56c04f3ddee5"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Order.html#c7b0d168aca7081bb85c3a05853b3c46"><span class="id" title="variable">φ</span></a><a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">etransitivity</span>; [|<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Order.html#env_order_0"><span class="id" title="lemma">env_order_0</span></a>]. <span class="id" title="tactic">assumption</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_order_eq_add" class="idref" href="#env_order_eq_add"><span class="id" title="lemma">env_order_eq_add</span></a> <a id="c547ef66520605a4a48b0782100af2d4" class="idref" href="#c547ef66520605a4a48b0782100af2d4"><span class="id" title="binder">Δ</span></a> <a id="1a04fabd9e09410421e0a9cef4f5e2ad" class="idref" href="#1a04fabd9e09410421e0a9cef4f5e2ad"><span class="id" title="binder">Δ'</span></a> <a id="ea173ed7a2002fbea2edd55ca2110dd9" class="idref" href="#ea173ed7a2002fbea2edd55ca2110dd9"><span class="id" title="binder">φ</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Order.html#c547ef66520605a4a48b0782100af2d4"><span class="id" title="variable">Δ</span></a> <a class="idref" href="ISL.Order.html#18cb969368e82052920d9ba5707bb97c"><span class="id" title="notation">≼</span></a> <a class="idref" href="ISL.Order.html#1a04fabd9e09410421e0a9cef4f5e2ad"><span class="id" title="variable">Δ'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Order.html#18cb969368e82052920d9ba5707bb97c"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Order.html#c547ef66520605a4a48b0782100af2d4"><span class="id" title="variable">Δ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Order.html#ea173ed7a2002fbea2edd55ca2110dd9"><span class="id" title="variable">φ</span></a><a class="idref" href="ISL.Order.html#18cb969368e82052920d9ba5707bb97c"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Order.html#18cb969368e82052920d9ba5707bb97c"><span class="id" title="notation">≼</span></a> <a class="idref" href="ISL.Order.html#18cb969368e82052920d9ba5707bb97c"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Order.html#1a04fabd9e09410421e0a9cef4f5e2ad"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Order.html#ea173ed7a2002fbea2edd55ca2110dd9"><span class="id" title="variable">φ</span></a><a class="idref" href="ISL.Order.html#18cb969368e82052920d9ba5707bb97c"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>[<span class="id" title="var">Heq</span>|<span class="id" title="var">Hlt</span>]. <span class="id" title="tactic">left</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Order.html#env_order_add_compat"><span class="id" title="lemma">env_order_add_compat</span></a>. <span class="id" title="tactic">right</span>. <span class="id" title="var">ms</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">env_order_0</span> : <span class="id" title="var">order</span>.<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">env_order_1</span> : <span class="id" title="var">order</span>.<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">env_order_2</span> : <span class="id" title="var">order</span>.<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">env_order_3</span> : <span class="id" title="var">order</span>.<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">env_order_4</span> : <span class="id" title="var">order</span>.<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">env_order_add_compat</span> : <span class="id" title="var">order</span>.<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">env_order_cancel_right</span> : <span class="id" title="var">order</span>.<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">env_order_eq_add</span> : <span class="id" title="var">order</span>.<br/>
<span class="id" title="keyword">Global Hint Extern</span> 1 (?<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> ?<span class="id" title="var">b</span>) =&gt; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">lia</span> : <span class="id" title="var">order</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">get_diff_form</span> <span class="id" title="var">g</span> := <span class="id" title="keyword">match</span> <span class="id" title="var">g</span> <span class="id" title="keyword">with</span><br/>
| ?<span class="id" title="var">Γ</span> <span class="id" title="notation">∖</span><span class="id" title="notation">{[</span>?φ<span class="id" title="notation">]}</span> =&gt; φ<br/>
| <span class="id" title="var">_</span> (?<span class="id" title="var">Γ</span> <span class="id" title="notation">∖</span><span class="id" title="notation">{[</span>?φ<span class="id" title="notation">]}</span>) =&gt; φ<br/>
| ?<span class="id" title="var">Γ</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">get_diff_form</span> <span class="id" title="var">Γ</span><br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">get_diff_env</span> <span class="id" title="var">g</span> := <span class="id" title="keyword">match</span> <span class="id" title="var">g</span> <span class="id" title="keyword">with</span><br/>
| ?<span class="id" title="var">Γ</span> <span class="id" title="notation">∖</span><span class="id" title="notation">{[</span>?φ<span class="id" title="notation">]}</span> =&gt; <span class="id" title="var">Γ</span><br/>
| ?<span class="id" title="var">Γ</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">get_diff_env</span> <span class="id" title="var">Γ</span><br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Global Hint Rewrite</span> <a class="idref" href="ISL.Environments.html#open_boxes_remove"><span class="id" title="lemma">open_boxes_remove</span></a> : <span class="id" title="var">order</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">prepare_order</span> := <br/>
<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Order.html#env_order_add_compat"><span class="id" title="lemma">env_order_add_compat</span></a>);<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="ISL.Order.html#pointed_env_order"><span class="id" title="definition">pointed_env_order</span></a>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#open_boxes_add"><span class="id" title="lemma">open_boxes_add</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
| <span class="id" title="var">Δ</span> := <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">subst</span> <span class="id" title="var">Δ</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">prepare_order</span><br/>
| <span class="id" title="var">H</span> : ?ψ <span class="id" title="notation">∈</span> ?<span class="id" title="var">Γ</span> |- ?<span class="id" title="var">Γ'</span> <a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> ?<span class="id" title="var">Γ</span> =&gt; <span class="id" title="keyword">let</span> ψ' := (<span class="id" title="var">get_diff_form</span> <span class="id" title="var">Γ'</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="ISL.Order.html#env_order_equiv_right_compat"><span class="id" title="lemma">env_order_equiv_right_compat</span></a> (<a class="idref" href="ISL.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">Γ</span> ψ' <span class="id" title="var">H</span>))<br/>
| <span class="id" title="var">H</span> : ?ψ <span class="id" title="notation">∈</span> ?<span class="id" title="var">Γ</span> |- ?<span class="id" title="var">Γ'</span> <a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> ?<span class="id" title="var">Γ</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> ?φ =&gt; <span class="id" title="keyword">let</span> ψ' := (<span class="id" title="var">get_diff_form</span> <span class="id" title="var">Γ'</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="ISL.Order.html#env_order_equiv_right_compat"><span class="id" title="lemma">env_order_equiv_right_compat</span></a> (<a class="idref" href="ISL.Environments.html#equiv_disj_union_compat_r"><span class="id" title="lemma">equiv_disj_union_compat_r</span></a>(<a class="idref" href="ISL.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">Γ</span> ψ' <span class="id" title="var">H</span>)))<br/>
| <span class="id" title="var">H</span> : ?ψ <span class="id" title="notation">∈</span> ?<span class="id" title="var">Γ</span> |- ?<span class="id" title="var">Γ'</span> <a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> ?<span class="id" title="var">Γ</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <span class="id" title="var">_</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <span class="id" title="var">_</span> =&gt; <span class="id" title="keyword">let</span> ψ' := (<span class="id" title="var">get_diff_form</span> <span class="id" title="var">Γ'</span>) <span class="id" title="tactic">in</span><br/>
<span class="id" title="tactic">apply</span> (<a class="idref" href="ISL.Order.html#env_order_equiv_right_compat"><span class="id" title="lemma">env_order_equiv_right_compat</span></a> (<a class="idref" href="ISL.Environments.html#equiv_disj_union_compat_r"><span class="id" title="lemma">equiv_disj_union_compat_r</span></a>(<a class="idref" href="ISL.Environments.html#equiv_disj_union_compat_r"><span class="id" title="lemma">equiv_disj_union_compat_r</span></a>(<a class="idref" href="ISL.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">Γ</span> ψ' <span class="id" title="var">H</span>))))<br/>
<span class="id" title="keyword">end</span>.<br/>
<span class="comment">(*<br/>
Global&nbsp;Hint&nbsp;Extern&nbsp;2&nbsp;((?Γ&nbsp;&nbsp;∖&nbsp;{<span class="inlinecode">?ψ</span>}&nbsp;,&nbsp;?φ)&nbsp;≺·&nbsp;(?Γ,&nbsp;?φ))&nbsp;=&gt;&nbsp;prepare_order&nbsp;:&nbsp;order.<br/>
Global&nbsp;Hint&nbsp;Extern&nbsp;2&nbsp;(?Γ&nbsp;&nbsp;∖&nbsp;{<span class="inlinecode">?ψ</span>}&nbsp;•&nbsp;?φ'&nbsp;•&nbsp;?φ''&nbsp;≺&nbsp;?Γ&nbsp;•&nbsp;?φ)&nbsp;=&gt;&nbsp;prepare_order&nbsp;:&nbsp;order.<br/>
Global&nbsp;Hint&nbsp;Extern&nbsp;2&nbsp;(?Γ&nbsp;&nbsp;∖&nbsp;{<span class="inlinecode">?ψ</span>}&nbsp;•&nbsp;?φ'&nbsp;•&nbsp;?φ''&nbsp;≺&nbsp;?Γ&nbsp;•&nbsp;?φ&nbsp;•&nbsp;?φ''')&nbsp;=&gt;&nbsp;prepare_order&nbsp;:&nbsp;order.<br/>
Global&nbsp;Hint&nbsp;Extern&nbsp;2&nbsp;(?Γ&nbsp;&nbsp;∖&nbsp;{<span class="inlinecode">?ψ</span>}&nbsp;•&nbsp;?φ'&nbsp;•&nbsp;?φ''&nbsp;•&nbsp;?φ''''&nbsp;≺&nbsp;?Γ&nbsp;•&nbsp;?φ&nbsp;•&nbsp;?φ''')&nbsp;=&gt;&nbsp;prepare_order&nbsp;:&nbsp;order.<br/>
Global&nbsp;Hint&nbsp;Extern&nbsp;2&nbsp;(?Γ&nbsp;&nbsp;∖&nbsp;{<span class="inlinecode">?ψ</span>}&nbsp;•&nbsp;?φ'&nbsp;≺&nbsp;?Γ&nbsp;•&nbsp;?φ)&nbsp;=&gt;&nbsp;prepare_order&nbsp;:&nbsp;order.<br/>
Global&nbsp;Hint&nbsp;Extern&nbsp;2&nbsp;(?Γ&nbsp;&nbsp;∖&nbsp;{<span class="inlinecode">?ψ</span>}&nbsp;•&nbsp;?φ'&nbsp;≺&nbsp;?Γ&nbsp;•&nbsp;?φ&nbsp;&nbsp;•&nbsp;?φ')&nbsp;=&gt;&nbsp;prepare_order&nbsp;:&nbsp;order.<br/>
*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="make_impl_weight" class="idref" href="#make_impl_weight"><span class="id" title="lemma">make_impl_weight</span></a> <a id="c5a33b2e045bd912ada7440325d4d6c3" class="idref" href="#c5a33b2e045bd912ada7440325d4d6c3"><span class="id" title="binder">φ</span></a> <a id="556f4ec6b7996235f58dd4761b43341e" class="idref" href="#556f4ec6b7996235f58dd4761b43341e"><span class="id" title="binder">ψ</span></a>: <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> (<a class="idref" href="ISL.Order.html#c5a33b2e045bd912ada7440325d4d6c3"><span class="id" title="variable">φ</span></a> <a class="idref" href="ISL.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">⇢</span></a> <a class="idref" href="ISL.Order.html#556f4ec6b7996235f58dd4761b43341e"><span class="id" title="variable">ψ</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> (<a class="idref" href="ISL.Order.html#c5a33b2e045bd912ada7440325d4d6c3"><span class="id" title="variable">φ</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.Order.html#556f4ec6b7996235f58dd4761b43341e"><span class="id" title="variable">ψ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">destruct</span> (<a class="idref" href="ISL.Environments.html#make_impl_spec"><span class="id" title="lemma">make_impl_spec</span></a> φ ψ) <span class="id" title="keyword">as</span> [[[<span class="id" title="var">Heq'</span> <span class="id" title="var">Heq</span>]|[<span class="id" title="var">Heq'</span> <span class="id" title="var">Heq</span>]]|<span class="id" title="var">Heq</span>]; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">simpl</span>.<br/>
- <span class="id" title="tactic">assert</span> (<span class="id" title="var">H</span> := <a class="idref" href="ISL.Formulas.html#weight_pos"><span class="id" title="lemma">weight_pos</span></a> ψ). <span class="id" title="var">lia</span>.<br/>
-  <span class="id" title="var">lia</span>.<br/>
- <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="make_impl_weight2" class="idref" href="#make_impl_weight2"><span class="id" title="lemma">make_impl_weight2</span></a> <a id="5954e481dcbea713bc240a890f93dda6" class="idref" href="#5954e481dcbea713bc240a890f93dda6"><span class="id" title="binder">φ</span></a> <a id="27d9f966c16d87b3fcea0ff2b42b5edc" class="idref" href="#27d9f966c16d87b3fcea0ff2b42b5edc"><span class="id" title="binder">ψ</span></a> <a id="7459002e621092a691cfba5dc997115f" class="idref" href="#7459002e621092a691cfba5dc997115f"><span class="id" title="binder">θ</span></a>: <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> (<a class="idref" href="ISL.Order.html#5954e481dcbea713bc240a890f93dda6"><span class="id" title="variable">φ</span></a> <a class="idref" href="ISL.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">⇢</span></a> <a class="idref" href="ISL.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Order.html#27d9f966c16d87b3fcea0ff2b42b5edc"><span class="id" title="variable">ψ</span></a> <a class="idref" href="ISL.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">⇢</span></a> <a class="idref" href="ISL.Order.html#7459002e621092a691cfba5dc997115f"><span class="id" title="variable">θ</span></a><a class="idref" href="ISL.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> (<a class="idref" href="ISL.Order.html#5954e481dcbea713bc240a890f93dda6"><span class="id" title="variable">φ</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Order.html#27d9f966c16d87b3fcea0ff2b42b5edc"><span class="id" title="variable">ψ</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.Order.html#7459002e621092a691cfba5dc997115f"><span class="id" title="variable">θ</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">pose</span> (<a class="idref" href="ISL.Order.html#make_impl_weight"><span class="id" title="lemma">make_impl_weight</span></a> ψ <span class="id" title="var">θ</span>).<br/>
<span class="id" title="tactic">pose</span> (<a class="idref" href="ISL.Order.html#make_impl_weight"><span class="id" title="lemma">make_impl_weight</span></a> φ (ψ <a class="idref" href="ISL.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">⇢</span></a> <span class="id" title="var">θ</span>)).<br/>
<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Hint Extern</span>  5  (<a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> (?φ <a class="idref" href="ISL.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">⇢</span></a> ?ψ) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">_</span>) =&gt; (<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.le_lt_trans"><span class="id" title="lemma">Nat.le_lt_trans</span></a>; [<span class="id" title="tactic">eapply</span> <a class="idref" href="ISL.Order.html#make_impl_weight"><span class="id" title="lemma">make_impl_weight</span></a>|]) : <span class="id" title="var">order</span>.<br/>

<br/>
<span class="id" title="keyword">Global Hint Extern</span>  5  (<a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> (?φ <a class="idref" href="ISL.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">⇢</span></a> <a class="idref" href="ISL.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">(</span></a>?ψ <a class="idref" href="ISL.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">⇢</span></a> ?<span class="id" title="var">θ</span><a class="idref" href="ISL.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">_</span>) =&gt; (<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.PeanoNat.html#Nat.le_lt_trans"><span class="id" title="lemma">Nat.le_lt_trans</span></a>; [<span class="id" title="tactic">eapply</span> <a class="idref" href="ISL.Order.html#make_impl_weight2"><span class="id" title="lemma">make_impl_weight2</span></a>|]) : <span class="id" title="var">order</span>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO:&nbsp;new&nbsp;*)</span><br/>

<br/>
<span class="comment">(*&nbsp;ad&nbsp;hoc&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="openboxes_env_order" class="idref" href="#openboxes_env_order"><span class="id" title="lemma">openboxes_env_order</span></a> <a id="b6431cf79a451a286cac6c3d2b1e9de2" class="idref" href="#b6431cf79a451a286cac6c3d2b1e9de2"><span class="id" title="binder">Δ</span></a> <a id="3ce2d61a7f7702f30b62041a09fc8839" class="idref" href="#3ce2d61a7f7702f30b62041a09fc8839"><span class="id" title="binder">δ</span></a> :  <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Environments.html#ea7b322b05c6af494383fa784c2b0124"><span class="id" title="notation">⊗</span></a> <a class="idref" href="ISL.Order.html#b6431cf79a451a286cac6c3d2b1e9de2"><span class="id" title="variable">Δ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Order.html#3ce2d61a7f7702f30b62041a09fc8839"><span class="id" title="variable">δ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Order.html#3ce2d61a7f7702f30b62041a09fc8839"><span class="id" title="variable">δ</span></a> <a class="idref" href="ISL.Order.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="ISL.Order.html#b6431cf79a451a286cac6c3d2b1e9de2"><span class="id" title="variable">Δ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> <a class="idref" href="ISL.Order.html#3ce2d61a7f7702f30b62041a09fc8839"><span class="id" title="variable">δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">Δ</span> <span class="id" title="keyword">using</span> <a class="idref" href="ISL.Environments.html#gmultiset_rec"><span class="id" title="lemma">gmultiset_rec</span></a>.<br/>
- <span class="id" title="tactic">eapply</span> @<a class="idref" href="ISL.Order.html#env_order_equiv_left_compat"><span class="id" title="lemma">env_order_equiv_left_compat</span></a> <span class="id" title="keyword">with</span>  (<span class="id" title="notation">∅</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <span class="id" title="var">δ</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <span class="id" title="var">δ</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#open_boxes_empty"><span class="id" title="lemma">open_boxes_empty</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Order.html#env_order_2"><span class="id" title="lemma">env_order_2</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">apply</span> (@<a class="idref" href="ISL.Order.html#env_order_equiv_right_compat"><span class="id" title="lemma">env_order_equiv_right_compat</span></a> <span class="id" title="var">_</span>  <span class="id" title="var">_</span> (<span class="id" title="var">Δ</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> <span class="id" title="var">δ</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <span class="id" title="var">x</span>)); [<span class="id" title="var">ms</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (@<a class="idref" href="ISL.Order.html#env_order_equiv_left_compat"><span class="id" title="lemma">env_order_equiv_left_compat</span></a>  <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="ISL.Environments.html#ea7b322b05c6af494383fa784c2b0124"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">Δ</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <span class="id" title="var">δ</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <span class="id" title="var">δ</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a>  <a class="idref" href="ISL.Environments.html#324ee050da821ba5ae035c28136d140a"><span class="id" title="notation">⊙</span></a> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#open_boxes_disj_union"><span class="id" title="lemma">open_boxes_disj_union</span></a>, <a class="idref" href="ISL.Environments.html#open_boxes_singleton"><span class="id" title="lemma">open_boxes_singleton</span></a>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">solve</span>[<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Order.html#env_order_add_compat"><span class="id" title="lemma">env_order_add_compat</span></a>]).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<span class="id" title="var">Δ</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a><span class="id" title="var">δ</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Order.html#env_order_1"><span class="id" title="lemma">env_order_1</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">openboxes_env_order</span> : <span class="id" title="var">order</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">order_tac</span> := <span class="id" title="var">prepare_order</span>; <span class="id" title="tactic">auto</span> 10 <span class="id" title="keyword">with</span> <span class="id" title="var">order</span>.<br/>

<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
