<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://github.com/hferee/UIML">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
      <a href="./demo.html"> Demo </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">ISL.Environments</h1>

<div class="code">
</div>

<div class="doc">
<a id="lab1"></a><h1 class="section">Overview: Environments</h1>


<div class="paragraph"> </div>

  An environment is a multiset of formulas. We rely on stdpp multisets
  mostly for their powerful multiset equivalence tactic.
<div class="paragraph"> </div>

 Notion of wellfoundedness 
</div>
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Program.Wf.html#"><span class="id" title="library">Coq.Program.Wf</span></a>.<br/>

<br/>
</div>

<div class="doc">
Stdpp implementation of multisets 
</div>
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="library">stdpp.gmultiset</span>.<br/>

<br/>
</div>

<div class="doc">
Our propositional formulas, including their countability. 
</div>
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="ISL.Formulas.html#"><span class="id" title="library">ISL.Formulas</span></a>.<br/>

<br/>
</div>

<div class="doc">
An environment is defined as a finite multiset of formulas
(in the sense of the stdpp library).
This requires decidable equality and countability of the underlying set. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="env" class="idref" href="#env"><span class="id" title="definition">env</span></a> := @<span class="id" title="record">gmultiset</span> <a class="idref" href="ISL.Formulas.html#form"><span class="id" title="inductive">form</span></a> <a class="idref" href="ISL.Formulas.html#form_eq_dec"><span class="id" title="instance">form_eq_dec</span></a> <a class="idref" href="ISL.Formulas.html#form_count"><span class="id" title="instance">form_count</span></a>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="singleton" class="idref" href="#singleton"><span class="id" title="instance">singleton</span></a> : <span class="id" title="class">Singleton</span> <a class="idref" href="ISL.Formulas.html#form"><span class="id" title="inductive">form</span></a> <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a> := <span class="id" title="instance">gmultiset_singleton</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a id="singletonMS" class="idref" href="#singletonMS"><span class="id" title="instance">singletonMS</span></a> : <span class="id" title="class">SingletonMS</span> <a class="idref" href="ISL.Formulas.html#form"><span class="id" title="inductive">form</span></a> <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a> := <span class="id" title="definition">base.singleton</span>.<br/>

<br/>
<span class="id" title="keyword">Global Hint Unfold</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Nat.html#mul"><span class="id" title="definition">mult</span></a> <span class="id" title="definition">empty</span> <a class="idref" href="ISL.Environments.html#singleton"><span class="id" title="instance">singleton</span></a> <span class="id" title="definition">union</span> <span class="id" title="definition">intersection</span> <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a> : <span class="id" title="var">mset</span>.<br/>
<span class="comment">(*&nbsp;useful&nbsp;notations&nbsp;:<br/>
&nbsp;&nbsp;{<span class="inlinecode"></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"></span>}&nbsp;:&nbsp;singleton<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⊎&nbsp;:&nbsp;disjoint&nbsp;union<br/>
&nbsp;&nbsp;&nbsp;\:&nbsp;difference&nbsp;(setminus)<br/>
&nbsp;&nbsp;&nbsp;{<span class="inlinecode"></span> <span class="inlinecode"><span class="id" title="var">x</span>;</span> <span class="inlinecode"><span class="id" title="var">y</span>;</span> <span class="inlinecode">…</span> <span class="inlinecode"></span>}&nbsp;union&nbsp;of&nbsp;singletons<br/>
&nbsp;&nbsp;&nbsp;<span class="inlinecode">{[+</span> <span class="inlinecode"><span class="id" title="var">x</span>;</span> <span class="inlinecode"><span class="id" title="var">y</span>;</span> <span class="inlinecode">…</span> <span class="inlinecode">+]}</span>&nbsp;*disjoint*&nbsp;union&nbsp;of&nbsp;singletons<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⊂@&nbsp;:&nbsp;include<br/>
*)</span><br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="empty" class="idref" href="#empty"><span class="id" title="definition">empty</span></a> := <span class="id" title="notation">∅</span> : <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">ms</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">base.singletonMS</span>, <a class="idref" href="ISL.Environments.html#singletonMS"><span class="id" title="instance">singletonMS</span></a>, <span class="id" title="definition">base.empty</span>, <span class="id" title="instance">gmultiset_empty</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;<span class="id" title="var">autounfold</span> <span class="id" title="keyword">with</span> <span class="id" title="var">mset</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;<span class="id" title="var">autounfold</span> <span class="id" title="keyword">with</span> <span class="id" title="var">mset</span>; <span class="id" title="var">multiset_solver</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="proper_elem_of" class="idref" href="#proper_elem_of"><span class="id" title="instance">proper_elem_of</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="notation">(=)</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(≡@{</span><a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a><span class="id" title="notation">})</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <a id="x:1" class="idref" href="#x:1"><span class="id" title="binder">x</span></a> <a id="y:2" class="idref" href="#y:2"><span class="id" title="binder">y</span></a> =&gt; <a class="idref" href="ISL.Environments.html#x:1"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="ISL.Environments.html#y:2"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a>) <span class="id" title="definition">elem_of</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">Heq</span> φ φ' <span class="id" title="var">Heq'</span>. <span class="id" title="var">ms</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="proper_disj_union" class="idref" href="#proper_disj_union"><span class="id" title="instance">proper_disj_union</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="notation">(≡@{</span><a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a><span class="id" title="notation">})</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(≡@{</span><a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a><span class="id" title="notation">})</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(≡@{</span><a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a><span class="id" title="notation">})</span>) <span class="id" title="definition">disj_union</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Δ</span> <span class="id" title="var">Δ'</span> <span class="id" title="var">Heq'</span>. <span class="id" title="var">ms</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Notation</span> <a id="71ca1960dd16f5a2fd2bf72245ca13b9" class="idref" href="#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">&quot;</span></a>Γ • φ" := (<span class="id" title="definition">disj_union</span> <span class="id" title="var">Γ</span> (<span class="id" title="definition">base.singletonMS</span> φ)) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 105, φ <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 85, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab2"></a><h1 class="section">Multiset utilities</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="multeq_meq" class="idref" href="#multeq_meq"><span class="id" title="lemma">multeq_meq</span></a> (<a id="M:3" class="idref" href="#M:3"><span class="id" title="binder">M</span></a> <a id="N:4" class="idref" href="#N:4"><span class="id" title="binder">N</span></a>: <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">forall</span> <a id="x:5" class="idref" href="#x:5"><span class="id" title="binder">x</span></a><span class="id" title="notation">,</span> <span class="id" title="definition">multiplicity</span> <a class="idref" href="ISL.Environments.html#x:5"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Environments.html#M:3"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">multiplicity</span> <a class="idref" href="ISL.Environments.html#x:5"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Environments.html#N:4"><span class="id" title="variable">N</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Environments.html#M:3"><span class="id" title="variable">M</span></a> <span class="id" title="notation">≡</span>  <a class="idref" href="ISL.Environments.html#N:4"><span class="id" title="variable">N</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">multiset_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="diff_mult" class="idref" href="#diff_mult"><span class="id" title="lemma">diff_mult</span></a> (<a id="M:6" class="idref" href="#M:6"><span class="id" title="binder">M</span></a> <a id="N:7" class="idref" href="#N:7"><span class="id" title="binder">N</span></a> : <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>) (<a id="x:8" class="idref" href="#x:8"><span class="id" title="binder">x</span></a> : <a class="idref" href="ISL.Formulas.html#form"><span class="id" title="inductive">form</span></a>):<br/>
&nbsp;&nbsp;<span class="id" title="definition">multiplicity</span> <a class="idref" href="ISL.Environments.html#x:8"><span class="id" title="variable">x</span></a> (<a class="idref" href="ISL.Environments.html#M:6"><span class="id" title="variable">M</span></a> <span class="id" title="notation">∖</span> <a class="idref" href="ISL.Environments.html#N:7"><span class="id" title="variable">N</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<span class="id" title="definition">multiplicity</span> <a class="idref" href="ISL.Environments.html#x:8"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Environments.html#M:6"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="definition">multiplicity</span> <a class="idref" href="ISL.Environments.html#x:8"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Environments.html#N:7"><span class="id" title="variable">N</span></a>)%<span class="id" title="var">nat</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">multiplicity_difference</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="union_mult" class="idref" href="#union_mult"><span class="id" title="lemma">union_mult</span></a> <a id="M:9" class="idref" href="#M:9"><span class="id" title="binder">M</span></a> <a id="N:10" class="idref" href="#N:10"><span class="id" title="binder">N</span></a> (<a id="x:11" class="idref" href="#x:11"><span class="id" title="binder">x</span></a> : <a class="idref" href="ISL.Formulas.html#form"><span class="id" title="inductive">form</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="definition">multiplicity</span> <a class="idref" href="ISL.Environments.html#x:11"><span class="id" title="variable">x</span></a> (<a class="idref" href="ISL.Environments.html#M:9"><span class="id" title="variable">M</span></a> <span class="id" title="notation">⊎</span> <a class="idref" href="ISL.Environments.html#N:10"><span class="id" title="variable">N</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<span class="id" title="definition">multiplicity</span> <a class="idref" href="ISL.Environments.html#x:11"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Environments.html#M:9"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="definition">multiplicity</span> <a class="idref" href="ISL.Environments.html#x:11"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Environments.html#N:10"><span class="id" title="variable">N</span></a>)%<span class="id" title="var">nat</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">multiplicity_disj_union</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="singleton_mult_in" class="idref" href="#singleton_mult_in"><span class="id" title="lemma">singleton_mult_in</span></a> (<a id="x:12" class="idref" href="#x:12"><span class="id" title="binder">x</span></a> <a id="y:13" class="idref" href="#y:13"><span class="id" title="binder">y</span></a>: <a class="idref" href="ISL.Formulas.html#form"><span class="id" title="inductive">form</span></a>): <a class="idref" href="ISL.Environments.html#x:12"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Environments.html#y:13"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="definition">multiplicity</span> <a class="idref" href="ISL.Environments.html#x:12"><span class="id" title="variable">x</span></a> <span class="id" title="notation">{[</span><a class="idref" href="ISL.Environments.html#y:13"><span class="id" title="variable">y</span></a><span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">multiplicity_singleton</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="singleton_mult_notin" class="idref" href="#singleton_mult_notin"><span class="id" title="lemma">singleton_mult_notin</span></a> (<a id="x:14" class="idref" href="#x:14"><span class="id" title="binder">x</span></a> <a id="y:15" class="idref" href="#y:15"><span class="id" title="binder">y</span></a>: <a class="idref" href="ISL.Formulas.html#form"><span class="id" title="inductive">form</span></a>): <a class="idref" href="ISL.Environments.html#x:14"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="ISL.Environments.html#y:15"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="definition">multiplicity</span> <a class="idref" href="ISL.Environments.html#x:14"><span class="id" title="variable">x</span></a> <span class="id" title="notation">{[</span><a class="idref" href="ISL.Environments.html#y:15"><span class="id" title="variable">y</span></a><span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">multiplicity_singleton_ne</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Two&nbsp;useful&nbsp;basic&nbsp;facts&nbsp;about&nbsp;multisets&nbsp;containing&nbsp;(or&nbsp;not)&nbsp;certain&nbsp;elements.&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="env_replace" class="idref" href="#env_replace"><span class="id" title="lemma">env_replace</span></a> {<a id="a2b47ff948e41f039782f954507c588d" class="idref" href="#a2b47ff948e41f039782f954507c588d"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>} <a id="cf2bafe08dc6a1e0f9e48d8c55d06dab" class="idref" href="#cf2bafe08dc6a1e0f9e48d8c55d06dab"><span class="id" title="binder">φ</span></a> {<a id="08be11f92c1f14b07d68ee6b4c3bf731" class="idref" href="#08be11f92c1f14b07d68ee6b4c3bf731"><span class="id" title="binder">ψ</span></a> : <a class="idref" href="ISL.Formulas.html#form"><span class="id" title="inductive">form</span></a>}:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Environments.html#08be11f92c1f14b07d68ee6b4c3bf731"><span class="id" title="variable">ψ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#a2b47ff948e41f039782f954507c588d"><span class="id" title="variable">Γ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="notation">(</span><a class="idref" href="ISL.Environments.html#a2b47ff948e41f039782f954507c588d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Environments.html#cf2bafe08dc6a1e0f9e48d8c55d06dab"><span class="id" title="variable">φ</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="ISL.Environments.html#08be11f92c1f14b07d68ee6b4c3bf731"><span class="id" title="variable">ψ</span></a><span class="id" title="notation">]}</span> <span class="id" title="notation">≡</span> <span class="id" title="notation">(</span><a class="idref" href="ISL.Environments.html#a2b47ff948e41f039782f954507c588d"><span class="id" title="variable">Γ</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="ISL.Environments.html#08be11f92c1f14b07d68ee6b4c3bf731"><span class="id" title="variable">ψ</span></a><span class="id" title="notation">]}</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Environments.html#cf2bafe08dc6a1e0f9e48d8c55d06dab"><span class="id" title="variable">φ</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#multeq_meq"><span class="id" title="lemma">multeq_meq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">θ</span>.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#diff_mult"><span class="id" title="lemma">diff_mult</span></a>, <a class="idref" href="ISL.Environments.html#union_mult"><span class="id" title="lemma">union_mult</span></a>, <a class="idref" href="ISL.Environments.html#union_mult"><span class="id" title="lemma">union_mult</span></a>, <a class="idref" href="ISL.Environments.html#diff_mult"><span class="id" title="lemma">diff_mult</span></a>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub_swap"><span class="id" title="lemma">PeanoNat.Nat.add_sub_swap</span></a>.<br/>
<span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">θ</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ψ)); <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>.<br/>
- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#singleton_mult_in"><span class="id" title="lemma">singleton_mult_in</span></a>.<br/>
- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#singleton_mult_notin"><span class="id" title="lemma">singleton_mult_notin</span></a>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="diff_not_in" class="idref" href="#diff_not_in"><span class="id" title="lemma">diff_not_in</span></a> (<a id="d2f974a479ebcd81c5829843a3f7c760" class="idref" href="#d2f974a479ebcd81c5829843a3f7c760"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>) <a id="409487d9ba8c2c07cac621d64c242e1e" class="idref" href="#409487d9ba8c2c07cac621d64c242e1e"><span class="id" title="binder">φ</span></a> : <a class="idref" href="ISL.Environments.html#409487d9ba8c2c07cac621d64c242e1e"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="ISL.Environments.html#d2f974a479ebcd81c5829843a3f7c760"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Environments.html#d2f974a479ebcd81c5829843a3f7c760"><span class="id" title="variable">Γ</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="ISL.Environments.html#409487d9ba8c2c07cac621d64c242e1e"><span class="id" title="variable">φ</span></a><span class="id" title="notation">]}</span> <span class="id" title="notation">≡</span> <a class="idref" href="ISL.Environments.html#d2f974a479ebcd81c5829843a3f7c760"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hf</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#multeq_meq"><span class="id" title="lemma">multeq_meq</span></a>. <span class="id" title="tactic">intros</span> ψ.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#diff_mult"><span class="id" title="lemma">diff_mult</span></a>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">elem_of_multiplicity</span> φ <span class="id" title="var">Γ</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hf</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Nat.html#mul"><span class="id" title="definition">mult</span></a>.<br/>
<span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (φ <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ψ)).<br/>
- <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">lia</span>.<br/>
- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hneq</span>. <span class="id" title="tactic">setoid_rewrite</span> (<span class="id" title="lemma">multiplicity_singleton_ne</span> ψ φ); <span class="id" title="tactic">trivial</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_add_remove" class="idref" href="#env_add_remove"><span class="id" title="lemma">env_add_remove</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="57d703d05664bc6befa1a1f25e729927" class="idref" href="#57d703d05664bc6befa1a1f25e729927"><span class="id" title="binder">Γ</span></a>: <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>) (<a id="2d294d8281a611996e28d18383d65b76" class="idref" href="#2d294d8281a611996e28d18383d65b76"><span class="id" title="binder">φ</span></a> : <a class="idref" href="ISL.Formulas.html#form"><span class="id" title="inductive">form</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a> <span class="id" title="notation">(</span><a class="idref" href="ISL.Environments.html#57d703d05664bc6befa1a1f25e729927"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Environments.html#2d294d8281a611996e28d18383d65b76"><span class="id" title="variable">φ</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="ISL.Environments.html#2d294d8281a611996e28d18383d65b76"><span class="id" title="variable">φ</span></a><span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><a class="idref" href="ISL.Environments.html#57d703d05664bc6befa1a1f25e729927"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="var">ms</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab3"></a><h1 class="section">Conjunction, disjunction, and implication</h1>
 In the construction of propositional quantifiers, we often want to take the conjunction, disjunction, or implication of a (multi)set of formulas. The following results give some small optimizations of this process, by reducing "obvious" conjunctions such as ⊤ ∧ ϕ, ⊥ ∧ ϕ, etc. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="irreducible" class="idref" href="#irreducible"><span class="id" title="definition">irreducible</span></a> (<a id="417529803507aa9a7b30461ccba6fdf8" class="idref" href="#417529803507aa9a7b30461ccba6fdf8"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="p:24" class="idref" href="#p:24"><span class="id" title="binder">p</span></a> <a id="fb3e85b59dc6391d0ecbb754d62cffcd" class="idref" href="#fb3e85b59dc6391d0ecbb754d62cffcd"><span class="id" title="binder">φ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="notation">(</span><a class="idref" href="ISL.Formulas.html#Var"><span class="id" title="constructor">Var</span></a> <a class="idref" href="ISL.Environments.html#p:24"><span class="id" title="variable">p</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.Environments.html#fb3e85b59dc6391d0ecbb754d62cffcd"><span class="id" title="variable">φ</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#417529803507aa9a7b30461ccba6fdf8"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="ISL.Formulas.html#Var"><span class="id" title="constructor">Var</span></a> <a class="idref" href="ISL.Environments.html#p:24"><span class="id" title="variable">p</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#417529803507aa9a7b30461ccba6fdf8"><span class="id" title="variable">Γ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="ISL.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#417529803507aa9a7b30461ccba6fdf8"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="41fb38ac3e798fe26905834c105e239c" class="idref" href="#41fb38ac3e798fe26905834c105e239c"><span class="id" title="binder">φ</span></a> <a id="32cf365ed28b9f7f8dd18aad87ac158f" class="idref" href="#32cf365ed28b9f7f8dd18aad87ac158f"><span class="id" title="binder">ψ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <span class="id" title="notation">(</span><a class="idref" href="ISL.Environments.html#41fb38ac3e798fe26905834c105e239c"><span class="id" title="variable">φ</span></a> <a class="idref" href="ISL.Formulas.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a> <a class="idref" href="ISL.Environments.html#32cf365ed28b9f7f8dd18aad87ac158f"><span class="id" title="variable">ψ</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#417529803507aa9a7b30461ccba6fdf8"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <span class="id" title="notation">(</span><a class="idref" href="ISL.Environments.html#41fb38ac3e798fe26905834c105e239c"><span class="id" title="variable">φ</span></a> <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> <a class="idref" href="ISL.Environments.html#32cf365ed28b9f7f8dd18aad87ac158f"><span class="id" title="variable">ψ</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#417529803507aa9a7b30461ccba6fdf8"><span class="id" title="variable">Γ</span></a>.<br/>

<br/>
</div>

<div class="doc">
We use binary conjunction and disjunction operations which produce simpler equivalent formulas,
   in particular  by taking ⊥ and ⊤ into account 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="make_conj" class="idref" href="#make_conj"><span class="id" title="definition">make_conj</span></a> <a id="x:28" class="idref" href="#x:28"><span class="id" title="binder">x</span></a> <a id="y:29" class="idref" href="#y:29"><span class="id" title="binder">y</span></a> := <span class="id" title="keyword">match</span> <a class="idref" href="ISL.Environments.html#x:28"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
| <a class="idref" href="ISL.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a> =&gt; <a class="idref" href="ISL.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a><br/>
|  (<a class="idref" href="ISL.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a>)  =&gt; <a class="idref" href="ISL.Environments.html#y:29"><span class="id" title="variable">y</span></a><br/>
| <span class="id" title="var">_</span> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="ISL.Environments.html#y:29"><span class="id" title="variable">y</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ISL.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a> =&gt; <a class="idref" href="ISL.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| (<a class="idref" href="ISL.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a>)  =&gt; <a class="idref" href="ISL.Environments.html#x:28"><span class="id" title="variable">x</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt;  <span class="id" title="keyword">if</span> <span class="id" title="definition">decide</span> (<a class="idref" href="ISL.Environments.html#x:28"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Environments.html#y:29"><span class="id" title="variable">y</span></a>) <span class="id" title="keyword">then</span> <a class="idref" href="ISL.Environments.html#x:28"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="ISL.Environments.html#x:28"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Formulas.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a> <a class="idref" href="ISL.Environments.html#y:29"><span class="id" title="variable">y</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Infix</span> <a id="137f50a6b392a042c683ddbcfa4be3c9" class="idref" href="#137f50a6b392a042c683ddbcfa4be3c9"><span class="id" title="notation">&quot;</span></a>⊼" := <a class="idref" href="ISL.Environments.html#make_conj"><span class="id" title="definition">make_conj</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 60).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="make_conj_spec" class="idref" href="#make_conj_spec"><span class="id" title="lemma">make_conj_spec</span></a> <a id="x:32" class="idref" href="#x:32"><span class="id" title="binder">x</span></a> <a id="y:33" class="idref" href="#y:33"><span class="id" title="binder">y</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="ISL.Environments.html#x:32"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="ISL.Environments.html#x:32"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Environments.html#137f50a6b392a042c683ddbcfa4be3c9"><span class="id" title="notation">⊼</span></a> <a class="idref" href="ISL.Environments.html#y:33"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="ISL.Environments.html#x:32"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Formulas.html#276a4a3018138118cad52558d0b71a10"><span class="id" title="notation">⊤</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="ISL.Environments.html#x:32"><span class="id" title="variable">x</span></a>  <a class="idref" href="ISL.Environments.html#137f50a6b392a042c683ddbcfa4be3c9"><span class="id" title="notation">⊼</span></a> <a class="idref" href="ISL.Environments.html#y:33"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Environments.html#y:33"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">{</span></a><a class="idref" href="ISL.Environments.html#y:33"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="ISL.Environments.html#x:32"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Environments.html#137f50a6b392a042c683ddbcfa4be3c9"><span class="id" title="notation">⊼</span></a> <a class="idref" href="ISL.Environments.html#y:33"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">}+</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">{</span></a><a class="idref" href="ISL.Environments.html#y:33"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Formulas.html#276a4a3018138118cad52558d0b71a10"><span class="id" title="notation">⊤</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="ISL.Environments.html#x:32"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Environments.html#137f50a6b392a042c683ddbcfa4be3c9"><span class="id" title="notation">⊼</span></a> <a class="idref" href="ISL.Environments.html#y:33"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Environments.html#x:32"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">{</span></a><a class="idref" href="ISL.Environments.html#x:32"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Environments.html#y:33"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="ISL.Environments.html#x:32"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Environments.html#137f50a6b392a042c683ddbcfa4be3c9"><span class="id" title="notation">⊼</span></a> <a class="idref" href="ISL.Environments.html#y:33"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Environments.html#x:32"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">{</span></a><a class="idref" href="ISL.Environments.html#x:32"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Environments.html#137f50a6b392a042c683ddbcfa4be3c9"><span class="id" title="notation">⊼</span></a> <a class="idref" href="ISL.Environments.html#y:33"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Environments.html#x:32"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Formulas.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a> <a class="idref" href="ISL.Environments.html#y:33"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="ISL.Environments.html#make_conj"><span class="id" title="definition">make_conj</span></a>.<br/>
<span class="id" title="tactic">repeat</span> (<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |- <span class="id" title="keyword">context</span>  [<span class="id" title="keyword">match</span> ?<span class="id" title="var">x</span> <span class="id" title="keyword">with</span> | <span class="id" title="var">_</span>  =&gt; <span class="id" title="var">_</span> <span class="id" title="keyword">end</span>] =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">end</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="occurs_in_make_conj" class="idref" href="#occurs_in_make_conj"><span class="id" title="lemma">occurs_in_make_conj</span></a> <a id="v:34" class="idref" href="#v:34"><span class="id" title="binder">v</span></a> <a id="x:35" class="idref" href="#x:35"><span class="id" title="binder">x</span></a> <a id="y:36" class="idref" href="#y:36"><span class="id" title="binder">y</span></a> : <a class="idref" href="ISL.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="ISL.Environments.html#v:34"><span class="id" title="variable">v</span></a> (<a class="idref" href="ISL.Environments.html#x:35"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Environments.html#137f50a6b392a042c683ddbcfa4be3c9"><span class="id" title="notation">⊼</span></a> <a class="idref" href="ISL.Environments.html#y:36"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="ISL.Environments.html#v:34"><span class="id" title="variable">v</span></a> <a class="idref" href="ISL.Environments.html#x:35"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="ISL.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="ISL.Environments.html#v:34"><span class="id" title="variable">v</span></a> <a class="idref" href="ISL.Environments.html#y:36"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">destruct</span> (<a class="idref" href="ISL.Environments.html#make_conj_spec"><span class="id" title="lemma">make_conj_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [[[[[<span class="id" title="var">Hm</span>|<span class="id" title="var">Hm</span>]|<span class="id" title="var">Hm</span>]|<span class="id" title="var">Hm</span>]|<span class="id" title="var">Hm</span>]|<span class="id" title="var">Hm</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
6:{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">tauto</span>. }<br/>
<span class="id" title="var">all</span>:(<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> <span class="id" title="var">Hm</span>]; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">tauto</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="make_disj" class="idref" href="#make_disj"><span class="id" title="definition">make_disj</span></a> <a id="x:37" class="idref" href="#x:37"><span class="id" title="binder">x</span></a> <a id="y:38" class="idref" href="#y:38"><span class="id" title="binder">y</span></a> := <span class="id" title="keyword">match</span> <a class="idref" href="ISL.Environments.html#x:37"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
| <a class="idref" href="ISL.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a> =&gt; <a class="idref" href="ISL.Environments.html#y:38"><span class="id" title="variable">y</span></a><br/>
|  (<a class="idref" href="ISL.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a>)  =&gt; (<a class="idref" href="ISL.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a>)<br/>
| <span class="id" title="var">_</span> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="ISL.Environments.html#y:38"><span class="id" title="variable">y</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ISL.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a> =&gt; <a class="idref" href="ISL.Environments.html#x:37"><span class="id" title="variable">x</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| (<a class="idref" href="ISL.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a>)  =&gt; (<a class="idref" href="ISL.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="keyword">if</span> <span class="id" title="definition">decide</span> (<a class="idref" href="ISL.Environments.html#x:37"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Environments.html#y:38"><span class="id" title="variable">y</span></a>) <span class="id" title="keyword">then</span> <a class="idref" href="ISL.Environments.html#x:37"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="ISL.Environments.html#x:37"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> <a class="idref" href="ISL.Environments.html#y:38"><span class="id" title="variable">y</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Infix</span> <a id="755dfd3416b2d1ec592af40df719cd5a" class="idref" href="#755dfd3416b2d1ec592af40df719cd5a"><span class="id" title="notation">&quot;</span></a>⊻" := <a class="idref" href="ISL.Environments.html#make_disj"><span class="id" title="definition">make_disj</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 65).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="make_disj_spec" class="idref" href="#make_disj_spec"><span class="id" title="lemma">make_disj_spec</span></a> <a id="x:41" class="idref" href="#x:41"><span class="id" title="binder">x</span></a> <a id="y:42" class="idref" href="#y:42"><span class="id" title="binder">y</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="ISL.Environments.html#x:41"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="ISL.Environments.html#x:41"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Environments.html#755dfd3416b2d1ec592af40df719cd5a"><span class="id" title="notation">⊻</span></a> <a class="idref" href="ISL.Environments.html#y:42"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Environments.html#y:42"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="ISL.Environments.html#x:41"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Formulas.html#276a4a3018138118cad52558d0b71a10"><span class="id" title="notation">⊤</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="ISL.Environments.html#x:41"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Environments.html#755dfd3416b2d1ec592af40df719cd5a"><span class="id" title="notation">⊻</span></a> <a class="idref" href="ISL.Environments.html#y:42"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Formulas.html#276a4a3018138118cad52558d0b71a10"><span class="id" title="notation">⊤</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">{</span></a><a class="idref" href="ISL.Environments.html#y:42"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="ISL.Environments.html#x:41"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Environments.html#755dfd3416b2d1ec592af40df719cd5a"><span class="id" title="notation">⊻</span></a> <a class="idref" href="ISL.Environments.html#y:42"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Environments.html#x:41"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">{</span></a><a class="idref" href="ISL.Environments.html#y:42"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Formulas.html#276a4a3018138118cad52558d0b71a10"><span class="id" title="notation">⊤</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="ISL.Environments.html#x:41"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Environments.html#755dfd3416b2d1ec592af40df719cd5a"><span class="id" title="notation">⊻</span></a> <a class="idref" href="ISL.Environments.html#y:42"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Formulas.html#276a4a3018138118cad52558d0b71a10"><span class="id" title="notation">⊤</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">{</span></a><a class="idref" href="ISL.Environments.html#x:41"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Environments.html#y:42"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="ISL.Environments.html#x:41"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Environments.html#755dfd3416b2d1ec592af40df719cd5a"><span class="id" title="notation">⊻</span></a> <a class="idref" href="ISL.Environments.html#y:42"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Environments.html#x:41"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">{</span></a><a class="idref" href="ISL.Environments.html#x:41"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Environments.html#755dfd3416b2d1ec592af40df719cd5a"><span class="id" title="notation">⊻</span></a> <a class="idref" href="ISL.Environments.html#y:42"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Environments.html#x:41"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> <a class="idref" href="ISL.Environments.html#y:42"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="ISL.Environments.html#make_disj"><span class="id" title="definition">make_disj</span></a>.<br/>
<span class="id" title="tactic">repeat</span> (<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |- <span class="id" title="keyword">context</span>  [<span class="id" title="keyword">match</span> ?<span class="id" title="var">x</span> <span class="id" title="keyword">with</span> | <span class="id" title="var">_</span>  =&gt; <span class="id" title="var">_</span> <span class="id" title="keyword">end</span>] =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">end</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="occurs_in_make_disj" class="idref" href="#occurs_in_make_disj"><span class="id" title="lemma">occurs_in_make_disj</span></a> <a id="v:43" class="idref" href="#v:43"><span class="id" title="binder">v</span></a> <a id="x:44" class="idref" href="#x:44"><span class="id" title="binder">x</span></a> <a id="y:45" class="idref" href="#y:45"><span class="id" title="binder">y</span></a> : <a class="idref" href="ISL.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="ISL.Environments.html#v:43"><span class="id" title="variable">v</span></a> (<a class="idref" href="ISL.Environments.html#x:44"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Environments.html#755dfd3416b2d1ec592af40df719cd5a"><span class="id" title="notation">⊻</span></a> <a class="idref" href="ISL.Environments.html#y:45"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="ISL.Environments.html#v:43"><span class="id" title="variable">v</span></a> <a class="idref" href="ISL.Environments.html#x:44"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="ISL.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="ISL.Environments.html#v:43"><span class="id" title="variable">v</span></a> <a class="idref" href="ISL.Environments.html#y:45"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">destruct</span> (<a class="idref" href="ISL.Environments.html#make_disj_spec"><span class="id" title="lemma">make_disj_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [[[[[<span class="id" title="var">Hm</span>|<span class="id" title="var">Hm</span>]|<span class="id" title="var">Hm</span>]|<span class="id" title="var">Hm</span>]|<span class="id" title="var">Hm</span>]|<span class="id" title="var">Hm</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
6:{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">tauto</span>. }<br/>
<span class="id" title="var">all</span>:(<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> <span class="id" title="var">Hm</span>]; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">tauto</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;"lazy"&nbsp;implication,&nbsp;which&nbsp;produces&nbsp;a&nbsp;potentially&nbsp;simpler,&nbsp;equivalent&nbsp;formula&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="make_impl" class="idref" href="#make_impl"><span class="id" title="definition">make_impl</span></a> <a id="x:46" class="idref" href="#x:46"><span class="id" title="binder">x</span></a> <a id="y:47" class="idref" href="#y:47"><span class="id" title="binder">y</span></a> :=<br/>
<span class="id" title="keyword">if</span> <span class="id" title="definition">decide</span> (<a class="idref" href="ISL.Environments.html#x:46"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a>) <span class="id" title="keyword">then</span> <a class="idref" href="ISL.Formulas.html#276a4a3018138118cad52558d0b71a10"><span class="id" title="notation">⊤</span></a> <span class="id" title="keyword">else</span> <span class="id" title="keyword">if</span> <span class="id" title="definition">decide</span> (<a class="idref" href="ISL.Environments.html#y:47"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">then</span> <a class="idref" href="ISL.Formulas.html#276a4a3018138118cad52558d0b71a10"><span class="id" title="notation">⊤</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="ISL.Environments.html#x:46"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.Environments.html#y:47"><span class="id" title="variable">y</span></a>.<br/>

<br/>
<span class="id" title="keyword">Infix</span> <a id="e11a273adc0648f21ffb62a003ec5cea" class="idref" href="#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">&quot;</span></a>⇢" := <a class="idref" href="ISL.Environments.html#make_impl"><span class="id" title="definition">make_impl</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 66).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="make_impl_spec" class="idref" href="#make_impl_spec"><span class="id" title="lemma">make_impl_spec</span></a> <a id="x:48" class="idref" href="#x:48"><span class="id" title="binder">x</span></a> <a id="y:49" class="idref" href="#y:49"><span class="id" title="binder">y</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="ISL.Environments.html#x:48"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="ISL.Environments.html#x:48"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">⇢</span></a> <a class="idref" href="ISL.Environments.html#y:49"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Formulas.html#276a4a3018138118cad52558d0b71a10"><span class="id" title="notation">⊤</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="ISL.Environments.html#y:49"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Formulas.html#276a4a3018138118cad52558d0b71a10"><span class="id" title="notation">⊤</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="ISL.Environments.html#x:48"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">⇢</span></a> <a class="idref" href="ISL.Environments.html#y:49"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Formulas.html#276a4a3018138118cad52558d0b71a10"><span class="id" title="notation">⊤</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">{</span></a><a class="idref" href="ISL.Environments.html#x:48"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">⇢</span></a> <a class="idref" href="ISL.Environments.html#y:49"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Environments.html#x:48"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.Environments.html#y:49"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="ISL.Environments.html#make_impl"><span class="id" title="definition">make_impl</span></a>.<br/>
<span class="id" title="tactic">repeat</span> (<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |- <span class="id" title="keyword">context</span>  [<span class="id" title="keyword">match</span> ?<span class="id" title="var">x</span> <span class="id" title="keyword">with</span> | <span class="id" title="var">_</span>  =&gt; <span class="id" title="var">_</span> <span class="id" title="keyword">end</span>] =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">end</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="occurs_in_make_impl" class="idref" href="#occurs_in_make_impl"><span class="id" title="lemma">occurs_in_make_impl</span></a> <a id="v:50" class="idref" href="#v:50"><span class="id" title="binder">v</span></a> <a id="x:51" class="idref" href="#x:51"><span class="id" title="binder">x</span></a> <a id="y:52" class="idref" href="#y:52"><span class="id" title="binder">y</span></a> : <a class="idref" href="ISL.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="ISL.Environments.html#v:50"><span class="id" title="variable">v</span></a> (<a class="idref" href="ISL.Environments.html#x:51"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">⇢</span></a> <a class="idref" href="ISL.Environments.html#y:52"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="ISL.Environments.html#v:50"><span class="id" title="variable">v</span></a> <a class="idref" href="ISL.Environments.html#x:51"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="ISL.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="ISL.Environments.html#v:50"><span class="id" title="variable">v</span></a> <a class="idref" href="ISL.Environments.html#y:52"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">destruct</span> (<a class="idref" href="ISL.Environments.html#make_impl_spec"><span class="id" title="lemma">make_impl_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Hm</span>|<span class="id" title="var">Hm</span>]|<span class="id" title="var">Hm</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
3:{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">tauto</span>. }<br/>
<span class="id" title="var">all</span>:(<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> <span class="id" title="var">Hm</span>]; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">tauto</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="occurs_in_make_impl2" class="idref" href="#occurs_in_make_impl2"><span class="id" title="lemma">occurs_in_make_impl2</span></a> <a id="v:53" class="idref" href="#v:53"><span class="id" title="binder">v</span></a> <a id="x:54" class="idref" href="#x:54"><span class="id" title="binder">x</span></a> <a id="y:55" class="idref" href="#y:55"><span class="id" title="binder">y</span></a> <a id="z:56" class="idref" href="#z:56"><span class="id" title="binder">z</span></a>: <a class="idref" href="ISL.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="ISL.Environments.html#v:53"><span class="id" title="variable">v</span></a> (<a class="idref" href="ISL.Environments.html#x:54"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">⇢</span></a> <a class="idref" href="ISL.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Environments.html#y:55"><span class="id" title="variable">y</span></a> <a class="idref" href="ISL.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">⇢</span></a> <a class="idref" href="ISL.Environments.html#z:56"><span class="id" title="variable">z</span></a><a class="idref" href="ISL.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="ISL.Environments.html#v:53"><span class="id" title="variable">v</span></a> <a class="idref" href="ISL.Environments.html#x:54"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="ISL.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="ISL.Environments.html#v:53"><span class="id" title="variable">v</span></a> <a class="idref" href="ISL.Environments.html#y:55"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="ISL.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="ISL.Environments.html#v:53"><span class="id" title="variable">v</span></a> <a class="idref" href="ISL.Environments.html#z:56"><span class="id" title="variable">z</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#occurs_in_make_impl"><span class="id" title="lemma">occurs_in_make_impl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#occurs_in_make_impl"><span class="id" title="lemma">occurs_in_make_impl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">tauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
To be noted: we remove duplicates first 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="conjunction" class="idref" href="#conjunction"><span class="id" title="definition">conjunction</span></a> <a id="l:57" class="idref" href="#l:57"><span class="id" title="binder">l</span></a> := <span class="id" title="definition">foldl</span> <a class="idref" href="ISL.Environments.html#make_conj"><span class="id" title="definition">make_conj</span></a> (<a class="idref" href="ISL.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Lists.List.html#nodup"><span class="id" title="definition">nodup</span></a> <a class="idref" href="ISL.Formulas.html#form_eq_dec"><span class="id" title="instance">form_eq_dec</span></a> <a class="idref" href="ISL.Environments.html#l:57"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Notation</span> <a id="477b8e4d1694e4a1d705e8bc8b366a21" class="idref" href="#477b8e4d1694e4a1d705e8bc8b366a21"><span class="id" title="notation">&quot;</span></a>⋀" := <a class="idref" href="ISL.Environments.html#conjunction"><span class="id" title="definition">conjunction</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="disjunction" class="idref" href="#disjunction"><span class="id" title="definition">disjunction</span></a> <a id="l:58" class="idref" href="#l:58"><span class="id" title="binder">l</span></a> := <span class="id" title="definition">foldl</span> <a class="idref" href="ISL.Environments.html#make_disj"><span class="id" title="definition">make_disj</span></a> <a class="idref" href="ISL.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Lists.List.html#nodup"><span class="id" title="definition">nodup</span></a> <a class="idref" href="ISL.Formulas.html#form_eq_dec"><span class="id" title="instance">form_eq_dec</span></a> <a class="idref" href="ISL.Environments.html#l:58"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Notation</span> <a id="9392c2b2890c2b7f46c695283fb6e03f" class="idref" href="#9392c2b2890c2b7f46c695283fb6e03f"><span class="id" title="notation">&quot;</span></a>⋁" := <a class="idref" href="ISL.Environments.html#disjunction"><span class="id" title="definition">disjunction</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="variables_conjunction" class="idref" href="#variables_conjunction"><span class="id" title="lemma">variables_conjunction</span></a> <a id="x:59" class="idref" href="#x:59"><span class="id" title="binder">x</span></a> <a id="l:60" class="idref" href="#l:60"><span class="id" title="binder">l</span></a> : <a class="idref" href="ISL.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="ISL.Environments.html#x:59"><span class="id" title="variable">x</span></a> (<a class="idref" href="ISL.Environments.html#477b8e4d1694e4a1d705e8bc8b366a21"><span class="id" title="notation">⋀</span></a> <a class="idref" href="ISL.Environments.html#477b8e4d1694e4a1d705e8bc8b366a21"><span class="id" title="notation">l</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="53ea00476cc8af7a1034e6f1fe029e7d" class="idref" href="#53ea00476cc8af7a1034e6f1fe029e7d"><span class="id" title="binder">φ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="ISL.Environments.html#53ea00476cc8af7a1034e6f1fe029e7d"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#l:60"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ISL.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="ISL.Environments.html#x:59"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Environments.html#53ea00476cc8af7a1034e6f1fe029e7d"><span class="id" title="variable">φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="ISL.Environments.html#conjunction"><span class="id" title="definition">conjunction</span></a>.<br/>
<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hcut</span> : <span class="id" title="notation">forall</span> <a id="34384e26597da7484e2b7368df1adaed" class="idref" href="#34384e26597da7484e2b7368df1adaed"><span class="id" title="binder"><span id="28ca9e39e16da0f95c1aa42a66df6727" class="id">ψ</span></span></a><span class="id" title="notation">,</span> <a class="idref" href="ISL.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <span class="id" title="var">x</span> (<span class="id" title="definition">foldl</span> <a class="idref" href="ISL.Environments.html#make_conj"><span class="id" title="definition">make_conj</span></a> <a class="idref" href="ISL.Environments.html#34384e26597da7484e2b7368df1adaed"><span class="id" title="variable">ψ</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Lists.List.html#nodup"><span class="id" title="definition">nodup</span></a> <a class="idref" href="ISL.Formulas.html#form_eq_dec"><span class="id" title="instance">form_eq_dec</span></a> <span class="id" title="var">l</span>))<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <span class="id" title="var">x</span> <a class="idref" href="ISL.Environments.html#34384e26597da7484e2b7368df1adaed"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="a2960d92c3b2439b107d8071a9ad5a42" class="idref" href="#a2960d92c3b2439b107d8071a9ad5a42"><span class="id" title="binder"><span id="e7b86371516ee204368a8545acdaf97b" class="id">φ</span></span></a> : <a class="idref" href="ISL.Formulas.html#form"><span class="id" title="inductive">form</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> (<a class="idref" href="ISL.Environments.html#a2960d92c3b2439b107d8071a9ad5a42"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="ISL.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <span class="id" title="var">x</span> <a class="idref" href="ISL.Environments.html#a2960d92c3b2439b107d8071a9ad5a42"><span class="id" title="variable">φ</span></a>)%<span class="id" title="keyword">type</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>).<br/>
{<br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>.<br/>
- <span class="id" title="tactic">tauto</span>.<br/>
- <span class="id" title="tactic">intros</span> ψ <span class="id" title="var">Hocc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hocc</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hocc</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hocc</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hocc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hx</span>|(φ&amp;<span class="id" title="var">Hin</span>&amp;<span class="id" title="var">Hx</span>)]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">exists</span> φ. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#occurs_in_make_conj"><span class="id" title="lemma">occurs_in_make_conj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hx</span>|<span class="id" title="var">Hx</span>]; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">exists</span> φ. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *.<br/>
}<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hocc</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hcut</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hocc</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hocc</span>. <span class="id" title="tactic">tauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="variables_disjunction" class="idref" href="#variables_disjunction"><span class="id" title="lemma">variables_disjunction</span></a> <a id="x:66" class="idref" href="#x:66"><span class="id" title="binder">x</span></a> <a id="l:67" class="idref" href="#l:67"><span class="id" title="binder">l</span></a> : <a class="idref" href="ISL.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="ISL.Environments.html#x:66"><span class="id" title="variable">x</span></a> (<a class="idref" href="ISL.Environments.html#9392c2b2890c2b7f46c695283fb6e03f"><span class="id" title="notation">⋁</span></a> <a class="idref" href="ISL.Environments.html#9392c2b2890c2b7f46c695283fb6e03f"><span class="id" title="notation">l</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="6e868649af7839bd225e1fbe6e95120a" class="idref" href="#6e868649af7839bd225e1fbe6e95120a"><span class="id" title="binder">φ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="ISL.Environments.html#6e868649af7839bd225e1fbe6e95120a"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#l:67"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ISL.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="ISL.Environments.html#x:66"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Environments.html#6e868649af7839bd225e1fbe6e95120a"><span class="id" title="variable">φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="ISL.Environments.html#disjunction"><span class="id" title="definition">disjunction</span></a>.<br/>
<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hcut</span> : <span class="id" title="notation">forall</span> <a id="b9feb1ec9b78775a00b09c76c76166e8" class="idref" href="#b9feb1ec9b78775a00b09c76c76166e8"><span class="id" title="binder"><span id="d70a53eab1cf0a476aa5671d2965298f" class="id">ψ</span></span></a><span class="id" title="notation">,</span> <a class="idref" href="ISL.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <span class="id" title="var">x</span> (<span class="id" title="definition">foldl</span> <a class="idref" href="ISL.Environments.html#make_disj"><span class="id" title="definition">make_disj</span></a> <a class="idref" href="ISL.Environments.html#b9feb1ec9b78775a00b09c76c76166e8"><span class="id" title="variable">ψ</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Lists.List.html#nodup"><span class="id" title="definition">nodup</span></a> <a class="idref" href="ISL.Formulas.html#form_eq_dec"><span class="id" title="instance">form_eq_dec</span></a> <span class="id" title="var">l</span>))<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <span class="id" title="var">x</span> <a class="idref" href="ISL.Environments.html#b9feb1ec9b78775a00b09c76c76166e8"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="8665f66ba561782ab5ab8a391166e7b4" class="idref" href="#8665f66ba561782ab5ab8a391166e7b4"><span class="id" title="binder"><span id="722f23c219f9f33dea4643daca56e0a0" class="id">φ</span></span></a> : <a class="idref" href="ISL.Formulas.html#form"><span class="id" title="inductive">form</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> (<a class="idref" href="ISL.Environments.html#8665f66ba561782ab5ab8a391166e7b4"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="ISL.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <span class="id" title="var">x</span> <a class="idref" href="ISL.Environments.html#8665f66ba561782ab5ab8a391166e7b4"><span class="id" title="variable">φ</span></a>)%<span class="id" title="keyword">type</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>).<br/>
{<br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>.<br/>
- <span class="id" title="tactic">tauto</span>.<br/>
- <span class="id" title="tactic">intros</span> ψ <span class="id" title="var">Hocc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hocc</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hocc</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hocc</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hocc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hx</span>|(φ&amp;<span class="id" title="var">Hin</span>&amp;<span class="id" title="var">Hx</span>)]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">exists</span> φ. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#occurs_in_make_disj"><span class="id" title="lemma">occurs_in_make_disj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hx</span>|<span class="id" title="var">Hx</span>]; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">exists</span> φ. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *.<br/>
}<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hocc</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hcut</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hocc</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hocc</span>. <span class="id" title="tactic">tauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab4"></a><h1 class="section">A dependent version of `map`</h1>

</div>
<div class="code">
<span class="comment">(*&nbsp;a&nbsp;dependent&nbsp;map&nbsp;on&nbsp;lists,&nbsp;with&nbsp;knowledge&nbsp;that&nbsp;we&nbsp;are&nbsp;on&nbsp;that&nbsp;list&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;should&nbsp;work&nbsp;with&nbsp;any&nbsp;set-like&nbsp;type&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Program Fixpoint</span> <a id="in_map_aux" class="idref" href="#in_map_aux"><span class="id" title="definition">in_map_aux</span></a> {<a id="A:73" class="idref" href="#A:73"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} (<a id="e39533f4436c70a60eb8bc25b64a6730" class="idref" href="#e39533f4436c70a60eb8bc25b64a6730"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>) (<a id="f:76" class="idref" href="#f:76"><span class="id" title="binder">f</span></a> : <span class="id" title="notation">forall</span> <a id="76cc59604fc041fa855c5f8ca662099f" class="idref" href="#76cc59604fc041fa855c5f8ca662099f"><span class="id" title="binder">φ</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Environments.html#76cc59604fc041fa855c5f8ca662099f"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#e39533f4436c70a60eb8bc25b64a6730"><span class="id" title="variable">Γ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Environments.html#A:73"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;<a id="4e03ff6275074ffb5787d2892e9be4b0" class="idref" href="#4e03ff6275074ffb5787d2892e9be4b0"><span class="id" title="binder">Γ'</span></a> (<a id="aaa9a2ef76bd20739557923c17baceeb" class="idref" href="#aaa9a2ef76bd20739557923c17baceeb"><span class="id" title="binder">HΓ'</span></a> : <a class="idref" href="ISL.Environments.html#4e03ff6275074ffb5787d2892e9be4b0"><span class="id" title="variable">Γ'</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">elements</span> <a class="idref" href="ISL.Environments.html#e39533f4436c70a60eb8bc25b64a6730"><span class="id" title="variable">Γ</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ISL.Environments.html#A:73"><span class="id" title="variable">A</span></a>:=<br/>
<span class="id" title="keyword">match</span> <a class="idref" href="ISL.Environments.html#4e03ff6275074ffb5787d2892e9be4b0"><span class="id" title="variable">Γ'</span></a> <span class="id" title="keyword">with</span><br/>
| <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
| <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">Γ'</span> =&gt; <a class="idref" href="ISL.Environments.html#f:76"><span class="id" title="variable">f</span></a> <span class="id" title="var">a</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="ISL.Environments.html#in_map_aux:79"><span class="id" title="definition">in_map_aux</span></a> <a class="idref" href="ISL.Environments.html#e39533f4436c70a60eb8bc25b64a6730"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Environments.html#f:76"><span class="id" title="variable">f</span></a> <a class="idref" href="ISL.Environments.html#4e03ff6275074ffb5787d2892e9be4b0"><span class="id" title="variable">Γ'</span></a> <span class="id" title="var">_</span><br/>
<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">gmultiset_elem_of_elements</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="in_map" class="idref" href="#in_map"><span class="id" title="definition">in_map</span></a> {<a id="A:81" class="idref" href="#A:81"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} (<a id="b979ed2238d3be87b5669898b8353b94" class="idref" href="#b979ed2238d3be87b5669898b8353b94"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>)<br/>
&nbsp;&nbsp;(<a id="f:84" class="idref" href="#f:84"><span class="id" title="binder">f</span></a> : <span class="id" title="notation">forall</span> <a id="5b8a7850a057fbd3aef1f0ee75c36e0c" class="idref" href="#5b8a7850a057fbd3aef1f0ee75c36e0c"><span class="id" title="binder">φ</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Environments.html#5b8a7850a057fbd3aef1f0ee75c36e0c"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#b979ed2238d3be87b5669898b8353b94"><span class="id" title="variable">Γ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Environments.html#A:81"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ISL.Environments.html#A:81"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ISL.Environments.html#in_map_aux"><span class="id" title="definition">in_map_aux</span></a> <a class="idref" href="ISL.Environments.html#b979ed2238d3be87b5669898b8353b94"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Environments.html#f:84"><span class="id" title="variable">f</span></a> (<span class="id" title="definition">elements</span> <a class="idref" href="ISL.Environments.html#b979ed2238d3be87b5669898b8353b94"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#reflexivity"><span class="id" title="definition">reflexivity</span></a> <span class="id" title="var">_</span>).<br/>

<br/>
<span class="comment">(*&nbsp;This&nbsp;generalises&nbsp;to&nbsp;any&nbsp;type.&nbsp;decidability&nbsp;of&nbsp;equality&nbsp;over&nbsp;this&nbsp;type&nbsp;is&nbsp;necessary&nbsp;for&nbsp;a&nbsp;result&nbsp;in&nbsp;"Type"&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="in_in_map" class="idref" href="#in_in_map"><span class="id" title="lemma">in_in_map</span></a> {<a id="A:85" class="idref" href="#A:85"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} {<a id="HD:88" class="idref" href="#HD:88"><span class="id" title="binder">HD</span></a> : <span class="id" title="notation">forall</span> <a id="a:86" class="idref" href="#a:86"><span class="id" title="binder">a</span></a> <a id="b:87" class="idref" href="#b:87"><span class="id" title="binder">b</span></a> : <a class="idref" href="ISL.Environments.html#A:85"><span class="id" title="variable">A</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Decision</span> (<a class="idref" href="ISL.Environments.html#a:86"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Environments.html#b:87"><span class="id" title="variable">b</span></a>)}<br/>
&nbsp;&nbsp;<a id="27d9827c9a99dcd0f67a42a48d6a2a25" class="idref" href="#27d9827c9a99dcd0f67a42a48d6a2a25"><span class="id" title="binder">Γ</span></a> (<a id="f:91" class="idref" href="#f:91"><span class="id" title="binder">f</span></a> : <span class="id" title="notation">forall</span> <a id="c029255c13642859ced9483554100aae" class="idref" href="#c029255c13642859ced9483554100aae"><span class="id" title="binder">φ</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Environments.html#c029255c13642859ced9483554100aae"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#27d9827c9a99dcd0f67a42a48d6a2a25"><span class="id" title="variable">Γ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Environments.html#A:85"><span class="id" title="variable">A</span></a>) <a id="df107c34d068073100ba3fa67337b5dd" class="idref" href="#df107c34d068073100ba3fa67337b5dd"><span class="id" title="binder">ψ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="ISL.Environments.html#df107c34d068073100ba3fa67337b5dd"><span class="id" title="variable">ψ</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="ISL.Environments.html#in_map"><span class="id" title="definition">in_map</span></a> <a class="idref" href="ISL.Environments.html#27d9827c9a99dcd0f67a42a48d6a2a25"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Environments.html#f:91"><span class="id" title="variable">f</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">{</span></a><a id="4189b379b0abac0b825beb8766d27356" class="idref" href="#4189b379b0abac0b825beb8766d27356"><span class="id" title="binder">ψ0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">{</span></a><a id="Hin:94" class="idref" href="#Hin:94"><span class="id" title="binder">Hin</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">|</span></a> <a class="idref" href="ISL.Environments.html#df107c34d068073100ba3fa67337b5dd"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Environments.html#f:91"><span class="id" title="variable">f</span></a> <a class="idref" href="ISL.Environments.html#4189b379b0abac0b825beb8766d27356"><span class="id" title="variable">ψ0</span></a> <a class="idref" href="ISL.Environments.html#Hin:94"><span class="id" title="variable">Hin</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">}</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="ISL.Environments.html#in_map"><span class="id" title="definition">in_map</span></a>.<br/>
<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hcut</span> : <span class="id" title="notation">forall</span> <a id="42e16a64903989288a11a52040fdb8b8" class="idref" href="#42e16a64903989288a11a52040fdb8b8"><span class="id" title="binder"><span id="aa31e028961e2cca9b06a60c2f4faa98" class="id">Γ'</span></span></a> (<a id="535b17409663ff83c8716f435e568cff" class="idref" href="#535b17409663ff83c8716f435e568cff"><span class="id" title="binder"><span id="79d19fc7a82add262a1eb63e1969c8a2" class="id">HΓ'</span></span></a> : <a class="idref" href="ISL.Environments.html#42e16a64903989288a11a52040fdb8b8"><span class="id" title="variable">Γ'</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">elements</span> <span class="id" title="var">Γ</span><span class="id" title="notation">),</span> ψ <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#in_map_aux"><span class="id" title="definition">in_map_aux</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">f</span> <a class="idref" href="ISL.Environments.html#42e16a64903989288a11a52040fdb8b8"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="ISL.Environments.html#535b17409663ff83c8716f435e568cff"><span class="id" title="variable">HΓ'</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">{</span></a><a id="8c6dbe7c7097b6e12affcee2913f04a3" class="idref" href="#8c6dbe7c7097b6e12affcee2913f04a3"><span class="id" title="binder"><span id="4bf28efe0b7d277b3126cbc97f4d7c86" class="id">ψ0</span></span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a><a id="Hin:98" class="idref" href="#Hin:98"><span class="id" title="binder"><span id="Hin:102" class="id">Hin</span></span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="ISL.Environments.html#8c6dbe7c7097b6e12affcee2913f04a3"><span class="id" title="variable">ψ0</span></a> <span class="id" title="notation">∈</span> <span class="id" title="var">Γ</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> ψ <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">f</span> <a class="idref" href="ISL.Environments.html#8c6dbe7c7097b6e12affcee2913f04a3"><span class="id" title="variable">ψ0</span></a> <a class="idref" href="ISL.Environments.html#Hin:98"><span class="id" title="variable">Hin</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">}</span></a>); [|<span class="id" title="tactic">apply</span> <span class="id" title="var">Hcut</span>].<br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ'</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">HΓ'</span> <span class="id" title="var">Hin</span>.<br/>
- <span class="id" title="var">contradict</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_nil</span>.<br/>
- <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> | <span class="id" title="var">H</span> : ψ <span class="id" title="notation">∈</span> ?<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Environments.html#in_map_aux"><span class="id" title="definition">in_map_aux</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ?<span class="id" title="var">HΓ''</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">)</span></a> |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (ψ <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>)); [| <span class="id" title="tactic">pose</span> (<span class="id" title="var">myHΓ'</span> := <span class="id" title="var">HΓ''</span>)] <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">Hneq</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHΓ'</span> <span class="id" title="var">myHΓ'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">tauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local Definition</span> <a id="in_subset" class="idref" href="#in_subset"><span class="id" title="definition">in_subset</span></a> {<a id="0e1bf0b524e757fdeece72811bdc1c94" class="idref" href="#0e1bf0b524e757fdeece72811bdc1c94"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>} {<a id="85cb21a7d2f5f3bff202e82711024c2c" class="idref" href="#85cb21a7d2f5f3bff202e82711024c2c"><span class="id" title="binder">Γ'</span></a>} (<a id="Hi:105" class="idref" href="#Hi:105"><span class="id" title="binder">Hi</span></a> : <a class="idref" href="ISL.Environments.html#85cb21a7d2f5f3bff202e82711024c2c"><span class="id" title="variable">Γ'</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">elements</span> <a class="idref" href="ISL.Environments.html#0e1bf0b524e757fdeece72811bdc1c94"><span class="id" title="variable">Γ</span></a>) {<a id="7ec3f183847fb630679970a7c8368f1d" class="idref" href="#7ec3f183847fb630679970a7c8368f1d"><span class="id" title="binder">ψ0</span></a>} (<a id="Hin:107" class="idref" href="#Hin:107"><span class="id" title="binder">Hin</span></a> : <a class="idref" href="ISL.Environments.html#7ec3f183847fb630679970a7c8368f1d"><span class="id" title="variable">ψ0</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#85cb21a7d2f5f3bff202e82711024c2c"><span class="id" title="variable">Γ'</span></a>) : <a class="idref" href="ISL.Environments.html#7ec3f183847fb630679970a7c8368f1d"><span class="id" title="variable">ψ0</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#0e1bf0b524e757fdeece72811bdc1c94"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">gmultiset_elem_of_elements</span>,<span class="id" title="var">Hi</span>, <span class="id" title="var">Hin</span>. <span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;converse&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;we&nbsp;require&nbsp;proof&nbsp;irrelevance&nbsp;for&nbsp;the&nbsp;mapped&nbsp;function&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="in_map_in" class="idref" href="#in_map_in"><span class="id" title="lemma">in_map_in</span></a> {<a id="A:108" class="idref" href="#A:108"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} {<a id="HD:111" class="idref" href="#HD:111"><span class="id" title="binder">HD</span></a> : <span class="id" title="notation">forall</span> <a id="a:109" class="idref" href="#a:109"><span class="id" title="binder">a</span></a> <a id="b:110" class="idref" href="#b:110"><span class="id" title="binder">b</span></a> : <a class="idref" href="ISL.Environments.html#A:108"><span class="id" title="variable">A</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Decision</span> (<a class="idref" href="ISL.Environments.html#a:109"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Environments.html#b:110"><span class="id" title="variable">b</span></a>)}<br/>
&nbsp;&nbsp;{<a id="eb67d32a8b8852c5012353beb716761f" class="idref" href="#eb67d32a8b8852c5012353beb716761f"><span class="id" title="binder">Γ</span></a>} {<a id="f:114" class="idref" href="#f:114"><span class="id" title="binder">f</span></a> : <span class="id" title="notation">forall</span> <a id="fa575d4200e77048ac891f10499a140d" class="idref" href="#fa575d4200e77048ac891f10499a140d"><span class="id" title="binder">φ</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Environments.html#fa575d4200e77048ac891f10499a140d"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#eb67d32a8b8852c5012353beb716761f"><span class="id" title="variable">Γ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Environments.html#A:108"><span class="id" title="variable">A</span></a>} {<a id="9339c81d5d8867006e37c6616937ffcb" class="idref" href="#9339c81d5d8867006e37c6616937ffcb"><span class="id" title="binder">ψ0</span></a>} (<a id="Hin:116" class="idref" href="#Hin:116"><span class="id" title="binder">Hin</span></a> : <a class="idref" href="ISL.Environments.html#9339c81d5d8867006e37c6616937ffcb"><span class="id" title="variable">ψ0</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#eb67d32a8b8852c5012353beb716761f"><span class="id" title="variable">Γ</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">{</span></a><a id="Hin':117" class="idref" href="#Hin':117"><span class="id" title="binder">Hin'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">|</span></a> <a class="idref" href="ISL.Environments.html#f:114"><span class="id" title="variable">f</span></a> <a class="idref" href="ISL.Environments.html#9339c81d5d8867006e37c6616937ffcb"><span class="id" title="variable">ψ0</span></a> <a class="idref" href="ISL.Environments.html#Hin':117"><span class="id" title="variable">Hin'</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="ISL.Environments.html#in_map"><span class="id" title="definition">in_map</span></a> <a class="idref" href="ISL.Environments.html#eb67d32a8b8852c5012353beb716761f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Environments.html#f:114"><span class="id" title="variable">f</span></a><span class="id" title="notation">)</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="ISL.Environments.html#in_map"><span class="id" title="definition">in_map</span></a>.<br/>
<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hcut</span> : <span class="id" title="notation">forall</span> <a id="0d6291204271f5f7e2f344400f0858eb" class="idref" href="#0d6291204271f5f7e2f344400f0858eb"><span class="id" title="binder"><span id="43313c100cc2deb2a731b90c335b7bee" class="id">Γ'</span></span></a> (<a id="3798f2ae5a1214913601fc69f46bfbaa" class="idref" href="#3798f2ae5a1214913601fc69f46bfbaa"><span class="id" title="binder"><span id="d3829ba75381f7f7cd2727346f489f3f" class="id">HΓ'</span></span></a> : <a class="idref" href="ISL.Environments.html#0d6291204271f5f7e2f344400f0858eb"><span class="id" title="variable">Γ'</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">elements</span> <span class="id" title="var">Γ</span>) <a id="87f05cde25f7459519337948c49b95f0" class="idref" href="#87f05cde25f7459519337948c49b95f0"><span class="id" title="binder"><span id="aaba9575e39c1fb2346fb0fd4af06022" class="id">ψ0</span></span></a> (<a id="Hin:121" class="idref" href="#Hin:121"><span class="id" title="binder"><span id="Hin:126" class="id">Hin</span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="ISL.Environments.html#87f05cde25f7459519337948c49b95f0"><span class="id" title="variable">ψ0</span></a> <a class="idref" href="ISL.Environments.html#0d6291204271f5f7e2f344400f0858eb"><span class="id" title="variable">Γ'</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">{</span></a><a id="Hin':122" class="idref" href="#Hin':122"><span class="id" title="binder"><span id="Hin':127" class="id">Hin'</span></span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">|</span></a> <span class="id" title="var">f</span> <a class="idref" href="ISL.Environments.html#87f05cde25f7459519337948c49b95f0"><span class="id" title="variable">ψ0</span></a> <a class="idref" href="ISL.Environments.html#Hin':122"><span class="id" title="variable">Hin'</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#in_map_aux"><span class="id" title="definition">in_map_aux</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">f</span> <a class="idref" href="ISL.Environments.html#0d6291204271f5f7e2f344400f0858eb"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="ISL.Environments.html#3798f2ae5a1214913601fc69f46bfbaa"><span class="id" title="variable">HΓ'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">}</span></a>).<br/>
- <span class="id" title="tactic">induction</span> <span class="id" title="var">Γ'</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">HΓ'</span> ψ' <span class="id" title="var">Hin'</span>; [<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (ψ' <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">Hneq</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hin''</span> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> ψ' <span class="id" title="var">Γ'</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin'</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">tauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">Hincl</span> := (<a class="idref" href="ISL.Environments.html#in_map_aux_obligation_2"><span class="id" title="lemma">in_map_aux_obligation_2</span></a> <span class="id" title="var">Γ</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ'</span>) <span class="id" title="var">HΓ'</span> <span class="id" title="var">a</span> <span class="id" title="var">Γ'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHΓ'</span> <span class="id" title="var">Hincl</span> ψ' <span class="id" title="var">Hin''</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hin0</span> <span class="id" title="var">Hprop</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hprop</span>.<br/>
- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hcut</span> (<span class="id" title="definition">elements</span> <span class="id" title="var">Γ</span>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#reflexivity"><span class="id" title="definition">reflexivity</span></a> (<span class="id" title="definition">elements</span> <span class="id" title="var">Γ</span>)) ψ0) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hin'</span> <span class="id" title="var">Hprop</span>].<br/>
&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_In</span>,  <span class="id" title="lemma">gmultiset_elem_of_elements</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">Hin'</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">Hprop</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="in_map_empty" class="idref" href="#in_map_empty"><span class="id" title="lemma">in_map_empty</span></a> <a id="A:128" class="idref" href="#A:128"><span class="id" title="binder">A</span></a> <a id="f:129" class="idref" href="#f:129"><span class="id" title="binder">f</span></a> : @<a class="idref" href="ISL.Environments.html#in_map"><span class="id" title="definition">in_map</span></a> <a class="idref" href="ISL.Environments.html#A:128"><span class="id" title="variable">A</span></a> <span class="id" title="notation">∅</span> <a class="idref" href="ISL.Environments.html#f:129"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="in_map_ext" class="idref" href="#in_map_ext"><span class="id" title="lemma">in_map_ext</span></a> {<a id="A:130" class="idref" href="#A:130"><span class="id" title="binder">A</span></a>} <a id="700bd56fa0a1a479ecc3b3778db647b5" class="idref" href="#700bd56fa0a1a479ecc3b3778db647b5"><span class="id" title="binder">Δ</span></a> <a id="f:132" class="idref" href="#f:132"><span class="id" title="binder">f</span></a> <a id="g:133" class="idref" href="#g:133"><span class="id" title="binder">g</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">forall</span> <a id="00211fc8166bea8d46285d521940cf21" class="idref" href="#00211fc8166bea8d46285d521940cf21"><span class="id" title="binder">φ</span></a> <a id="H:135" class="idref" href="#H:135"><span class="id" title="binder">H</span></a><span class="id" title="notation">,</span> <a class="idref" href="ISL.Environments.html#f:132"><span class="id" title="variable">f</span></a> <a class="idref" href="ISL.Environments.html#00211fc8166bea8d46285d521940cf21"><span class="id" title="variable">φ</span></a> <a class="idref" href="ISL.Environments.html#H:135"><span class="id" title="variable">H</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Environments.html#g:133"><span class="id" title="variable">g</span></a> <a class="idref" href="ISL.Environments.html#00211fc8166bea8d46285d521940cf21"><span class="id" title="variable">φ</span></a> <a class="idref" href="ISL.Environments.html#H:135"><span class="id" title="variable">H</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> @<a class="idref" href="ISL.Environments.html#in_map"><span class="id" title="definition">in_map</span></a> <a class="idref" href="ISL.Environments.html#A:130"><span class="id" title="variable">A</span></a> <a class="idref" href="ISL.Environments.html#700bd56fa0a1a479ecc3b3778db647b5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="ISL.Environments.html#f:132"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Environments.html#in_map"><span class="id" title="definition">in_map</span></a> <a class="idref" href="ISL.Environments.html#700bd56fa0a1a479ecc3b3778db647b5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="ISL.Environments.html#g:133"><span class="id" title="variable">g</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ISL.Environments.html#in_map"><span class="id" title="definition">in_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="notation">forall</span> <a id="8a4c20a6968e87ff6570bb4b66183293" class="idref" href="#8a4c20a6968e87ff6570bb4b66183293"><span class="id" title="binder"><span id="95326f8d0825c1ba274f0ebe6b4b68f1" class="id">Γ</span></span></a> <a id="03fa2067c2e479aa1a157d601c579bba" class="idref" href="#03fa2067c2e479aa1a157d601c579bba"><span class="id" title="binder"><span id="570c4c35e984556dab865fa28c6ccab2" class="id">HΓ</span></span></a><span class="id" title="notation">,</span> <a class="idref" href="ISL.Environments.html#in_map_aux"><span class="id" title="definition">in_map_aux</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">f</span> <a class="idref" href="ISL.Environments.html#8a4c20a6968e87ff6570bb4b66183293"><span class="id" title="variable">Γ</span></a>  <a class="idref" href="ISL.Environments.html#03fa2067c2e479aa1a157d601c579bba"><span class="id" title="variable">HΓ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Environments.html#in_map_aux"><span class="id" title="definition">in_map_aux</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">g</span> <a class="idref" href="ISL.Environments.html#8a4c20a6968e87ff6570bb4b66183293"><span class="id" title="variable">Γ</span></a>  <a class="idref" href="ISL.Environments.html#03fa2067c2e479aa1a157d601c579bba"><span class="id" title="variable">HΓ</span></a>); [|<span class="id" title="tactic">trivial</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">HΓ</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>, <span class="id" title="var">IHΓ</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="difference_singleton" class="idref" href="#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> (<a id="a5874fe4d4a36b748e97e8cdf48887ea" class="idref" href="#a5874fe4d4a36b748e97e8cdf48887ea"><span class="id" title="binder">Δ</span></a>: <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>) (<a id="18db665908d5502a7e950956abebea07" class="idref" href="#18db665908d5502a7e950956abebea07"><span class="id" title="binder">φ</span></a> : <a class="idref" href="ISL.Formulas.html#form"><span class="id" title="inductive">form</span></a>): <a class="idref" href="ISL.Environments.html#18db665908d5502a7e950956abebea07"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#a5874fe4d4a36b748e97e8cdf48887ea"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Environments.html#a5874fe4d4a36b748e97e8cdf48887ea"><span class="id" title="variable">Δ</span></a> <span class="id" title="notation">≡</span> <span class="id" title="notation">(</span><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Environments.html#a5874fe4d4a36b748e97e8cdf48887ea"><span class="id" title="variable">Δ</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="ISL.Environments.html#18db665908d5502a7e950956abebea07"><span class="id" title="variable">φ</span></a><span class="id" title="notation">]}</span><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Environments.html#18db665908d5502a7e950956abebea07"><span class="id" title="variable">φ</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">gmultiset_disj_union_difference</span> <span class="id" title="notation">{[</span>φ<span class="id" title="notation">]}</span>) <span class="id" title="tactic">at</span> 1. <span class="id" title="var">ms</span>.<br/>
<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">gmultiset_singleton_subseteq_l</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_in_add" class="idref" href="#env_in_add"><span class="id" title="lemma">env_in_add</span></a> (<a id="1a3b200d154a801ce694cfe669154564" class="idref" href="#1a3b200d154a801ce694cfe669154564"><span class="id" title="binder">Δ</span></a> : <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>) <a id="22ae48dd8c3b7348544c9c7da5a83106" class="idref" href="#22ae48dd8c3b7348544c9c7da5a83106"><span class="id" title="binder">ϕ</span></a> <a id="d3f4400c8528fba8508abb6cd96e1a3a" class="idref" href="#d3f4400c8528fba8508abb6cd96e1a3a"><span class="id" title="binder">φ</span></a>: <a class="idref" href="ISL.Environments.html#d3f4400c8528fba8508abb6cd96e1a3a"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="ISL.Environments.html#1a3b200d154a801ce694cfe669154564"><span class="id" title="variable">Δ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Environments.html#22ae48dd8c3b7348544c9c7da5a83106"><span class="id" title="variable">ϕ</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="ISL.Environments.html#d3f4400c8528fba8508abb6cd96e1a3a"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Environments.html#22ae48dd8c3b7348544c9c7da5a83106"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="ISL.Environments.html#d3f4400c8528fba8508abb6cd96e1a3a"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#1a3b200d154a801ce694cfe669154564"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">gmultiset_elem_of_disj_union</span> <span class="id" title="var">Δ</span>), <span class="id" title="lemma">gmultiset_elem_of_singleton</span>.<br/>
<span class="id" title="tactic">tauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="equiv_disj_union_compat_r" class="idref" href="#equiv_disj_union_compat_r"><span class="id" title="lemma">equiv_disj_union_compat_r</span></a> {<a id="b80cfaaab07b675be5cb79b395e4273f" class="idref" href="#b80cfaaab07b675be5cb79b395e4273f"><span class="id" title="binder">Δ</span></a> <a id="6a1df35c7cdb0f47c4ab985e4e858dbb" class="idref" href="#6a1df35c7cdb0f47c4ab985e4e858dbb"><span class="id" title="binder">Δ'</span></a> <a id="6dc556c6396d243cae7509f0f99fa722" class="idref" href="#6dc556c6396d243cae7509f0f99fa722"><span class="id" title="binder">Δ''</span></a> : <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>} : <a class="idref" href="ISL.Environments.html#b80cfaaab07b675be5cb79b395e4273f"><span class="id" title="variable">Δ</span></a> <span class="id" title="notation">≡</span> <a class="idref" href="ISL.Environments.html#6dc556c6396d243cae7509f0f99fa722"><span class="id" title="variable">Δ''</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Environments.html#b80cfaaab07b675be5cb79b395e4273f"><span class="id" title="variable">Δ</span></a> <span class="id" title="notation">⊎</span> <a class="idref" href="ISL.Environments.html#6a1df35c7cdb0f47c4ab985e4e858dbb"><span class="id" title="variable">Δ'</span></a> <span class="id" title="notation">≡</span> <a class="idref" href="ISL.Environments.html#6dc556c6396d243cae7509f0f99fa722"><span class="id" title="variable">Δ''</span></a> <span class="id" title="notation">⊎</span> <a class="idref" href="ISL.Environments.html#6a1df35c7cdb0f47c4ab985e4e858dbb"><span class="id" title="variable">Δ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">ms</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_add_comm" class="idref" href="#env_add_comm"><span class="id" title="lemma">env_add_comm</span></a> (<a id="7fcd83ef4afdb7daf7c07b45a7ffdae4" class="idref" href="#7fcd83ef4afdb7daf7c07b45a7ffdae4"><span class="id" title="binder">Δ</span></a> : <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>) <a id="c887b5a85c4d2c0d810a2eaed8f99b4f" class="idref" href="#c887b5a85c4d2c0d810a2eaed8f99b4f"><span class="id" title="binder">φ</span></a> <a id="3f496851b3d5f5d5f731cf74708b9e82" class="idref" href="#3f496851b3d5f5d5f731cf74708b9e82"><span class="id" title="binder">ϕ</span></a> : <span class="id" title="notation">(</span><a class="idref" href="ISL.Environments.html#7fcd83ef4afdb7daf7c07b45a7ffdae4"><span class="id" title="variable">Δ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Environments.html#c887b5a85c4d2c0d810a2eaed8f99b4f"><span class="id" title="variable">φ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Environments.html#3f496851b3d5f5d5f731cf74708b9e82"><span class="id" title="variable">ϕ</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">≡</span> <span class="id" title="notation">(</span><a class="idref" href="ISL.Environments.html#7fcd83ef4afdb7daf7c07b45a7ffdae4"><span class="id" title="variable">Δ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Environments.html#3f496851b3d5f5d5f731cf74708b9e82"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Environments.html#c887b5a85c4d2c0d810a2eaed8f99b4f"><span class="id" title="variable">φ</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">ms</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="in_difference" class="idref" href="#in_difference"><span class="id" title="lemma">in_difference</span></a> (<a id="553ebe059724afb4b113db5a46f44b23" class="idref" href="#553ebe059724afb4b113db5a46f44b23"><span class="id" title="binder">Δ</span></a> : <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>) <a id="5d21d68cfc28bb627e99bb6d7a3f8eb4" class="idref" href="#5d21d68cfc28bb627e99bb6d7a3f8eb4"><span class="id" title="binder">φ</span></a> <a id="128d67888d34e55fee17aa25d60b4e0e" class="idref" href="#128d67888d34e55fee17aa25d60b4e0e"><span class="id" title="binder">ψ</span></a> : <a class="idref" href="ISL.Environments.html#5d21d68cfc28bb627e99bb6d7a3f8eb4"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="ISL.Environments.html#128d67888d34e55fee17aa25d60b4e0e"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Environments.html#5d21d68cfc28bb627e99bb6d7a3f8eb4"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#553ebe059724afb4b113db5a46f44b23"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Environments.html#5d21d68cfc28bb627e99bb6d7a3f8eb4"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#553ebe059724afb4b113db5a46f44b23"><span class="id" title="variable">Δ</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="ISL.Environments.html#128d67888d34e55fee17aa25d60b4e0e"><span class="id" title="variable">ψ</span></a><span class="id" title="notation">]}</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">Hne</span> <span class="id" title="var">Hin</span>.<br/>
<span class="id" title="tactic">unfold</span> <span class="id" title="definition">elem_of</span>, <span class="id" title="instance">gmultiset_elem_of</span>.<br/>
<span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">multiplicity_difference</span> <span class="id" title="var">Δ</span> <span class="id" title="notation">{[</span>ψ<span class="id" title="notation">]}</span> φ).<br/>
<span class="id" title="tactic">assert</span>( <span class="id" title="var">HH</span> := <span class="id" title="lemma">multiplicity_singleton_ne</span> φ ψ <span class="id" title="var">Hne</span>).<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="ISL.Environments.html#singletonMS"><span class="id" title="instance">singletonMS</span></a>, <span class="id" title="definition">base.singletonMS</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span>.<br/>
<span class="id" title="tactic">unfold</span> <span class="id" title="definition">base.singleton</span>, <a class="idref" href="ISL.Environments.html#singleton"><span class="id" title="instance">Environments.singleton</span></a>. <span class="id" title="var">ms</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">in_difference</span> : <span class="id" title="var">multiset</span>.<br/>

<br/>
<span class="comment">(*&nbsp;could&nbsp;be&nbsp;used&nbsp;in&nbsp;disj_inv&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="env_add_inv" class="idref" href="#env_add_inv"><span class="id" title="lemma">env_add_inv</span></a> (<a id="455dcb68b38514977be69a9026728da6" class="idref" href="#455dcb68b38514977be69a9026728da6"><span class="id" title="binder">Γ</span></a> <a id="7aa54482cefedb31feab1cf9a73063a4" class="idref" href="#7aa54482cefedb31feab1cf9a73063a4"><span class="id" title="binder">Γ'</span></a> : <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>) (<a id="6c0dd35adebd906b31ab47660c59935f" class="idref" href="#6c0dd35adebd906b31ab47660c59935f"><span class="id" title="binder">φ</span></a> <a id="556bb01175b75d3ed378199b98c3026c" class="idref" href="#556bb01175b75d3ed378199b98c3026c"><span class="id" title="binder">ψ</span></a> : <a class="idref" href="ISL.Formulas.html#form"><span class="id" title="inductive">form</span></a>): <a class="idref" href="ISL.Environments.html#6c0dd35adebd906b31ab47660c59935f"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="ISL.Environments.html#556bb01175b75d3ed378199b98c3026c"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">(</span><a class="idref" href="ISL.Environments.html#455dcb68b38514977be69a9026728da6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Environments.html#6c0dd35adebd906b31ab47660c59935f"><span class="id" title="variable">φ</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">≡</span> <span class="id" title="notation">(</span><a class="idref" href="ISL.Environments.html#7aa54482cefedb31feab1cf9a73063a4"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Environments.html#556bb01175b75d3ed378199b98c3026c"><span class="id" title="variable">ψ</span></a><span class="id" title="notation">)</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Environments.html#7aa54482cefedb31feab1cf9a73063a4"><span class="id" title="variable">Γ'</span></a> <span class="id" title="notation">≡</span>  <span class="id" title="notation">(</span><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Environments.html#455dcb68b38514977be69a9026728da6"><span class="id" title="variable">Γ</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="ISL.Environments.html#556bb01175b75d3ed378199b98c3026c"><span class="id" title="variable">ψ</span></a><span class="id" title="notation">]}</span><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Environments.html#6c0dd35adebd906b31ab47660c59935f"><span class="id" title="variable">φ</span></a><span class="id" title="notation">)</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">Hneq</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ISL.Environments.html#env_replace"><span class="id" title="lemma">env_replace</span></a>.<br/>
- <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">assert</span>(ψ <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><span class="id" title="var">Γ</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> φ<span class="id" title="notation">)</span>); [<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>|]; <span class="id" title="var">ms</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_add_inv'" class="idref" href="#env_add_inv'"><span class="id" title="lemma">env_add_inv'</span></a> (<a id="75d9ed57b6942a2c4f38b2ff01cd4555" class="idref" href="#75d9ed57b6942a2c4f38b2ff01cd4555"><span class="id" title="binder">Γ</span></a> <a id="04c2f93ed8e10d927baf53b30fabccfd" class="idref" href="#04c2f93ed8e10d927baf53b30fabccfd"><span class="id" title="binder">Γ'</span></a> : <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>) (<a id="e95d2176f352825d7e1918b1fec3e227" class="idref" href="#e95d2176f352825d7e1918b1fec3e227"><span class="id" title="binder">φ</span></a> : <a class="idref" href="ISL.Formulas.html#form"><span class="id" title="inductive">form</span></a>): <span class="id" title="notation">(</span><a class="idref" href="ISL.Environments.html#75d9ed57b6942a2c4f38b2ff01cd4555"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Environments.html#e95d2176f352825d7e1918b1fec3e227"><span class="id" title="variable">φ</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">≡</span> <a class="idref" href="ISL.Environments.html#04c2f93ed8e10d927baf53b30fabccfd"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Environments.html#75d9ed57b6942a2c4f38b2ff01cd4555"><span class="id" title="variable">Γ</span></a> <span class="id" title="notation">≡</span>  <span class="id" title="notation">(</span><a class="idref" href="ISL.Environments.html#04c2f93ed8e10d927baf53b30fabccfd"><span class="id" title="variable">Γ'</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="ISL.Environments.html#e95d2176f352825d7e1918b1fec3e227"><span class="id" title="variable">φ</span></a><span class="id" title="notation">]}</span><span class="id" title="notation">)</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq</span>. <span class="id" title="var">ms</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_equiv_eq" class="idref" href="#env_equiv_eq"><span class="id" title="lemma">env_equiv_eq</span></a> (<a id="60c1812e910bcee912eb74f4b2c4aecd" class="idref" href="#60c1812e910bcee912eb74f4b2c4aecd"><span class="id" title="binder">Γ</span></a> <a id="1381eefff67411e54e090221ad1f62c5" class="idref" href="#1381eefff67411e54e090221ad1f62c5"><span class="id" title="binder">Γ'</span></a> :<a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>) : <a class="idref" href="ISL.Environments.html#60c1812e910bcee912eb74f4b2c4aecd"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a>  <a class="idref" href="ISL.Environments.html#1381eefff67411e54e090221ad1f62c5"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Environments.html#60c1812e910bcee912eb74f4b2c4aecd"><span class="id" title="variable">Γ</span></a> <span class="id" title="notation">≡</span>  <a class="idref" href="ISL.Environments.html#1381eefff67411e54e090221ad1f62c5"><span class="id" title="variable">Γ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;reprove&nbsp;the&nbsp;following&nbsp;principles,&nbsp;proved&nbsp;in&nbsp;stdpp&nbsp;for&nbsp;Prop,&nbsp;but<br/>
&nbsp;&nbsp;&nbsp;we&nbsp;need&nbsp;them&nbsp;in&nbsp;Type&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="gmultiset_choose_or_empty" class="idref" href="#gmultiset_choose_or_empty"><span class="id" title="lemma">gmultiset_choose_or_empty</span></a> (<a id="X:163" class="idref" href="#X:163"><span class="id" title="binder">X</span></a> : <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">{</span></a><a id="x:164" class="idref" href="#x:164"><span class="id" title="binder">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">|</span></a> <a class="idref" href="ISL.Environments.html#x:164"><span class="id" title="variable">x</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#X:163"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">{</span></a><a class="idref" href="ISL.Environments.html#X:163"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">∅</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">elements</span> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [|<span class="id" title="var">x</span> <span class="id" title="var">l</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">HX</span>; [<span class="id" title="tactic">right</span>|<span class="id" title="tactic">left</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">gmultiset_elements_empty_inv</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="lemma">gmultiset_elem_of_elements</span> <span class="id" title="var">x</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="definition">elements</span> <span class="id" title="var">X</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span>). <span class="id" title="tactic">left</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;We&nbsp;need&nbsp;this&nbsp;induction&nbsp;principle&nbsp;in&nbsp;type.&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="gmultiset_rec" class="idref" href="#gmultiset_rec"><span class="id" title="lemma">gmultiset_rec</span></a> (<a id="P:165" class="idref" href="#P:165"><span class="id" title="binder">P</span></a> : <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) :<br/>
&nbsp;&nbsp;<a class="idref" href="ISL.Environments.html#P:165"><span class="id" title="variable">P</span></a> <span class="id" title="notation">∅</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="x:166" class="idref" href="#x:166"><span class="id" title="binder">x</span></a> <a id="X:167" class="idref" href="#X:167"><span class="id" title="binder">X</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="ISL.Environments.html#P:165"><span class="id" title="variable">P</span></a> <a class="idref" href="ISL.Environments.html#X:167"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.Environments.html#P:165"><span class="id" title="variable">P</span></a> (<span class="id" title="notation">{[+</span> <a class="idref" href="ISL.Environments.html#x:166"><span class="id" title="variable">x</span></a> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <a class="idref" href="ISL.Environments.html#X:167"><span class="id" title="variable">X</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="X:168" class="idref" href="#X:168"><span class="id" title="binder">X</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="ISL.Environments.html#P:165"><span class="id" title="variable">P</span></a> <a class="idref" href="ISL.Environments.html#X:168"><span class="id" title="variable">X</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hemp</span> <span class="id" title="var">Hinsert</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">induction</span> (<span class="id" title="lemma">gmultiset_wf</span> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ISL.Environments.html#gmultiset_choose_or_empty"><span class="id" title="lemma">gmultiset_choose_or_empty</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">x</span> <span class="id" title="var">Hx</span>]| -&gt;]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">gmultiset_disj_union_difference'</span> <span class="id" title="var">x</span> <span class="id" title="var">X</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hinsert</span>, <span class="id" title="var">IH</span>; <span class="id" title="var">multiset_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="difference_include" class="idref" href="#difference_include"><span class="id" title="lemma">difference_include</span></a> (<a id="1d6776414417018a6bf041cc8ae2252b" class="idref" href="#1d6776414417018a6bf041cc8ae2252b"><span class="id" title="binder">θ</span></a> <a id="fdbe920cecd0b8bc4c6e7a6bf7e50e99" class="idref" href="#fdbe920cecd0b8bc4c6e7a6bf7e50e99"><span class="id" title="binder">θ'</span></a> : <a class="idref" href="ISL.Formulas.html#form"><span class="id" title="inductive">form</span></a>) (<a id="871f8fee5372cca301e44cff4b63ba9e" class="idref" href="#871f8fee5372cca301e44cff4b63ba9e"><span class="id" title="binder">Δ</span></a> : <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Environments.html#fdbe920cecd0b8bc4c6e7a6bf7e50e99"><span class="id" title="variable">θ'</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#871f8fee5372cca301e44cff4b63ba9e"><span class="id" title="variable">Δ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ISL.Environments.html#1d6776414417018a6bf041cc8ae2252b"><span class="id" title="variable">θ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#871f8fee5372cca301e44cff4b63ba9e"><span class="id" title="variable">Δ</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="ISL.Environments.html#fdbe920cecd0b8bc4c6e7a6bf7e50e99"><span class="id" title="variable">θ'</span></a><span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Environments.html#1d6776414417018a6bf041cc8ae2252b"><span class="id" title="variable">θ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#871f8fee5372cca301e44cff4b63ba9e"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">Hin'</span> <span class="id" title="var">Hin</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">gmultiset_disj_union_difference</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">X</span> := <span class="id" title="notation">{[</span><span class="id" title="var">θ'</span><span class="id" title="notation">]}</span>).<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="lemma">gmultiset_elem_of_disj_union</span>. <span class="id" title="tactic">tauto</span>.<br/>
- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">gmultiset_singleton_subseteq_l</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;technical&nbsp;lemma&nbsp;:&nbsp;one&nbsp;can&nbsp;constructively&nbsp;find&nbsp;whether&nbsp;an&nbsp;environment&nbsp;contains<br/>
&nbsp;&nbsp;&nbsp;an&nbsp;element&nbsp;satisfying&nbsp;a&nbsp;decidable&nbsp;property&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="decide_in" class="idref" href="#decide_in"><span class="id" title="lemma">decide_in</span></a> (<a id="P:172" class="idref" href="#P:172"><span class="id" title="binder">P</span></a> : <a class="idref" href="ISL.Formulas.html#form"><span class="id" title="inductive">form</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="c78756a1f6abcb48e68e03dbf5894050" class="idref" href="#c78756a1f6abcb48e68e03dbf5894050"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">forall</span> <a id="b4b32d1bee66dae54d38f724fd6ea733" class="idref" href="#b4b32d1bee66dae54d38f724fd6ea733"><span class="id" title="binder">φ</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Decision</span> (<a class="idref" href="ISL.Environments.html#P:172"><span class="id" title="variable">P</span></a> <a class="idref" href="ISL.Environments.html#b4b32d1bee66dae54d38f724fd6ea733"><span class="id" title="variable">φ</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a><a id="31ed67d7b8100e791a08b3025d54d958" class="idref" href="#31ed67d7b8100e791a08b3025d54d958"><span class="id" title="binder">φ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="ISL.Formulas.html#form"><span class="id" title="inductive">form</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Environments.html#31ed67d7b8100e791a08b3025d54d958"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#c78756a1f6abcb48e68e03dbf5894050"><span class="id" title="variable">Γ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ISL.Environments.html#P:172"><span class="id" title="variable">P</span></a> <a class="idref" href="ISL.Environments.html#31ed67d7b8100e791a08b3025d54d958"><span class="id" title="variable">φ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">{</span></a><span class="id" title="notation">forall</span> <a id="95273034286a1ddf11aeb691346a0961" class="idref" href="#95273034286a1ddf11aeb691346a0961"><span class="id" title="binder">φ</span></a><span class="id" title="notation">,</span> <a class="idref" href="ISL.Environments.html#95273034286a1ddf11aeb691346a0961"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#c78756a1f6abcb48e68e03dbf5894050"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="ISL.Environments.html#P:172"><span class="id" title="variable">P</span></a> <a class="idref" href="ISL.Environments.html#95273034286a1ddf11aeb691346a0961"><span class="id" title="variable">φ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">HP</span>.<br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">using</span> <a class="idref" href="ISL.Environments.html#gmultiset_rec"><span class="id" title="lemma">gmultiset_rec</span></a>.<br/>
- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">intros</span> φ <span class="id" title="var">H</span>φ; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>φ.<br/>
- <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHΓ</span> <span class="id" title="keyword">as</span> [(φ&amp;<span class="id" title="var">H</span>φ) | <span class="id" title="var">HF</span>].<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">exists</span> φ. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">case</span> (<span class="id" title="var">HP</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">left</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">right</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">ms</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="union_difference_L" class="idref" href="#union_difference_L"><span class="id" title="lemma">union_difference_L</span></a> (<a id="af268844c60779e48b049eaa6fd88099" class="idref" href="#af268844c60779e48b049eaa6fd88099"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>) <a id="f64ec5320ab761690a7759fa7a54273b" class="idref" href="#f64ec5320ab761690a7759fa7a54273b"><span class="id" title="binder">Δ</span></a> <a id="adb97b53e1ffae1fb7fd7cbab5ec742d" class="idref" href="#adb97b53e1ffae1fb7fd7cbab5ec742d"><span class="id" title="binder">ϕ</span></a>: <a class="idref" href="ISL.Environments.html#adb97b53e1ffae1fb7fd7cbab5ec742d"><span class="id" title="variable">ϕ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#af268844c60779e48b049eaa6fd88099"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="notation">(</span><a class="idref" href="ISL.Environments.html#af268844c60779e48b049eaa6fd88099"><span class="id" title="variable">Γ</span></a> <span class="id" title="notation">⊎</span> <a class="idref" href="ISL.Environments.html#f64ec5320ab761690a7759fa7a54273b"><span class="id" title="variable">Δ</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="ISL.Environments.html#adb97b53e1ffae1fb7fd7cbab5ec742d"><span class="id" title="variable">ϕ</span></a><span class="id" title="notation">]}</span> <span class="id" title="notation">≡</span> <a class="idref" href="ISL.Environments.html#af268844c60779e48b049eaa6fd88099"><span class="id" title="variable">Γ</span></a> <span class="id" title="notation">∖</span><span class="id" title="notation">{[</span><a class="idref" href="ISL.Environments.html#adb97b53e1ffae1fb7fd7cbab5ec742d"><span class="id" title="variable">ϕ</span></a><span class="id" title="notation">]}</span> <span class="id" title="notation">⊎</span> <a class="idref" href="ISL.Environments.html#f64ec5320ab761690a7759fa7a54273b"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">pose</span> (<a class="idref" href="ISL.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hin</span>). <span class="id" title="var">ms</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="union_difference_R" class="idref" href="#union_difference_R"><span class="id" title="lemma">union_difference_R</span></a> (<a id="574e0dfa368f4b787e0043dbc5836571" class="idref" href="#574e0dfa368f4b787e0043dbc5836571"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>) <a id="9c1dd21f71c266fc5bc7721fb6e08f3b" class="idref" href="#9c1dd21f71c266fc5bc7721fb6e08f3b"><span class="id" title="binder">Δ</span></a> <a id="5afbfdc7a17387f7ab0f96fd11d7171b" class="idref" href="#5afbfdc7a17387f7ab0f96fd11d7171b"><span class="id" title="binder">ϕ</span></a>: <a class="idref" href="ISL.Environments.html#5afbfdc7a17387f7ab0f96fd11d7171b"><span class="id" title="variable">ϕ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#9c1dd21f71c266fc5bc7721fb6e08f3b"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="notation">(</span><a class="idref" href="ISL.Environments.html#574e0dfa368f4b787e0043dbc5836571"><span class="id" title="variable">Γ</span></a> <span class="id" title="notation">⊎</span> <a class="idref" href="ISL.Environments.html#9c1dd21f71c266fc5bc7721fb6e08f3b"><span class="id" title="variable">Δ</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="ISL.Environments.html#5afbfdc7a17387f7ab0f96fd11d7171b"><span class="id" title="variable">ϕ</span></a><span class="id" title="notation">]}</span> <span class="id" title="notation">≡</span> <a class="idref" href="ISL.Environments.html#574e0dfa368f4b787e0043dbc5836571"><span class="id" title="variable">Γ</span></a> <span class="id" title="notation">⊎</span> <span class="id" title="notation">(</span><a class="idref" href="ISL.Environments.html#9c1dd21f71c266fc5bc7721fb6e08f3b"><span class="id" title="variable">Δ</span></a> <span class="id" title="notation">∖</span><span class="id" title="notation">{[</span><a class="idref" href="ISL.Environments.html#5afbfdc7a17387f7ab0f96fd11d7171b"><span class="id" title="variable">ϕ</span></a><span class="id" title="notation">]}</span><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">pose</span> (<a class="idref" href="ISL.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hin</span>). <span class="id" title="var">ms</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="equiv_assoc" class="idref" href="#equiv_assoc"><span class="id" title="instance">equiv_assoc</span></a> : @<span class="id" title="class">Assoc</span> <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a> <span class="id" title="definition">equiv</span> <span class="id" title="definition">disj_union</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>. <span class="id" title="var">ms</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Hint Immediate</span> <span class="id" title="var">equiv_assoc</span> : <span class="id" title="var">proof</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="proper_difference" class="idref" href="#proper_difference"><span class="id" title="instance">proper_difference</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="notation">(≡@{</span><a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a><span class="id" title="notation">})</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(≡@{</span><a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a><span class="id" title="notation">})</span>) <span class="id" title="definition">difference</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Δ</span> <span class="id" title="var">Heq'</span>. <span class="id" title="var">ms</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="var_not_in_env" class="idref" href="#var_not_in_env"><span class="id" title="definition">var_not_in_env</span></a> <a id="p:183" class="idref" href="#p:183"><span class="id" title="binder">p</span></a> (<a id="e1d284cf5abad24f47e1cbe9f62ccfc3" class="idref" href="#e1d284cf5abad24f47e1cbe9f62ccfc3"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>):=  (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="0b22994e9c7244a4a8ec8d69e2871f10" class="idref" href="#0b22994e9c7244a4a8ec8d69e2871f10"><span class="id" title="binder">φ0</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="ISL.Environments.html#0b22994e9c7244a4a8ec8d69e2871f10"><span class="id" title="variable">φ0</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#e1d284cf5abad24f47e1cbe9f62ccfc3"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="ISL.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="ISL.Environments.html#p:183"><span class="id" title="variable">p</span></a> <a class="idref" href="ISL.Environments.html#0b22994e9c7244a4a8ec8d69e2871f10"><span class="id" title="variable">φ0</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab5"></a><h1 class="section">Tactics</h1>

</div>
<div class="code">
<span class="comment">(*&nbsp;helper&nbsp;tactic&nbsp;split&nbsp;cases&nbsp;given&nbsp;an&nbsp;assumption&nbsp;about&nbsp;belonging&nbsp;to&nbsp;a&nbsp;multiset&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">in_tac</span> :=<br/>
<span class="id" title="tactic">repeat</span><br/>
<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
| <span class="id" title="var">H</span> : ?<span class="id" title="var">θ</span>  <span class="id" title="notation">∈</span> <span class="id" title="notation">{[</span>?<span class="id" title="var">θ1</span><span class="id" title="notation">;</span> ?<span class="id" title="var">θ2</span><span class="id" title="notation">]}</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">gmultiset_elem_of_union</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">subst</span><br/>
| <span class="id" title="var">H</span> : ?<span class="id" title="var">θ</span> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span>?<span class="id" title="var">Δ</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span>?<span class="id" title="var">θ'</span><span class="id" title="notation">]}</span><span class="id" title="notation">)</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#difference_include"><span class="id" title="lemma">difference_include</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">trivial</span><br/>
| <span class="id" title="var">H</span> : <span class="id" title="keyword">context</span> [?<span class="id" title="var">θ</span>  <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span>?<span class="id" title="var">d</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> ?<span class="id" title="var">θ2</span><span class="id" title="notation">)</span>] |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="ISL.Environments.html#env_in_add"><span class="id" title="lemma">env_in_add</span></a> <span class="id" title="var">d</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">subst</span><br/>
| <span class="id" title="var">H</span> : <span class="id" title="keyword">context</span> [?<span class="id" title="var">θ</span> <span class="id" title="notation">∈</span> <span class="id" title="notation">{[</span> ?<span class="id" title="var">θ2</span> <span class="id" title="notation">]}</span>] |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">gmultiset_elem_of_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span><br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="open_box" class="idref" href="#open_box"><span class="id" title="definition">open_box</span></a> <a id="e78a17b7316163d3e15451bc2db45a2e" class="idref" href="#e78a17b7316163d3e15451bc2db45a2e"><span class="id" title="binder">φ</span></a> : <a class="idref" href="ISL.Formulas.html#form"><span class="id" title="inductive">form</span></a> := <span class="id" title="keyword">match</span> <a class="idref" href="ISL.Environments.html#e78a17b7316163d3e15451bc2db45a2e"><span class="id" title="variable">φ</span></a> <span class="id" title="keyword">with</span><br/>
| <a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> φ =&gt; <a class="idref" href="ISL.Environments.html#e78a17b7316163d3e15451bc2db45a2e"><span class="id" title="variable">φ</span></a><br/>
| φ =&gt; <a class="idref" href="ISL.Environments.html#e78a17b7316163d3e15451bc2db45a2e"><span class="id" title="variable">φ</span></a><br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;inefficient&nbsp;conversion&nbsp;from&nbsp;multisets&nbsp;to&nbsp;lists&nbsp;and&nbsp;back&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="open_boxes" class="idref" href="#open_boxes"><span class="id" title="definition">open_boxes</span></a> (<a id="483c47e7100adec85d58e3dde43d0c71" class="idref" href="#483c47e7100adec85d58e3dde43d0c71"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>) : <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a> := <span class="id" title="definition">list_to_set_disj</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="ISL.Environments.html#open_box"><span class="id" title="definition">open_box</span></a> (<span class="id" title="definition">elements</span> <a class="idref" href="ISL.Environments.html#483c47e7100adec85d58e3dde43d0c71"><span class="id" title="variable">Γ</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Global Notation</span> <a id="324ee050da821ba5ae035c28136d140a" class="idref" href="#324ee050da821ba5ae035c28136d140a"><span class="id" title="notation">&quot;</span></a>⊙ φ" := (<a class="idref" href="ISL.Environments.html#open_box"><span class="id" title="definition">open_box</span></a> φ) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 75).<br/>
<span class="id" title="keyword">Global Notation</span> <a id="ea7b322b05c6af494383fa784c2b0124" class="idref" href="#ea7b322b05c6af494383fa784c2b0124"><span class="id" title="notation">&quot;</span></a>⊗ Γ" := (<a class="idref" href="ISL.Environments.html#open_boxes"><span class="id" title="definition">open_boxes</span></a> <span class="id" title="var">Γ</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 75).<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="proper_open_boxes" class="idref" href="#proper_open_boxes"><span class="id" title="instance">proper_open_boxes</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="notation">(≡@{</span><a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a><span class="id" title="notation">})</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(≡@{</span><a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a><span class="id" title="notation">})</span>) <a class="idref" href="ISL.Environments.html#open_boxes"><span class="id" title="definition">open_boxes</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Δ</span> <span class="id" title="var">Heq'</span>. <span class="id" title="var">ms</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="open_boxes_empty" class="idref" href="#open_boxes_empty"><span class="id" title="lemma">open_boxes_empty</span></a> : <a class="idref" href="ISL.Environments.html#open_boxes"><span class="id" title="definition">open_boxes</span></a> <span class="id" title="notation">∅</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">∅</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="open_boxes_disj_union" class="idref" href="#open_boxes_disj_union"><span class="id" title="lemma">open_boxes_disj_union</span></a> (<a id="a21cdd7eafebbe8e81ec0025876def77" class="idref" href="#a21cdd7eafebbe8e81ec0025876def77"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>) <a id="e3f559247b9dea8ed2e53daed84a0270" class="idref" href="#e3f559247b9dea8ed2e53daed84a0270"><span class="id" title="binder">Δ</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Environments.html#open_boxes"><span class="id" title="definition">open_boxes</span></a> (<a class="idref" href="ISL.Environments.html#a21cdd7eafebbe8e81ec0025876def77"><span class="id" title="variable">Γ</span></a> <span class="id" title="notation">⊎</span> <a class="idref" href="ISL.Environments.html#e3f559247b9dea8ed2e53daed84a0270"><span class="id" title="variable">Δ</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Environments.html#open_boxes"><span class="id" title="definition">open_boxes</span></a> <a class="idref" href="ISL.Environments.html#a21cdd7eafebbe8e81ec0025876def77"><span class="id" title="variable">Γ</span></a> <span class="id" title="notation">⊎</span> <a class="idref" href="ISL.Environments.html#open_boxes"><span class="id" title="definition">open_boxes</span></a> <a class="idref" href="ISL.Environments.html#e3f559247b9dea8ed2e53daed84a0270"><span class="id" title="variable">Δ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="ISL.Environments.html#open_boxes"><span class="id" title="definition">open_boxes</span></a>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">gmultiset_elements_disj_union</span> <span class="id" title="var">Γ</span> <span class="id" title="var">Δ</span>).<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">list_to_set_disj_app</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="open_boxes_singleton" class="idref" href="#open_boxes_singleton"><span class="id" title="lemma">open_boxes_singleton</span></a> <a id="ad5c5cc21077361c22ec304fb3d7551e" class="idref" href="#ad5c5cc21077361c22ec304fb3d7551e"><span class="id" title="binder">φ</span></a> : <a class="idref" href="ISL.Environments.html#open_boxes"><span class="id" title="definition">open_boxes</span></a> <span class="id" title="notation">{[</span><a class="idref" href="ISL.Environments.html#ad5c5cc21077361c22ec304fb3d7551e"><span class="id" title="variable">φ</span></a><span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">{[</span><a class="idref" href="ISL.Environments.html#324ee050da821ba5ae035c28136d140a"><span class="id" title="notation">⊙</span></a> <a class="idref" href="ISL.Environments.html#ad5c5cc21077361c22ec304fb3d7551e"><span class="id" title="variable">φ</span></a><span class="id" title="notation">]}</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="ISL.Environments.html#open_boxes"><span class="id" title="definition">open_boxes</span></a>.<br/>
<span class="id" title="tactic">assert</span> (<span class="id" title="var">HH</span> := <span class="id" title="lemma">gmultiset_elements_singleton</span> φ).<br/>
<span class="id" title="tactic">unfold</span> <span class="id" title="definition">elements</span>, <span class="id" title="definition">base.singletonMS</span>, <a class="idref" href="ISL.Environments.html#singletonMS"><span class="id" title="instance">singletonMS</span></a>, <span class="id" title="definition">base.singleton</span>, <a class="idref" href="ISL.Environments.html#singleton"><span class="id" title="instance">Environments.singleton</span></a> <span class="id" title="tactic">in</span> *.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HH</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="definition">base.singletonMS</span>, <span class="id" title="definition">disj_union</span>, <a class="idref" href="ISL.Environments.html#empty"><span class="id" title="definition">empty</span></a>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="instance">gmultiset_disj_union_right_id</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="open_boxes_add" class="idref" href="#open_boxes_add"><span class="id" title="lemma">open_boxes_add</span></a> (<a id="cfcf9625e6d3f263e97950fc9e914d08" class="idref" href="#cfcf9625e6d3f263e97950fc9e914d08"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>) <a id="eb7268b0da21ab7daacc576665020d5f" class="idref" href="#eb7268b0da21ab7daacc576665020d5f"><span class="id" title="binder">φ</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Environments.html#open_boxes"><span class="id" title="definition">open_boxes</span></a> (<a class="idref" href="ISL.Environments.html#cfcf9625e6d3f263e97950fc9e914d08"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Environments.html#eb7268b0da21ab7daacc576665020d5f"><span class="id" title="variable">φ</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Environments.html#open_boxes"><span class="id" title="definition">open_boxes</span></a> <a class="idref" href="ISL.Environments.html#cfcf9625e6d3f263e97950fc9e914d08"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Environments.html#open_box"><span class="id" title="definition">open_box</span></a> <a class="idref" href="ISL.Environments.html#eb7268b0da21ab7daacc576665020d5f"><span class="id" title="variable">φ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#open_boxes_disj_union"><span class="id" title="lemma">open_boxes_disj_union</span></a>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="ISL.Environments.html#open_boxes"><span class="id" title="definition">open_boxes</span></a>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#open_boxes_singleton"><span class="id" title="lemma">open_boxes_singleton</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="elem_of_open_boxes" class="idref" href="#elem_of_open_boxes"><span class="id" title="lemma">elem_of_open_boxes</span></a> <a id="3b99a192de70bbdadc506781b746e73d" class="idref" href="#3b99a192de70bbdadc506781b746e73d"><span class="id" title="binder">φ</span></a> <a id="c1e64c7a1c7e26de38e06a913561f083" class="idref" href="#c1e64c7a1c7e26de38e06a913561f083"><span class="id" title="binder">Δ</span></a> : <a class="idref" href="ISL.Environments.html#3b99a192de70bbdadc506781b746e73d"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="ISL.Environments.html#ea7b322b05c6af494383fa784c2b0124"><span class="id" title="notation">⊗</span></a><a class="idref" href="ISL.Environments.html#c1e64c7a1c7e26de38e06a913561f083"><span class="id" title="variable">Δ</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Environments.html#3b99a192de70bbdadc506781b746e73d"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#c1e64c7a1c7e26de38e06a913561f083"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <span class="id" title="notation">(</span><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a><a class="idref" href="ISL.Environments.html#3b99a192de70bbdadc506781b746e73d"><span class="id" title="variable">φ</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#c1e64c7a1c7e26de38e06a913561f083"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hin</span>.<br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">Δ</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">θ</span> <span class="id" title="var">Δ</span> <span class="id" title="var">Hind</span>] <span class="id" title="keyword">using</span> <a class="idref" href="ISL.Environments.html#gmultiset_rec"><span class="id" title="lemma">gmultiset_rec</span></a>.<br/>
- <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#open_boxes_disj_union"><span class="id" title="lemma">open_boxes_disj_union</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">gmultiset_elem_of_disj_union</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hθ</span> | <span class="id" title="var">HΔ</span>].<br/>
&nbsp;&nbsp;+  <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#open_boxes_singleton"><span class="id" title="lemma">open_boxes_singleton</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hθ</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">gmultiset_elem_of_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hθ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> φ. <span class="id" title="tactic">destruct</span> <span class="id" title="var">θ</span>; <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hind</span> <span class="id" title="var">HΔ</span>); <span class="id" title="var">ms</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="occurs_in_open_boxes" class="idref" href="#occurs_in_open_boxes"><span class="id" title="lemma">occurs_in_open_boxes</span></a> <a id="x:196" class="idref" href="#x:196"><span class="id" title="binder">x</span></a> <a id="2316fe99f045f0569a9e0cd032c88614" class="idref" href="#2316fe99f045f0569a9e0cd032c88614"><span class="id" title="binder">φ</span></a> <a id="93f6336e81fff8ee2c80caf15acb00a7" class="idref" href="#93f6336e81fff8ee2c80caf15acb00a7"><span class="id" title="binder">Δ</span></a> : <a class="idref" href="ISL.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="ISL.Environments.html#x:196"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Environments.html#2316fe99f045f0569a9e0cd032c88614"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Environments.html#2316fe99f045f0569a9e0cd032c88614"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="ISL.Environments.html#ea7b322b05c6af494383fa784c2b0124"><span class="id" title="notation">⊗</span></a><a class="idref" href="ISL.Environments.html#93f6336e81fff8ee2c80caf15acb00a7"><span class="id" title="variable">Δ</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="f94f32fca807046d77dc0fc3d6173d28" class="idref" href="#f94f32fca807046d77dc0fc3d6173d28"><span class="id" title="binder">θ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="ISL.Environments.html#f94f32fca807046d77dc0fc3d6173d28"><span class="id" title="variable">θ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#93f6336e81fff8ee2c80caf15acb00a7"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ISL.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="ISL.Environments.html#x:196"><span class="id" title="variable">x</span></a> <a class="idref" href="ISL.Environments.html#f94f32fca807046d77dc0fc3d6173d28"><span class="id" title="variable">θ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">Hx</span> <span class="id" title="var">H</span>φ. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#elem_of_open_boxes"><span class="id" title="lemma">elem_of_open_boxes</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>φ. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>φ <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>φ|<span class="id" title="var">H</span>φ]; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Hint Rewrite</span> <a class="idref" href="ISL.Environments.html#open_boxes_disj_union"><span class="id" title="lemma">open_boxes_disj_union</span></a> : <span class="id" title="var">proof</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="open_boxes_remove" class="idref" href="#open_boxes_remove"><span class="id" title="lemma">open_boxes_remove</span></a>  <a id="5d76daa7e6f6e22d30d644bf263e59eb" class="idref" href="#5d76daa7e6f6e22d30d644bf263e59eb"><span class="id" title="binder">Γ</span></a> <a id="0b81a37303376dce96a1a7978229992f" class="idref" href="#0b81a37303376dce96a1a7978229992f"><span class="id" title="binder">φ</span></a> : <a class="idref" href="ISL.Environments.html#0b81a37303376dce96a1a7978229992f"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#5d76daa7e6f6e22d30d644bf263e59eb"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="notation">(≡@{</span><a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a><span class="id" title="notation">})</span> <span class="id" title="notation">(⊗</span> <span class="id" title="notation">(</span><span class="id" title="notation">Γ</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[φ]}))</span> <span class="id" title="notation">((⊗</span> <span class="id" title="notation">Γ</span><span class="id" title="notation">)</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[⊙</span> <span class="id" title="notation">φ]})</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;<span class="id" title="tactic">pose</span> (<a class="idref" href="ISL.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">Γ</span> φ <span class="id" title="var">Hin</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>  <span class="id" title="tactic">at</span> 2.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#open_boxes_add"><span class="id" title="lemma">open_boxes_add</span></a>. <span class="id" title="var">ms</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_box" class="idref" href="#is_box"><span class="id" title="definition">is_box</span></a> <a id="f993366e27ba6b881923526615d3dcc1" class="idref" href="#f993366e27ba6b881923526615d3dcc1"><span class="id" title="binder">φ</span></a> := <span class="id" title="keyword">match</span> <a class="idref" href="ISL.Environments.html#f993366e27ba6b881923526615d3dcc1"><span class="id" title="variable">φ</span></a> <span class="id" title="keyword">with</span><br/>
| <a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="open_boxes_spec" class="idref" href="#open_boxes_spec"><span class="id" title="lemma">open_boxes_spec</span></a> <a id="4528c44f6a9a8b29b3b50e8b6265970b" class="idref" href="#4528c44f6a9a8b29b3b50e8b6265970b"><span class="id" title="binder">Γ</span></a> <a id="ed9fce029c1304a1c20a6716fcc8e5d5" class="idref" href="#ed9fce029c1304a1c20a6716fcc8e5d5"><span class="id" title="binder">φ</span></a> : <a class="idref" href="ISL.Environments.html#ed9fce029c1304a1c20a6716fcc8e5d5"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#open_boxes"><span class="id" title="definition">open_boxes</span></a> <a class="idref" href="ISL.Environments.html#4528c44f6a9a8b29b3b50e8b6265970b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="ISL.Environments.html#ed9fce029c1304a1c20a6716fcc8e5d5"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#4528c44f6a9a8b29b3b50e8b6265970b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="ISL.Environments.html#is_box"><span class="id" title="definition">is_box</span></a> <a class="idref" href="ISL.Environments.html#ed9fce029c1304a1c20a6716fcc8e5d5"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><span class="id" title="notation">(</span><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> <a class="idref" href="ISL.Environments.html#ed9fce029c1304a1c20a6716fcc8e5d5"><span class="id" title="variable">φ</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#4528c44f6a9a8b29b3b50e8b6265970b"><span class="id" title="variable">Γ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="ISL.Environments.html#open_boxes"><span class="id" title="definition">open_boxes</span></a>. <span class="id" title="tactic">intro</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_to_set_disj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_In</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
<span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (<span class="id" title="notation">(</span><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> φ<span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <span class="id" title="var">Γ</span>)).<br/>
- <span class="id" title="tactic">right</span>; <span class="id" title="tactic">trivial</span>.<br/>
- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hout</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">y</span> &amp; <span class="id" title="var">Hin</span> &amp; <span class="id" title="var">Hy</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">trivial</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">apply</span> <span class="id" title="lemma">gmultiset_elem_of_elements</span>,<span class="id" title="lemma">elem_of_list_In</span>; <span class="id" title="tactic">trivial</span>);<br/>
&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hout</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">gmultiset_elem_of_elements</span>,<span class="id" title="lemma">elem_of_list_In</span>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_not_box_open_box" class="idref" href="#is_not_box_open_box"><span class="id" title="lemma">is_not_box_open_box</span></a> <a id="361dc4dd02400eb70497f808bfe3ab8e" class="idref" href="#361dc4dd02400eb70497f808bfe3ab8e"><span class="id" title="binder">φ</span></a> : <a class="idref" href="ISL.Environments.html#is_box"><span class="id" title="definition">is_box</span></a> <a class="idref" href="ISL.Environments.html#361dc4dd02400eb70497f808bfe3ab8e"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Environments.html#324ee050da821ba5ae035c28136d140a"><span class="id" title="notation">⊙</span></a><a class="idref" href="ISL.Environments.html#361dc4dd02400eb70497f808bfe3ab8e"><span class="id" title="variable">φ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Environments.html#361dc4dd02400eb70497f808bfe3ab8e"><span class="id" title="variable">φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> φ; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">discriminate</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="open_boxes_spec'" class="idref" href="#open_boxes_spec'"><span class="id" title="lemma">open_boxes_spec'</span></a> <a id="211e2e9319ff788fafa2abf09c0230a4" class="idref" href="#211e2e9319ff788fafa2abf09c0230a4"><span class="id" title="binder">Γ</span></a> <a id="5491936cc5eac4cc68fc1e9208491f26" class="idref" href="#5491936cc5eac4cc68fc1e9208491f26"><span class="id" title="binder">φ</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="ISL.Environments.html#5491936cc5eac4cc68fc1e9208491f26"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#211e2e9319ff788fafa2abf09c0230a4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="ISL.Environments.html#is_box"><span class="id" title="definition">is_box</span></a> <a class="idref" href="ISL.Environments.html#5491936cc5eac4cc68fc1e9208491f26"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><span class="id" title="notation">(</span><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> <a class="idref" href="ISL.Environments.html#5491936cc5eac4cc68fc1e9208491f26"><span class="id" title="variable">φ</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#211e2e9319ff788fafa2abf09c0230a4"><span class="id" title="variable">Γ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Environments.html#5491936cc5eac4cc68fc1e9208491f26"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#open_boxes"><span class="id" title="definition">open_boxes</span></a> <a class="idref" href="ISL.Environments.html#211e2e9319ff788fafa2abf09c0230a4"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> [[<span class="id" title="var">Hin</span> <span class="id" title="var">Heq</span>] | <span class="id" title="var">Hin</span>];<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="ISL.Environments.html#open_boxes"><span class="id" title="definition">open_boxes</span></a>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_to_set_disj</span>, <span class="id" title="lemma">elem_of_list_In</span>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>.<br/>
- <span class="id" title="tactic">exists</span> φ. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#is_not_box_open_box"><span class="id" title="lemma">is_not_box_open_box</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_In</span>,  <span class="id" title="lemma">gmultiset_elem_of_elements</span>.<br/>
- <span class="id" title="tactic">exists</span> (<a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> φ). <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_In</span>,  <span class="id" title="lemma">gmultiset_elem_of_elements</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="In_open_boxes" class="idref" href="#In_open_boxes"><span class="id" title="lemma">In_open_boxes</span></a> (<a id="21e98b4c4dad7c214c9e9d952f07989c" class="idref" href="#21e98b4c4dad7c214c9e9d952f07989c"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>) (<a id="bc84a5e32bc7f48df597a58b30bca812" class="idref" href="#bc84a5e32bc7f48df597a58b30bca812"><span class="id" title="binder">φ</span></a> : <a class="idref" href="ISL.Formulas.html#form"><span class="id" title="inductive">form</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Environments.html#bc84a5e32bc7f48df597a58b30bca812"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#21e98b4c4dad7c214c9e9d952f07989c"><span class="id" title="variable">Γ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Environments.html#open_box"><span class="id" title="definition">open_box</span></a> <a class="idref" href="ISL.Environments.html#bc84a5e32bc7f48df597a58b30bca812"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#open_boxes"><span class="id" title="definition">open_boxes</span></a> <a class="idref" href="ISL.Environments.html#21e98b4c4dad7c214c9e9d952f07989c"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hin</span>,  <a class="idref" href="ISL.Environments.html#open_boxes_add"><span class="id" title="lemma">open_boxes_add</span></a>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">In_open_boxes</span> : <span class="id" title="var">proof</span>.<br/>
<span class="id" title="keyword">Global Hint Unfold</span> <a class="idref" href="ISL.Environments.html#open_box"><span class="id" title="definition">open_box</span></a> : <span class="id" title="var">proof</span>.<br/>
<span class="id" title="keyword">Global Hint Rewrite</span> <a class="idref" href="ISL.Environments.html#open_boxes_empty"><span class="id" title="lemma">open_boxes_empty</span></a> : <span class="id" title="var">proof</span>.<br/>
<span class="id" title="keyword">Global Hint Rewrite</span> <a class="idref" href="ISL.Environments.html#open_boxes_add"><span class="id" title="lemma">open_boxes_add</span></a> : <span class="id" title="var">proof</span>.<br/>
<span class="id" title="keyword">Global Hint Rewrite</span> <a class="idref" href="ISL.Environments.html#open_boxes_remove"><span class="id" title="lemma">open_boxes_remove</span></a> : <span class="id" title="var">proof</span>.<br/>
<span class="id" title="keyword">Global Hint Rewrite</span> <a class="idref" href="ISL.Environments.html#open_boxes_singleton"><span class="id" title="lemma">open_boxes_singleton</span></a> : <span class="id" title="var">proof</span>.<br/>

<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">open_boxes_spec'</span> : <span class="id" title="var">proof</span>.<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">open_boxes_spec</span> : <span class="id" title="var">proof</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">vars_tac</span> :=<br/>
<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>;<br/>
<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
| <span class="id" title="var">HE</span> : <span class="id" title="keyword">context</span> [<a class="idref" href="ISL.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> ?<span class="id" title="var">x</span> (?<span class="id" title="var">E</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)], <span class="id" title="var">H</span> : <a class="idref" href="ISL.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> ?<span class="id" title="var">x</span> (?<span class="id" title="var">E</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
<span class="id" title="keyword">end</span>;<br/>
<span class="id" title="tactic">intuition</span>;<br/>
<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> | <span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="x:211" class="idref" href="#x:211"><span class="id" title="binder"><span id="x:212" class="id">x</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">end</span>;<br/>
<span class="id" title="tactic">intuition</span>;<br/>
<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">in_tac</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">tauto</span> || <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *|]); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
<span class="id" title="tactic">try</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
| <span class="id" title="var">H</span> : <a class="idref" href="ISL.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <span class="id" title="var">_</span> (?<span class="id" title="var">a</span> <a class="idref" href="ISL.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">⇢</span></a> <a class="idref" href="ISL.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">(</span></a>?<span class="id" title="var">b</span> <a class="idref" href="ISL.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">⇢</span></a> ?<span class="id" title="var">c</span><a class="idref" href="ISL.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">)</span></a>) |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#occurs_in_make_impl2"><span class="id" title="lemma">occurs_in_make_impl2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
| <span class="id" title="var">H</span> : <a class="idref" href="ISL.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <span class="id" title="var">_</span> (?<span class="id" title="var">a</span> <a class="idref" href="ISL.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">⇢</span></a> ?<span class="id" title="var">b</span>) |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#occurs_in_make_impl"><span class="id" title="lemma">occurs_in_make_impl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
|<span class="id" title="var">H1</span> : ?<span class="id" title="var">x0</span> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="ISL.Environments.html#ea7b322b05c6af494383fa784c2b0124"><span class="id" title="notation">⊗</span></a> ?<span class="id" title="var">Δ</span><span class="id" title="notation">)</span>, <span class="id" title="var">H2</span> : <a class="idref" href="ISL.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> ?<span class="id" title="var">x</span> ?<span class="id" title="var">x0</span> |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="ISL.Environments.html#occurs_in_open_boxes"><span class="id" title="lemma">occurs_in_open_boxes</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span><br/>
<span class="id" title="keyword">end</span>;<br/>
<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> | <span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="x:213" class="idref" href="#x:213"><span class="id" title="binder"><span id="x:214" class="id">x</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">end</span>; <span class="id" title="tactic">intuition</span>;<br/>
<span class="id" title="tactic">try</span> <span class="id" title="var">multimatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
| <span class="id" title="var">H</span> : ?<span class="id" title="var">θ0</span> <span class="id" title="notation">∈</span> ?<span class="id" title="var">Δ0</span> |- <span class="id" title="keyword">context</span> [<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="43f1f53cb8937f2c8bede5d77b3c1b01" class="idref" href="#43f1f53cb8937f2c8bede5d77b3c1b01"><span class="id" title="binder"><span id="3da1af51bac4fd08f00f010ae33ef091" class="id">θ</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="ISL.Environments.html#43f1f53cb8937f2c8bede5d77b3c1b01"><span class="id" title="variable">θ</span></a> <span class="id" title="notation">∈</span> ?<span class="id" title="var">Δ</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ISL.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> ?<span class="id" title="var">x</span> <a class="idref" href="ISL.Environments.html#43f1f53cb8937f2c8bede5d77b3c1b01"><span class="id" title="variable">θ</span></a>] =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">solve</span>[<span class="id" title="tactic">try</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">θ0</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="ISL.Environments.html#difference_include"><span class="id" title="lemma">difference_include</span></a>|<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">tauto</span>]; <span class="id" title="tactic">eauto</span>] <span class="id" title="keyword">end</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
