<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://github.com/hferee/UIML">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
      <a href="./demo.html"> Demo </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">ISL.Cut</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ISL.Formulas.html#"><span class="id" title="library">ISL.Formulas</span></a> <a class="idref" href="ISL.Sequents.html#"><span class="id" title="library">ISL.Sequents</span></a> <a class="idref" href="ISL.Order.html#"><span class="id" title="library">ISL.Order</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ISL.SequentProps.html#"><span class="id" title="library">ISL.SequentProps</span></a> .<br/>

<br/>
<span class="comment">(*&nbsp;From&nbsp;"A&nbsp;New&nbsp;Calculus&nbsp;for&nbsp;Intuitionistic&nbsp;Strong&nbsp;Löb&nbsp;Logic"&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a id="additive_cut" class="idref" href="#additive_cut"><span class="id" title="lemma">additive_cut</span></a> <a id="454330da0f56a2416dd22d7f96feb974" class="idref" href="#454330da0f56a2416dd22d7f96feb974"><span class="id" title="binder">Γ</span></a> <a id="6050b12a36e892ea20e7cf5a56216378" class="idref" href="#6050b12a36e892ea20e7cf5a56216378"><span class="id" title="binder">φ</span></a> <a id="b23793411b0f4e581061bee656c504e9" class="idref" href="#b23793411b0f4e581061bee656c504e9"><span class="id" title="binder">ψ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="ISL.Cut.html#454330da0f56a2416dd22d7f96feb974"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.Cut.html#6050b12a36e892ea20e7cf5a56216378"><span class="id" title="variable">φ</span></a>  <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Cut.html#454330da0f56a2416dd22d7f96feb974"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Cut.html#6050b12a36e892ea20e7cf5a56216378"><span class="id" title="variable">φ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.Cut.html#b23793411b0f4e581061bee656c504e9"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ISL.Cut.html#454330da0f56a2416dd22d7f96feb974"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.Cut.html#b23793411b0f4e581061bee656c504e9"><span class="id" title="variable">ψ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="comment">(*<br/>
Ltac&nbsp;order_tac&nbsp;:=&nbsp;try&nbsp;(apply&nbsp;le_S_n;&nbsp;etransitivity;&nbsp;<span class="inlinecode">|<span class="id" title="tactic">exact</span></span> <span class="inlinecode"><span class="id" title="var">HW</span></span>);&nbsp;apply&nbsp;Nat.le_succ_l;<br/>
match&nbsp;goal&nbsp;with&nbsp;|-&nbsp;env_weight&nbsp;.order_tac.&nbsp;*)</span><br/>
<span class="id" title="var">remember</span> (<a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> φ) <span class="id" title="keyword">as</span> <span class="id" title="var">w</span>. <span class="id" title="tactic">assert</span>(<span class="id" title="var">Hw</span> : <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> φ <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <span class="id" title="var">w</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqw</span>.<br/>
<span class="id" title="var">revert</span> φ <span class="id" title="var">Hw</span> ψ <span class="id" title="var">Γ</span>.<br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">w</span>; <span class="id" title="tactic">intros</span> φ <span class="id" title="var">Hw</span>; [<span class="id" title="tactic">pose</span> (<a class="idref" href="ISL.Formulas.html#weight_pos"><span class="id" title="lemma">weight_pos</span></a> φ); <span class="id" title="var">lia</span>|].<br/>
<span class="id" title="tactic">intros</span> ψ <span class="id" title="var">Γ</span>.<br/>
<span class="id" title="var">remember</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Γ</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> ψ<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">pe</span>.<br/>
<span class="id" title="tactic">replace</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">with</span> <span class="id" title="var">pe</span><span class="id" title="notation">.1</span> <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>.<br/>
<span class="id" title="tactic">replace</span> ψ <span class="id" title="keyword">with</span> <span class="id" title="var">pe</span><span class="id" title="notation">.2</span> <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqpe</span> <span class="id" title="var">Γ</span> ψ. <span class="id" title="var">revert</span> <span class="id" title="var">pe</span>.<br/>
<span class="id" title="tactic">refine</span>  (@<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Wf.html#well_founded_induction"><span class="id" title="lemma">well_founded_induction</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="ISL.Order.html#wf_pointed_order"><span class="id" title="lemma">wf_pointed_order</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="tactic">intros</span> (<span class="id" title="var">Γ</span> &amp;ψ). <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">IHW'</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">IHW</span> := <span class="id" title="keyword">fun</span> <a id="9be547ffc4c572d46fdfb8ed7b6b267c" class="idref" href="#9be547ffc4c572d46fdfb8ed7b6b267c"><span class="id" title="binder"><span id="b1725ab016be83c0a29dcf0eba7a5c75" class="id">Γ0</span></span></a> =&gt; <span class="id" title="keyword">fun</span> <a id="d23c17ce6b59987d772ff7688f40893b" class="idref" href="#d23c17ce6b59987d772ff7688f40893b"><span class="id" title="binder"><span id="6c3154af9abf817c51bd982165e5a24a" class="id">ψ0</span></span></a> =&gt; <span class="id" title="var">IHW'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Cut.html#9be547ffc4c572d46fdfb8ed7b6b267c"><span class="id" title="variable">Γ0</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ISL.Cut.html#d23c17ce6b59987d772ff7688f40893b"><span class="id" title="variable">ψ0</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHW</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">IHW'</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">HP</span>φ <span class="id" title="var">HP</span>ψ.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">otac</span> <span class="id" title="var">Heq</span> := <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#env_replace"><span class="id" title="lemma">env_replace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">trivial</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#env_add_remove"><span class="id" title="lemma">env_add_remove</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">trivial</span>; <span class="id" title="var">order_tac</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>; <span class="id" title="var">order_tac</span>.<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">HP</span>φ; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hw</span>.<br/>
- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#contraction"><span class="id" title="lemma">contraction</span></a>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ExFalso"><span class="id" title="constructor">ExFalso</span></a>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#AndL_rev"><span class="id" title="lemma">AndL_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HP</span>ψ. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">apply</span> <span class="id" title="var">IHw</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HP</span>ψ; <span class="id" title="tactic">trivial</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#weakening"><span class="id" title="lemma">weakening</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#AndL"><span class="id" title="constructor">AndL</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHW</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>. <span class="id" title="var">order_tac</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#OrL_rev"><span class="id" title="lemma">OrL_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HP</span>ψ; <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHw</span> φ); [<span class="id" title="var">lia</span>| |]; <span class="id" title="tactic">tauto</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#OrL_rev"><span class="id" title="lemma">OrL_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HP</span>ψ; <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHw</span> ψ0); [<span class="id" title="var">lia</span>| |]; <span class="id" title="tactic">tauto</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrL"><span class="id" title="constructor">OrL</span></a>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHW</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">otac</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">eapply</span> (<a class="idref" href="ISL.SequentProps.html#OrL_rev"><span class="id" title="lemma">OrL_rev</span></a> <span class="id" title="var">_</span> φ ψ0). <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">exact</span> <span class="id" title="var">HP</span>ψ.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">order_tac</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">eapply</span> (<a class="idref" href="ISL.SequentProps.html#OrL_rev"><span class="id" title="lemma">OrL_rev</span></a> <span class="id" title="var">_</span> φ ψ0). <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">exact</span> <span class="id" title="var">HP</span>ψ.<br/>
- <span class="comment">(*&nbsp;(V)&nbsp;*)</span> <span class="comment">(*&nbsp;hard:&nbsp;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;START&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="var">Γ</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">(</span></a>φ <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ0<a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Heq</span>: <span class="id" title="var">Γ</span> <span class="id" title="notation">≡</span> <span class="id" title="var">Γ'</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span> φ <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ0<span class="id" title="notation">]}</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hin</span> : <span class="id" title="notation">(</span>φ <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ0<span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <span class="id" title="var">Γ'</span>)<span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rw</span> <span class="id" title="var">Heq</span> 0. <span class="id" title="tactic">destruct</span> <span class="id" title="var">HP</span>ψ.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">forward</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">forward</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#AndR"><span class="id" title="constructor">AndR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> <span class="id" title="var">Heq</span>) 0. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">order_tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">peapply</span> <span class="id" title="var">HP</span>ψ1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> <span class="id" title="var">Heq</span>) 0. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">order_tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>. <span class="id" title="var">box_tac</span>. <span class="id" title="var">peapply</span> <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">peapply</span> <span class="id" title="var">HP</span>ψ2.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#AndL"><span class="id" title="constructor">AndL</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">otac</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#AndL_rev"><span class="id" title="lemma">AndL_rev</span></a>. <span class="id" title="var">backward</span>. <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> <span class="id" title="var">Heq</span>) 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>, <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">backward</span>. <span class="id" title="var">peapply</span> <span class="id" title="var">HP</span>ψ.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrR1"><span class="id" title="constructor">OrR1</span></a>, <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HH</span>, <a class="idref" href="ISL.Environments.html#env_add_remove"><span class="id" title="lemma">env_add_remove</span></a>. <span class="id" title="var">order_tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> <span class="id" title="var">Heq</span>) 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>, <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">peapply</span> <span class="id" title="var">HP</span>ψ.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrR2"><span class="id" title="constructor">OrR2</span></a>, <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HH</span>, <a class="idref" href="ISL.Environments.html#env_add_remove"><span class="id" title="lemma">env_add_remove</span></a>. <span class="id" title="var">order_tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> <span class="id" title="var">Heq</span>) 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>, <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">peapply</span> <span class="id" title="var">HP</span>ψ.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hin'</span> : <span class="id" title="notation">(</span>φ0 <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> ψ<span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><span class="id" title="notation">(</span><span class="id" title="var">Γ0</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> φ0 <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> ψ<span class="id" title="notation">)</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span>φ<a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ0<span class="id" title="notation">]}</span><span class="id" title="notation">)</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#in_difference"><span class="id" title="lemma">in_difference</span></a>; [<span class="id" title="tactic">discriminate</span>|<span class="id" title="var">ms</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">HP</span>φ' : <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">(</span></a><span class="id" title="notation">((</span><span class="id" title="var">Γ0</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> φ0 <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> ψ<span class="id" title="notation">)</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span>φ<a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ0<span class="id" title="notation">]}</span><span class="id" title="notation">)</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span>φ0 <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> ψ<span class="id" title="notation">]}</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> φ0 <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> ψ<a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">(</span></a>φ <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ0<a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> (<a class="idref" href="ISL.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">_</span> (φ0 <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a>ψ) <span class="id" title="var">Hin'</span>)) 0; <span class="id" title="var">peapply</span> <span class="id" title="var">HP</span>φ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HP</span> := (<a class="idref" href="ISL.SequentProps.html#OrL_rev"><span class="id" title="lemma">OrL_rev</span></a>  <span class="id" title="var">_</span> φ0 ψ (φ <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ0) <span class="id" title="var">HP</span>φ')).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrL"><span class="id" title="constructor">OrL</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#env_replace"><span class="id" title="lemma">env_replace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">trivial</span>. <span class="id" title="var">order_tac</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>. <span class="id" title="var">order_tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">peapply</span> <span class="id" title="var">HP</span><span class="id" title="notation">.1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">exch</span> 0. <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> (<a class="idref" href="ISL.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hin0</span>)) 1. <span class="id" title="tactic">exact</span> <span class="id" title="var">HP</span>ψ1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#env_replace"><span class="id" title="lemma">env_replace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">trivial</span>. <span class="id" title="var">order_tac</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>. <span class="id" title="var">order_tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">peapply</span> <span class="id" title="var">HP</span><span class="id" title="notation">.2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">exch</span> 0. <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> (<a class="idref" href="ISL.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hin0</span>)) 1. <span class="id" title="tactic">exact</span> <span class="id" title="var">HP</span>ψ2.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> <span class="id" title="var">Heq</span>) 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>, <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">order_tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#weakening"><span class="id" title="lemma">weakening</span></a>, <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>,  <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HH</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">HP</span>ψ.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">p</span> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ0<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a>φ <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ0<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq'</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq'</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Heq'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="notation">(</span><span class="id" title="var">Γ0</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Formulas.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">p</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">(</span></a><span class="id" title="var">p</span> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ0<a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><span class="id" title="var">p</span> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ0<span class="id" title="notation">]}</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">Γ0</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Formulas.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">p</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">IHw</span> ψ0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#contraction"><span class="id" title="lemma">contraction</span></a>. <span class="id" title="var">peapply</span> <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intro</span> <span class="id" title="var">Hneq</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">forward</span>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLVar"><span class="id" title="constructor">ImpLVar</span></a>, <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#env_replace"><span class="id" title="lemma">env_replace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">trivial</span>. <span class="id" title="var">order_tac</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>. <span class="id" title="var">order_tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#imp_cut"><span class="id" title="lemma">imp_cut</span></a> <span class="id" title="keyword">with</span> (φ := <a class="idref" href="ISL.Formulas.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">p</span>). <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> <span class="id" title="var">Heq</span>) 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>, <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">exch</span> 0; <span class="id" title="var">exch</span> 1. <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> (<a class="idref" href="ISL.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hin1</span>)) 2. <span class="id" title="tactic">exact</span> <span class="id" title="var">HP</span>ψ.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a>φ1 <a class="idref" href="ISL.Formulas.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a> φ2<a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ3<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a>φ <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ0<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq'</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq'</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Heq'</span>. <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> <span class="id" title="var">Heq</span>) 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">IHw</span> (φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>, <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>, <a class="idref" href="ISL.SequentProps.html#AndL_rev"><span class="id" title="lemma">AndL_rev</span></a>, <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">peapply</span> <span class="id" title="var">HP</span>ψ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intro</span> <span class="id" title="var">Hneq</span>. <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLAnd"><span class="id" title="constructor">ImpLAnd</span></a>, <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#env_replace"><span class="id" title="lemma">env_replace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">trivial</span>. <span class="id" title="var">order_tac</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>. <span class="id" title="var">order_tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#ImpLAnd_rev"><span class="id" title="lemma">ImpLAnd_rev</span></a>. <span class="id" title="var">backward</span>. <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> <span class="id" title="var">Heq</span>) 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>, <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">exch</span> 0. <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> (<a class="idref" href="ISL.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hin0</span>)) 1. <span class="id" title="tactic">exact</span> <span class="id" title="var">HP</span>ψ.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a>φ1 <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> φ2<a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ3<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a>φ <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ0<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq'</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq'</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Heq'</span>. <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> <span class="id" title="var">Heq</span>) 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#OrL_rev"><span class="id" title="lemma">OrL_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">IHw</span> (φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHw</span> (φ2 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>, <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#weakening"><span class="id" title="lemma">weakening</span></a>, <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>, <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHw</span> (φ2 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#weakening"><span class="id" title="lemma">weakening</span></a>, <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>, <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">peapply</span> <span class="id" title="var">HP</span>ψ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intro</span> <span class="id" title="var">Hneq</span>. <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLOr"><span class="id" title="constructor">ImpLOr</span></a>, <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#env_replace"><span class="id" title="lemma">env_replace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">trivial</span>. <span class="id" title="var">order_tac</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>. <span class="id" title="var">order_tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#ImpLOr_rev"><span class="id" title="lemma">ImpLOr_rev</span></a>. <span class="id" title="var">backward</span>. <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> <span class="id" title="var">Heq</span>) 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>, <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">exch</span> 0. <span class="id" title="var">exch</span> 1. <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> (<a class="idref" href="ISL.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hin0</span>)) 2. <span class="id" title="tactic">exact</span> <span class="id" title="var">HP</span>ψ.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a>φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2<a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ3<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a>φ <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ0<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq'</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq'</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Heq'</span>. <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> <span class="id" title="var">Heq</span>) 0. <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHw</span> ψ0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHw</span>(φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHw</span> (φ2 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ISL.SequentProps.html#imp_cut"><span class="id" title="lemma">imp_cut</span></a>, <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">peapply</span> <span class="id" title="var">HP</span>ψ1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">exact</span> <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">peapply</span> <span class="id" title="var">HP</span>ψ2.<br/>
&nbsp;&nbsp;&nbsp;*  <span class="comment">(*&nbsp;(V-d)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hneq</span>. <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLImp"><span class="id" title="constructor">ImpLImp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>, <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">otac</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#contraction"><span class="id" title="lemma">contraction</span></a>, <a class="idref" href="ISL.SequentProps.html#ImpLImp_dup"><span class="id" title="lemma">ImpLImp_dup</span></a>. <span class="id" title="var">backward</span>. <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> <span class="id" title="var">Heq</span>) 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>, <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#ImpR_rev"><span class="id" title="lemma">ImpR_rev</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> (<a class="idref" href="ISL.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hin0</span>)) 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">HP</span>ψ1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">otac</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#imp_cut"><span class="id" title="lemma">imp_cut</span></a> <span class="id" title="keyword">with</span> (φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2). <span class="id" title="var">backward</span>. <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> <span class="id" title="var">Heq</span>) 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>, <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">exch</span> 0. <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> (<a class="idref" href="ISL.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hin0</span>)) 1. <span class="id" title="tactic">exact</span> <span class="id" title="var">HP</span>ψ2.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a>φ <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ0<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq'</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq'</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Heq'</span>. <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> <span class="id" title="var">Heq</span>) 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">Γ</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">Γ0</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">Γ0</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">IHw</span> (<a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> φ1)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#BoxR"><span class="id" title="constructor">BoxR</span></a>, (<span class="id" title="var">IHw</span>(ψ0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#open_boxes_R"><span class="id" title="lemma">open_boxes_R</span></a>, <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">exact</span> <span class="id" title="var">HP</span>ψ1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--  <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHw</span>(ψ0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">exact</span> <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#weakening"><span class="id" title="lemma">weakening</span></a>, <span class="id" title="var">HP</span>ψ2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;*  <span class="comment">(*&nbsp;(V-f&nbsp;)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hneq</span>. <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpBox"><span class="id" title="constructor">ImpBox</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">otac</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#ImpR_rev"><span class="id" title="lemma">ImpR_rev</span></a>, <a class="idref" href="ISL.SequentProps.html#open_boxes_R"><span class="id" title="lemma">open_boxes_R</span></a>, <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#ImpLBox_prev"><span class="id" title="lemma">ImpLBox_prev</span></a> <span class="id" title="keyword">with</span> φ1. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#weakening"><span class="id" title="lemma">weakening</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">backward</span>. <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> <span class="id" title="var">Heq</span>) 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>, <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">exch</span> 0. <span class="id" title="var">exch</span> 1. <span class="id" title="var">box_tac</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#In_open_boxes"><span class="id" title="lemma">In_open_boxes</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin0</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> (<a class="idref" href="ISL.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hin0</span>)) 2. <span class="id" title="tactic">exact</span> <span class="id" title="var">HP</span>ψ1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">otac</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#ImpLBox_prev"><span class="id" title="lemma">ImpLBox_prev</span></a> <span class="id" title="keyword">with</span> φ1. <span class="id" title="var">backward</span>. <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> <span class="id" title="var">Heq</span>) 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>, <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">exch</span> 0. <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> (<a class="idref" href="ISL.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hin0</span>)) 1. <span class="id" title="tactic">exact</span> <span class="id" title="var">HP</span>ψ2.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> <span class="id" title="var">Heq</span>) 0. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#open_boxes_add"><span class="id" title="lemma">open_boxes_add</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HP</span>ψ. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HP</span>ψ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#BoxR"><span class="id" title="constructor">BoxR</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">otac</span> <span class="id" title="var">Heq</span>. <span class="comment">(*&nbsp;todo:&nbsp;count&nbsp;rhs&nbsp;twice&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#open_boxes_R"><span class="id" title="lemma">open_boxes_R</span></a>, <a class="idref" href="ISL.SequentProps.html#weakening"><span class="id" title="lemma">weakening</span></a>, <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>, <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">exact</span> <span class="id" title="var">HP</span>ψ.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLVar"><span class="id" title="constructor">ImpLVar</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHW</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">otac</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> (<a class="idref" href="ISL.SequentProps.html#imp_cut"><span class="id" title="lemma">imp_cut</span></a> (<a class="idref" href="ISL.Formulas.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">p</span>)). <span class="id" title="var">exch</span> 0; <span class="id" title="tactic">exact</span> <span class="id" title="var">HP</span>ψ.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLAnd"><span class="id" title="constructor">ImpLAnd</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHW</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">otac</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#ImpLAnd_rev"><span class="id" title="lemma">ImpLAnd_rev</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">exact</span> <span class="id" title="var">HP</span>ψ.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLOr"><span class="id" title="constructor">ImpLOr</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHW</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">otac</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">exch</span> 0. <span class="id" title="var">exch</span> 1. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#ImpLOr_rev"><span class="id" title="lemma">ImpLOr_rev</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">exact</span> <span class="id" title="var">HP</span>ψ.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLImp"><span class="id" title="constructor">ImpLImp</span></a>; [<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">otac</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">eapply</span> <a class="idref" href="ISL.SequentProps.html#ImpLImp_prev"><span class="id" title="lemma">ImpLImp_prev</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">exact</span> <span class="id" title="var">HP</span>ψ.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpBox"><span class="id" title="constructor">ImpBox</span></a>. <span class="id" title="tactic">trivial</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="var">otac</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">eapply</span> <a class="idref" href="ISL.SequentProps.html#ImpLBox_prev"><span class="id" title="lemma">ImpLBox_prev</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">exact</span> <span class="id" title="var">HP</span>ψ.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Program.Equality.html#"><span class="id" title="library">Coq.Program.Equality</span></a>.<br/>
<span class="comment">(*&nbsp;(VIII)&nbsp;*)</span><br/>
- <span class="id" title="var">remember</span> (<span class="id" title="var">Γ</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> φ) <span class="id" title="keyword">as</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Heq</span>: <span class="id" title="var">Γ</span> <span class="id" title="notation">≡</span> <span class="id" title="var">Γ'</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span> <a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> φ <span class="id" title="notation">]}</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hin</span> : <span class="id" title="notation">(</span><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> φ<span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <span class="id" title="var">Γ'</span>)<span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rw</span> <span class="id" title="var">Heq</span> 0. <span class="id" title="tactic">destruct</span> <span class="id" title="var">HP</span>ψ.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">forward</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">forward</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#AndR"><span class="id" title="constructor">AndR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#env_add_remove"><span class="id" title="lemma">env_add_remove</span></a>. <span class="id" title="var">otac</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> <span class="id" title="var">Heq</span>) 0. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#BoxR"><span class="id" title="constructor">BoxR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">peapply</span> <span class="id" title="var">HP</span>ψ1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">otac</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#BoxR"><span class="id" title="constructor">BoxR</span></a>. <span class="id" title="var">box_tac</span>. <span class="id" title="var">peapply</span> <span class="id" title="var">HP</span>φ. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#open_boxes_remove"><span class="id" title="lemma">open_boxes_remove</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">peapply</span> <span class="id" title="var">HP</span>ψ2.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#AndL"><span class="id" title="constructor">AndL</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">otac</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#AndL_rev"><span class="id" title="lemma">AndL_rev</span></a>. <span class="id" title="var">backward</span>. <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> <span class="id" title="var">Heq</span>) 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#BoxR"><span class="id" title="constructor">BoxR</span></a>, <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">backward</span>. <span class="id" title="var">peapply</span> <span class="id" title="var">HP</span>ψ.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrR1"><span class="id" title="constructor">OrR1</span></a>, <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">otac</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> <span class="id" title="var">Heq</span>) 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#BoxR"><span class="id" title="constructor">BoxR</span></a>, <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">peapply</span> <span class="id" title="var">HP</span>ψ.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrR2"><span class="id" title="constructor">OrR2</span></a>, <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">otac</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> <span class="id" title="var">Heq</span>) 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#BoxR"><span class="id" title="constructor">BoxR</span></a>, <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">peapply</span> <span class="id" title="var">HP</span>ψ.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#BoxR"><span class="id" title="constructor">BoxR</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hin'</span> : <span class="id" title="notation">(</span>φ0 <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> ψ<span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><span class="id" title="notation">(</span><span class="id" title="var">Γ0</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> φ0 <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> ψ<span class="id" title="notation">)</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> φ<span class="id" title="notation">]}</span><span class="id" title="notation">)</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#in_difference"><span class="id" title="lemma">in_difference</span></a>; [<span class="id" title="tactic">discriminate</span>|<span class="id" title="var">ms</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">HP</span>φ' : <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">(</span></a><span class="id" title="notation">((</span><span class="id" title="var">Γ0</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> φ0 <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> ψ<span class="id" title="notation">)</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> φ<span class="id" title="notation">]}</span><span class="id" title="notation">)</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span>φ0 <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> ψ<span class="id" title="notation">]}</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> φ0 <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> ψ<a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> φ)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> (<a class="idref" href="ISL.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">_</span> (φ0 <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a>ψ) <span class="id" title="var">Hin'</span>)) 0; <span class="id" title="var">peapply</span> <span class="id" title="var">HP</span>φ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HP</span> := (<a class="idref" href="ISL.SequentProps.html#OrL_rev"><span class="id" title="lemma">OrL_rev</span></a>  <span class="id" title="var">_</span> φ0 ψ (<a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a>φ) <span class="id" title="var">HP</span>φ')).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrL"><span class="id" title="constructor">OrL</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">otac</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">peapply</span> <span class="id" title="var">HP</span><span class="id" title="notation">.1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">exch</span> 0. <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> (<a class="idref" href="ISL.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hin0</span>)) 1. <span class="id" title="tactic">exact</span> <span class="id" title="var">HP</span>ψ1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">otac</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">peapply</span> <span class="id" title="var">HP</span><span class="id" title="notation">.2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">exch</span> 0. <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> (<a class="idref" href="ISL.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hin0</span>)) 1. <span class="id" title="tactic">exact</span> <span class="id" title="var">HP</span>ψ2.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> <span class="id" title="var">Heq</span>) 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>, <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">otac</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#weakening"><span class="id" title="lemma">weakening</span></a>, <a class="idref" href="ISL.Sequents.html#BoxR"><span class="id" title="constructor">BoxR</span></a>,  <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HH</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">HP</span>ψ.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">do</span> 2 <span class="id" title="var">forward</span>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLVar"><span class="id" title="constructor">ImpLVar</span></a>, <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">otac</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#imp_cut"><span class="id" title="lemma">imp_cut</span></a> <span class="id" title="keyword">with</span> (φ := <a class="idref" href="ISL.Formulas.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">p</span>). <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HH</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#BoxR"><span class="id" title="constructor">BoxR</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HP</span>φ. <span class="id" title="var">peapply</span> <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">exch</span> 0; <span class="id" title="var">exch</span> 1. <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> (<a class="idref" href="ISL.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hin1</span>)) 2. <span class="id" title="tactic">exact</span> <span class="id" title="var">HP</span>ψ.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLAnd"><span class="id" title="constructor">ImpLAnd</span></a>, <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">otac</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#BoxR"><span class="id" title="constructor">BoxR</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HP</span>φ. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#ImpLAnd_rev"><span class="id" title="lemma">ImpLAnd_rev</span></a>. <span class="id" title="var">backward</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HH</span>. <span class="id" title="var">peapply</span> <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">exch</span> 0. <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> (<a class="idref" href="ISL.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hin0</span>)) 1. <span class="id" title="tactic">exact</span> <span class="id" title="var">HP</span>ψ.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLOr"><span class="id" title="constructor">ImpLOr</span></a>, <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">otac</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#BoxR"><span class="id" title="constructor">BoxR</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HP</span>φ. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#ImpLOr_rev"><span class="id" title="lemma">ImpLOr_rev</span></a>. <span class="id" title="var">backward</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HH</span>. <span class="id" title="var">peapply</span> <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">exch</span> 0. <span class="id" title="var">exch</span> 1. <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> (<a class="idref" href="ISL.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hin0</span>)) 2. <span class="id" title="tactic">exact</span> <span class="id" title="var">HP</span>ψ.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLImp"><span class="id" title="constructor">ImpLImp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>, <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">otac</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#contraction"><span class="id" title="lemma">contraction</span></a>, <a class="idref" href="ISL.SequentProps.html#ImpLImp_dup"><span class="id" title="lemma">ImpLImp_dup</span></a>. <span class="id" title="var">backward</span>. <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> <span class="id" title="var">Heq</span>) 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#BoxR"><span class="id" title="constructor">BoxR</span></a>, <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#ImpR_rev"><span class="id" title="lemma">ImpR_rev</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> (<a class="idref" href="ISL.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hin0</span>)) 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">HP</span>ψ1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">otac</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#imp_cut"><span class="id" title="lemma">imp_cut</span></a> <span class="id" title="keyword">with</span> (φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2). <span class="id" title="var">backward</span>. <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> <span class="id" title="var">Heq</span>) 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#BoxR"><span class="id" title="constructor">BoxR</span></a>, <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">exch</span> 0. <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> (<a class="idref" href="ISL.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hin0</span>)) 1. <span class="id" title="tactic">exact</span> <span class="id" title="var">HP</span>ψ2.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;(VIII-b)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpBox"><span class="id" title="constructor">ImpBox</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="comment">(*&nbsp;π0&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">otac</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#ImpLBox_prev"><span class="id" title="lemma">ImpLBox_prev</span></a> <span class="id" title="keyword">with</span> (φ1 := φ1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#weakening"><span class="id" title="lemma">weakening</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#open_boxes_R"><span class="id" title="lemma">open_boxes_R</span></a>. <span class="id" title="var">backward</span>. <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> <span class="id" title="var">Heq</span>) 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#BoxR"><span class="id" title="constructor">BoxR</span></a>, <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="comment">(*&nbsp;π1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">IHw</span> φ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">exch</span> 1; <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#weakening"><span class="id" title="lemma">weakening</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#ImpLBox_prev"><span class="id" title="lemma">ImpLBox_prev</span></a> <span class="id" title="keyword">with</span> (φ1 := φ1). <span class="id" title="var">exch</span> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2) <span class="id" title="keyword">with</span> (<a class="idref" href="ISL.Environments.html#324ee050da821ba5ae035c28136d140a"><span class="id" title="notation">⊙</span></a> <a class="idref" href="ISL.Environments.html#324ee050da821ba5ae035c28136d140a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2<a class="idref" href="ISL.Environments.html#324ee050da821ba5ae035c28136d140a"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="ISL.Environments.html#open_boxes_add"><span class="id" title="lemma">open_boxes_add</span></a> (<span class="id" title="var">Γ0</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a>φ<span class="id" title="notation">]}</span>)  (<a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">Heq0</span> : <span class="id" title="notation">(</span><span class="id" title="var">Γ0</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> φ<span class="id" title="notation">]}</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2<a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">≡</span> <span class="id" title="var">Γ</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#env_replace"><span class="id" title="lemma">env_replace</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rw</span> (<a class="idref" href="ISL.Environments.html#proper_open_boxes"><span class="id" title="instance">proper_open_boxes</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heq0</span>) 1. <span class="id" title="tactic">exact</span> <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">box_tac</span>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#weakening"><span class="id" title="lemma">weakening</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="var">exch</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hin1</span> : φ <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#ea7b322b05c6af494383fa784c2b0124"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">Γ0</span>) <span class="id" title="tactic">by</span>(<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#In_open_boxes"><span class="id" title="lemma">In_open_boxes</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin0</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">simpl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> (<a class="idref" href="ISL.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hin1</span>)) 2. <span class="id" title="tactic">exact</span> <span class="id" title="var">HP</span>ψ1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">otac</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#ImpLBox_prev"><span class="id" title="lemma">ImpLBox_prev</span></a> <span class="id" title="keyword">with</span> (φ1 := φ1). <span class="id" title="var">backward</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> <span class="id" title="var">Heq</span>) 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#BoxR"><span class="id" title="constructor">BoxR</span></a>, <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">exch</span> 0. <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> (<a class="idref" href="ISL.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hin0</span>)) 1. <span class="id" title="tactic">exact</span> <span class="id" title="var">HP</span>ψ2.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;(VIII-c)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="var">rw</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> <span class="id" title="var">Heq</span>) 0. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#open_boxes_add"><span class="id" title="lemma">open_boxes_add</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HP</span>ψ. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HP</span>ψ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#BoxR"><span class="id" title="constructor">BoxR</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">otac</span> <span class="id" title="var">Heq</span>. <span class="comment">(*&nbsp;todo:&nbsp;count&nbsp;rhs&nbsp;twice&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#open_boxes_R"><span class="id" title="lemma">open_boxes_R</span></a>, <a class="idref" href="ISL.SequentProps.html#weakening"><span class="id" title="lemma">weakening</span></a>, <a class="idref" href="ISL.Sequents.html#BoxR"><span class="id" title="constructor">BoxR</span></a>, <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHw</span> φ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#weakening"><span class="id" title="lemma">weakening</span></a>, <span class="id" title="var">HP</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#weakening"><span class="id" title="lemma">weakening</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">exact</span> <span class="id" title="var">HP</span>ψ.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Multiplicative&nbsp;cut&nbsp;rule&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a id="cut" class="idref" href="#cut"><span class="id" title="lemma">cut</span></a> <a id="d5be501d00a8c9c4c28302f544699b7d" class="idref" href="#d5be501d00a8c9c4c28302f544699b7d"><span class="id" title="binder">Γ</span></a> <a id="69d9a0d68e3b612810b8eb7f75abaee8" class="idref" href="#69d9a0d68e3b612810b8eb7f75abaee8"><span class="id" title="binder">Γ'</span></a> <a id="ec4b304ddf42d851d75fca6932b4d645" class="idref" href="#ec4b304ddf42d851d75fca6932b4d645"><span class="id" title="binder">φ</span></a> <a id="047a8d8efdaac6d7e4669a72e7e6442f" class="idref" href="#047a8d8efdaac6d7e4669a72e7e6442f"><span class="id" title="binder">ψ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="ISL.Cut.html#d5be501d00a8c9c4c28302f544699b7d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.Cut.html#ec4b304ddf42d851d75fca6932b4d645"><span class="id" title="variable">φ</span></a>  <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Cut.html#69d9a0d68e3b612810b8eb7f75abaee8"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Cut.html#ec4b304ddf42d851d75fca6932b4d645"><span class="id" title="variable">φ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.Cut.html#047a8d8efdaac6d7e4669a72e7e6442f"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ISL.Cut.html#d5be501d00a8c9c4c28302f544699b7d"><span class="id" title="variable">Γ</span></a> <span class="id" title="notation">⊎</span> <a class="idref" href="ISL.Cut.html#69d9a0d68e3b612810b8eb7f75abaee8"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.Cut.html#047a8d8efdaac6d7e4669a72e7e6442f"><span class="id" title="variable">ψ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> π1 π2. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Cut.html#additive_cut"><span class="id" title="lemma">additive_cut</span></a> <span class="id" title="keyword">with</span> φ.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#generalised_weakeningR"><span class="id" title="lemma">generalised_weakeningR</span></a>, π1.<br/>
- <span class="id" title="tactic">replace</span> (<span class="id" title="var">Γ</span> <span class="id" title="notation">⊎</span> <span class="id" title="var">Γ'</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> φ) <span class="id" title="keyword">with</span> (<span class="id" title="var">Γ</span> <span class="id" title="notation">⊎</span> <span class="id" title="notation">(</span><span class="id" title="var">Γ'</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> φ<span class="id" title="notation">)</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#generalised_weakeningL"><span class="id" title="lemma">generalised_weakeningL</span></a>, π2.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
